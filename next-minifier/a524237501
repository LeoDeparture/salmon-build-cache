{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"1a77\"],{\"84ym\":function(e,t,r){var a,n,o;window,e.exports=(a=r(\"17x9\"),n=r(\"x7+S\"),o=r(\"q1tI\"),function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=3)}([function(e,t){e.exports=a},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,r){\"use strict\";r.r(t);var a=r(1),n=r(2),o=r.n(n),i=r(0),s=r.n(i);function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);\"function\"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){h(e,t,r[t])})}return e}function l(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){function t(e){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),n=p(t).call(this,e),r=!n||\"object\"!==u(n)&&\"function\"!=typeof n?f(this):n,h(f(r),\"onClickPick\",function(e){e.stopPropagation(),e.preventDefault();var t=r.state,a=t.client,n=t.picker,o=r.props,i=o.options,s=o.mode,u=o.file,c=o.security,l=o.preload;r.callPicker(s,i,u,c,l,a,n).then(r.onFinished).catch(r.onFail)}),h(f(r),\"onFinished\",function(e){var t=r.props.onSuccess;\"function\"==typeof t&&e&&t(e)}),h(f(r),\"onFail\",function(e){var t=r.props.onError;\"function\"==typeof t?t(e):console.error(e)}),h(f(r),\"callPicker\",function(e,t,r,a,n,o,i){var s=t.url,u=t.handle;return delete t.handle,delete t.url,\"transform\"===e?new Promise(function(e,r){try{e(o.transform(u,t))}catch(e){r(e)}}):\"retrieve\"===e?o.retrieve(u,t):\"metadata\"===e?o.metadata(u,t):\"storeUrl\"===e?o.storeURL(s,t):\"upload\"===e?o.upload(r,t):\"remove\"===e?o.remove(u,a):new Promise(function(e){n?(i.open(),e()):o.picker(c({},t,{onUploadDone:e})).open()})});var o=r.props,i=o.apikey,s=o.security,l=o.cname,d=o.sessionCache,m=o.preload,y=o.options,v=a.init(i,{security:s,cname:l,sessionCache:d});return r.state={client:v,picker:m?v.picker(c({},y,{onUploadDone:r.onFinished})):null},r.onFinished=r.onFinished.bind(f(r)),r.onFail=r.onFail.bind(f(r)),r}var r,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,n.Component),r=t,(i=[{key:\"render\",value:function(){var e=this.props,t=e.buttonClass,r=e.buttonText,a=e.link,n=e.children,i=e.render;if(i)return o.a.createElement(i,{onPick:this.onClickPick});var s=a?\"a\":\"button\";return o.a.createElement(s,{name:\"filestack\",onClick:this.onClickPick,className:t},n||r)}}])&&l(r.prototype,i),t}();h(m,\"defaultProps\",{file:null,link:!1,buttonText:\"Pick file\",buttonClass:\"\",onSuccess:function(e){return console.log(e)},onError:function(e){return console.error(e)},mode:\"pick\",options:{},security:null,children:null,render:null,cname:null,sessionCache:!1,preload:!1}),h(m,\"propTypes\",{file:s.a.objectOf(s.a.any),apikey:s.a.string.isRequired,link:s.a.bool,mode:s.a.string,buttonText:s.a.string,buttonClass:s.a.string,onSuccess:s.a.func,onError:s.a.func,options:s.a.objectOf(s.a.any),security:s.a.objectOf(s.a.any),children:s.a.node,render:s.a.func,cname:s.a.string,sessionCache:s.a.bool,preload:s.a.bool});var y=m;r.d(t,\"client\",function(){return a}),t.default=y}]))},\"x7+S\":function(e,t,r){\"use strict\";r.r(t),function(e){r.d(t,\"init\",function(){return qo}),r.d(t,\"version\",function(){return Uo}),r.d(t,\"TransformSchema\",function(){return Jt}),r.d(t,\"getSecurity\",function(){return n}),r.d(t,\"EAlignOptions\",function(){return $n}),r.d(t,\"EAlignFacesOptions\",function(){return Rn}),r.d(t,\"EFitOptions\",function(){return Tn}),r.d(t,\"EBlurMode\",function(){return Cn}),r.d(t,\"EShapeType\",function(){return zn}),r.d(t,\"ENoiseType\",function(){return qn}),r.d(t,\"EStyleType\",function(){return Un}),r.d(t,\"EColorspaceType\",function(){return Nn}),r.d(t,\"ECropfacesType\",function(){return Ln}),r.d(t,\"EVideoTypes\",function(){return Vn}),r.d(t,\"EUrlscreenshotAgent\",function(){return Mn}),r.d(t,\"EUrlscreenshotMode\",function(){return Qn}),r.d(t,\"EUrlscreenshotOrientation\",function(){return Hn}),r.d(t,\"EVideoLocations\",function(){return Bn}),r.d(t,\"EVideoAccess\",function(){return Kn}),r.d(t,\"EVideoAccessMode\",function(){return Jn}),r.d(t,\"transform\",function(){return Gn}),r.d(t,\"AlignOptions\",function(){return mn}),r.d(t,\"AlignFacesOptions\",function(){return yn}),r.d(t,\"FitOptions\",function(){return vn}),r.d(t,\"BlurMode\",function(){return gn}),r.d(t,\"ShapeType\",function(){return bn}),r.d(t,\"NoiseType\",function(){return Pn}),r.d(t,\"StyleType\",function(){return wn}),r.d(t,\"ColorspaceType\",function(){return En}),r.d(t,\"CropfacesType\",function(){return _n}),r.d(t,\"VideoTypes\",function(){return kn}),r.d(t,\"URLScreenshotAgent\",function(){return xn}),r.d(t,\"URLScreenshotMode\",function(){return Sn}),r.d(t,\"URLScreenshotOrientation\",function(){return On}),r.d(t,\"Locations\",function(){return jn}),r.d(t,\"VideoAccess\",function(){return Fn}),r.d(t,\"VideoAccessMode\",function(){return An}),r.d(t,\"Filelink\",function(){return Zn});var a,n=function(){console.warn(\"This method is only availale in Node runtimes\")};function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */a={urls:{fileApiUrl:\"https://www.filestackapi.com/api/file\",uploadApiUrl:\"https://upload.filestackapi.com\",cloudApiUrl:\"https://cloud.filestackapi.com\",cdnUrl:\"https://cdn.filestackcontent.com\",pickerUrl:\"https://static.filestackapi.com/picker/1.4.4/picker.js\"}};var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function u(e,t,r,a){return new(r||(r=Promise))(function(n,o){function i(e){try{u(a.next(e))}catch(t){o(t)}}function s(e){try{u(a.throw(e))}catch(t){o(t)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(i,s)}u((a=a.apply(e,t||[])).next())})}function c(e,t){var r,a,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;i;)try{if(r=1,a&&(n=2&o[0]?a.return:o[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){i.label=o[1];break}if(6===o[0]&&i.label<n[1]){i.label=n[1],n=o;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(o);break}n[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=function(e){return\"function\"==typeof e},p=function(e){return null==e},f=function(e){return e.displayName||e.name||\"<function\"+e.length+\">\"};function d(e,t){return\"function\"==typeof t?f(t):t}var h=function(e){try{return JSON.stringify(e,d,2)}catch(t){return String(e)}};function m(e,t){!0!==e&&(l(t)?t=t():p(t)&&(t='Assert failed (turn on \"Pause on exceptions\" in your Source panel)'),m.fail(t))}m.fail=function(e){throw new TypeError(\"[tcomb] \"+e)},m.stringify=h;var y=m,v=function(e){return\"string\"==typeof e},g=function(e){return Array.isArray?Array.isArray(e):e instanceof Array},b=function(e){return!p(e)&&\"object\"===o(e)&&!g(e)},P=function(e){return l(e)&&b(e.meta)},w=function(e){return P(e)?e.displayName:f(e)},E=function(e,t){y(!(e instanceof t),function(){return\"Cannot use the new operator to instantiate the type \"+w(t)})},_=function(e,t){function r(a,n){return E(this,r),n=n||[e],y(t(a),function(){return\"Invalid value \"+y.stringify(a)+\" supplied to \"+n.join(\"/\")}),a}return y(v(e),function(){return\"Invalid argument name \"+y.stringify(e)+\" supplied to irreducible(name, predicate) (expected a string)\"}),y(l(t),\"Invalid argument predicate \"+y.stringify(t)+\" supplied to irreducible(name, predicate) (expected a function)\"),r.meta={kind:\"irreducible\",name:e,predicate:t,identity:!0},r.displayName=e,r.is=t,r},k=_(\"Any\",function(){return!0}),x=_(\"Array\",g),S=function(e){return!0===e||!1===e},O=_(\"Boolean\",S),j=_(\"Date\",function(e){return e instanceof Date}),F=_(\"Error\",function(e){return e instanceof Error}),A=_(\"Function\",l),D=_(\"Nil\",p),I=function(e){return\"number\"==typeof e&&isFinite(e)&&!isNaN(e)},$=_(\"Number\",I),R=function(e){return p(e)||v(e)},T=function(e){return!P(e)||(y(O.is(e.meta.identity),function(){return\"Invalid meta identity \"+y.stringify(e.meta.identity)+\" supplied to type \"+w(e)}),e.meta.identity)},C=function(e,t,r){return P(e)?e.meta.identity||\"object\"!==o(t)||null===t?e(t,r):new e(t,r):(r=r||[f(e)],y(t instanceof e,function(){return\"Invalid value \"+h(t)+\" supplied to \"+r.join(\"/\")}),t)},z=function(e,t){return P(t)?t.is(e):e instanceof t};function q(e,t){return\"{\"+w(e)+\" | \"+f(t)+\"}\"}function U(e,t,r){y(l(e),function(){return\"Invalid argument type \"+y.stringify(e)+\" supplied to refinement(type, predicate, [name]) combinator (expected a type)\"}),y(l(t),function(){return\"Invalid argument predicate supplied to refinement(type, predicate, [name]) combinator (expected a function)\"}),y(R(r),function(){return\"Invalid argument name \"+y.stringify(r)+\" supplied to refinement(type, predicate, [name]) combinator (expected a string)\"});var a=r||q(e,t),n=T(e);function o(r,i){n&&E(this,o);var s=C(e,r,i=i||[a]);return y(t(s),function(){return\"Invalid value \"+y.stringify(r)+\" supplied to \"+i.join(\"/\")}),s}return o.meta={kind:\"subtype\",type:e,predicate:t,name:r,identity:n},o.displayName=a,o.is=function(r){return z(r,e)&&t(r)},o.update=function(e,t){return o(y.update(e,t))},o}U.getDefaultName=q;var N=U,L=N($,function(e){return e%1==0},\"Integer\"),V=_(\"Object\",b),M=_(\"RegExp\",function(e){return e instanceof RegExp}),Q=_(\"String\",v),H=_(\"Type\",P);function B(e,t){return\"{[key: \"+w(e)+\"]: \"+w(t)+\"}\"}function K(e,t,r){y(l(e),function(){return\"Invalid argument domain \"+y.stringify(e)+\" supplied to dict(domain, codomain, [name]) combinator (expected a type)\"}),y(l(t),function(){return\"Invalid argument codomain \"+y.stringify(t)+\" supplied to dict(domain, codomain, [name]) combinator (expected a type)\"}),y(R(r),function(){return\"Invalid argument name \"+y.stringify(r)+\" supplied to dict(domain, codomain, [name]) combinator (expected a string)\"});var a=r||B(e,t),n=w(e),o=w(t),i=T(e)&&T(t);function s(r,i){i=i||[a],y(b(r),function(){return\"Invalid value \"+y.stringify(r)+\" supplied to \"+i.join(\"/\")});var s=!0,u={};for(var c in r)if(r.hasOwnProperty(c)){c=C(e,c,i.concat(n));var l=r[c],p=C(t,l,i.concat(c+\": \"+o));s=s&&l===p,u[c]=p}return s&&(u=r),Object.freeze(u),u}return s.meta={kind:\"dict\",domain:e,codomain:t,name:r,identity:i},s.displayName=a,s.is=function(r){if(!b(r))return!1;for(var a in r)if(r.hasOwnProperty(a)&&(!z(a,e)||!z(r[a],t)))return!1;return!0},s.update=function(e,t){return s(y.update(e,t))},s}K.getDefaultName=B;var J=K,X=function(e,t,r){if(p(t))return e;for(var a in t)t.hasOwnProperty(a)&&(!0!==r&&y(!e.hasOwnProperty(a)||e[a]===t[a],function(){return'Invalid call to mixin(target, source, [overwrite]): cannot overwrite property \"'+a+'\" of target object'}),e[a]=t[a]);return e},Z=function(e){return P(e)&&\"union\"===e.meta.kind},G=1;function Y(e){return Object.keys(e).map(function(e){return y.stringify(e)}).join(\" | \")}function W(e,t){y(b(e),function(){return\"Invalid argument map \"+y.stringify(e)+\" supplied to enums(map, [name]) combinator (expected a dictionary of String -> String | Number)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to enums(map, [name]) combinator (expected a string)\"});var r=t||Y(e);function a(t,n){return E(this,a),n=n||[r],y(a.is(t),function(){return\"Invalid value \"+y.stringify(t)+\" supplied to \"+n.join(\"/\")+\" (expected one of \"+y.stringify(Object.keys(e))+\")\"}),t}return a.meta={kind:\"enums\",map:e,name:t,identity:!0},a.displayName=r,a.is=function(t){return e.hasOwnProperty(t)},a}W.of=function(e,t){e=v(e)?e.split(\" \"):e;var r={};return e.forEach(function(e){r[e]=e}),W(r,t)},W.getDefaultName=Y;var ee=W;function te(e){return\"Array<\"+w(e)+\">\"}function re(e,t){y(l(e),function(){return\"Invalid argument type \"+y.stringify(e)+\" supplied to list(type, [name]) combinator (expected a type)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to list(type, [name]) combinator (expected a string)\"});var r=t||te(e),a=w(e),n=T(e);function o(t,n){n=n||[r],y(g(t),function(){return\"Invalid value \"+y.stringify(t)+\" supplied to \"+n.join(\"/\")+\" (expected an array of \"+a+\")\"});for(var o=!0,i=[],s=0,u=t.length;s<u;s++){var c=t[s],l=C(e,c,n.concat(s+\": \"+a));o=o&&c===l,i.push(l)}return o&&(i=t),Object.freeze(i),i}return o.meta={kind:\"list\",type:e,name:t,identity:n},o.displayName=r,o.is=function(t){return g(t)&&t.every(function(t){return z(t,e)})},o.update=function(e,t){return o(y.update(e,t))},o}re.getDefaultName=te;var ae=re,ne=function(e){return P(e)&&\"maybe\"===e.meta.kind};function oe(e){return\"?\"+w(e)}function ie(e,t){if(ne(e)||e===k||e===D)return e;y(l(e),function(){return\"Invalid argument type \"+y.stringify(e)+\" supplied to maybe(type, [name]) combinator (expected a type)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to maybe(type, [name]) combinator (expected a string)\"});var r=t||oe(e),a=T(e);function n(t,r){return a&&E(this,n),D.is(t)?t:C(e,t,r)}return n.meta={kind:\"maybe\",type:e,name:t,identity:a},n.displayName=r,n.is=function(t){return D.is(t)||z(t,e)},n}ie.getDefaultName=oe;var se=ie;var ue=function(e){return\"{\"+Object.keys(e).map(function(t){return t+\": \"+w(e[t])}).join(\", \")+\"}\"},ce=function(e){return P(e)&&\"struct\"===e.meta.kind},le=function(e){return P(e)&&\"interface\"===e.meta.kind};function pe(e){return P(e)&&\"subtype\"===e.meta.kind}function fe(e){return pe(e)?[e.meta.predicate].concat(fe(e.meta.type)):[]}function de(e){return pe(e)?de(e.meta.type):e}var he=function(e){return{predicates:fe(e),unrefinedType:de(e)}};var me=function(e,t,r){y(l(e),function(){return\"Invalid argument combinator supplied to extend(combinator, mixins, options), expected a function\"}),y(g(t),function(){return\"Invalid argument mixins supplied to extend(combinator, mixins, options), expected an array\"});var a={},n={},o=[],i={};t.forEach(function(e,t){var r,s,u,c=he(e),l=c.unrefinedType;y(b(l)||ce(l)||le(l),function(){return\"Invalid argument mixins[\"+t+\"] supplied to extend(combinator, mixins, options), expected an object, struct, interface or a refinement (of struct or interface)\"}),r=o,s=c.predicates,Array.prototype.push.apply(r,s),X(a,b(u=l)?u:u.meta.props),X(n,l.prototype),X(i,function(e){return b(e)?null:e.meta.defaultProps}(l),!0)}),(r=e.getOptions(r)).defaultProps=X(i,r.defaultProps,!0);var s=function(e,t,r){var a=e.reduce(function(e,t){return N(e,t)},t);return r&&(a.displayName=r,a.meta.name=r),a}(o,e(a,{strict:r.strict,defaultProps:r.defaultProps}),r.name);return X(s.prototype,n),s};function ye(e){return\"Struct\"+ue(e)}function ve(e,t){return me(be,e,t)}function ge(e){return b(e)||(e=p(e)?{}:{name:e}),e.hasOwnProperty(\"strict\")||(e.strict=be.strict),e.hasOwnProperty(\"defaultProps\")||(e.defaultProps={}),e}function be(e,t){var r=(t=ge(t)).name,a=t.strict,n=t.defaultProps;y(J(Q,A).is(e),function(){return\"Invalid argument props \"+y.stringify(e)+\" supplied to struct(props, [options]) combinator (expected a dictionary String -> Type)\"}),y(R(r),function(){return\"Invalid argument name \"+y.stringify(r)+\" supplied to struct(props, [options]) combinator (expected a string)\"}),y(S(a),function(){return\"Invalid argument strict \"+y.stringify(a)+\" supplied to struct(props, [options]) combinator (expected a boolean)\"}),y(b(n),function(){return\"Invalid argument defaultProps \"+y.stringify(n)+\" supplied to struct(props, [options]) combinator (expected an object)\"});var o=r||ye(e);function i(t,r){if(i.is(t))return t;if(r=r||[o],y(b(t),function(){return\"Invalid value \"+y.stringify(t)+\" supplied to \"+r.join(\"/\")+\" (expected an object)\"}),a)for(s in t)t.hasOwnProperty(s)&&y(e.hasOwnProperty(s),function(){return'Invalid additional prop \"'+s+'\" supplied to '+r.join(\"/\")});if(!(this instanceof i))return new i(t,r);for(var s in e)if(e.hasOwnProperty(s)){var u=e[s],c=t[s];void 0===c&&(c=n[s]),this[s]=C(u,c,r.concat(s+\": \"+w(u)))}Object.freeze(this)}return i.meta={kind:\"struct\",props:e,name:r,identity:!1,strict:a,defaultProps:n},i.displayName=o,i.is=function(e){return e instanceof i},i.update=function(e,t){return new i(y.update(e,t))},i.extend=function(e,t){return ve([i].concat(e),t)},i}be.strict=!1,be.getOptions=ge,be.getDefaultName=ye,be.extend=ve;var Pe=be;function we(e){return\"[\"+e.map(w).join(\", \")+\"]\"}function Ee(e,t){y(g(e)&&e.every(l),function(){return\"Invalid argument types \"+y.stringify(e)+\" supplied to tuple(types, [name]) combinator (expected an array of types)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to tuple(types, [name]) combinator (expected a string)\"});var r=t||we(e),a=e.every(T);function n(t,a){a=a||[r],y(g(t)&&t.length===e.length,function(){return\"Invalid value \"+y.stringify(t)+\" supplied to \"+a.join(\"/\")+\" (expected an array of length \"+e.length+\")\"});for(var n=!0,o=[],i=0,s=e.length;i<s;i++){var u=e[i],c=t[i],l=C(u,c,a.concat(i+\": \"+w(u)));n=n&&c===l,o.push(l)}return n&&(o=t),Object.freeze(o),o}return n.meta={kind:\"tuple\",types:e,name:t,identity:a},n.displayName=r,n.is=function(t){return g(t)&&t.length===e.length&&e.every(function(e,r){return z(t[r],e)})},n.update=function(e,t){return n(y.update(e,t))},n}Ee.getDefaultName=we;var _e=Ee;function ke(e){return e.map(w).join(\" | \")}function xe(e,t){y(g(e)&&e.every(l)&&e.length>=2,function(){return\"Invalid argument types \"+y.stringify(e)+\" supplied to union(types, [name]) combinator (expected an array of at least 2 types)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to union(types, [name]) combinator (expected a string)\"});var r=t||ke(e),a=e.every(T);function n(e,t){var o=n.dispatch(e);return!o&&n.is(e)?e:(a&&E(this,n),t=t||[r],y(l(o),function(){return\"Invalid value \"+y.stringify(e)+\" supplied to \"+t.join(\"/\")+\" (no constructor returned by dispatch)\"}),t[t.length-1]+=\"(\"+w(o)+\")\",C(o,e,t))}return n.meta={kind:\"union\",types:e,name:t,identity:a},n.displayName=r,n.is=function(t){return e.some(function(e){return z(t,e)})},n.dispatch=function(t){for(var r=0,a=e.length;r<a;r++){var n=e[r];if(Z(n)){var o=n.dispatch(t);if(!p(o))return o}else if(z(t,n))return n}},n.update=function(e,t){return n(y.update(e,t))},n}xe.getDefaultName=ke;var Se=xe;function Oe(e,t){return\"(\"+e.map(w).join(\", \")+\") => \"+w(t)}function je(e){return A.is(e)&&b(e.instrumentation)}function Fe(e){for(var t=e.length,r=!1,a=t-1;a>=0;a--){var n=e[a];if(!P(n)||\"maybe\"!==n.meta.kind)return a+1;r=!0}return r?0:t}function Ae(e,t,r){e=g(e)?e:[e],y(ae(A).is(e),function(){return\"Invalid argument domain \"+y.stringify(e)+\" supplied to func(domain, codomain, [name]) combinator (expected an array of types)\"}),y(A.is(t),function(){return\"Invalid argument codomain \"+y.stringify(t)+\" supplied to func(domain, codomain, [name]) combinator (expected a type)\"}),y(R(r),function(){return\"Invalid argument name \"+y.stringify(r)+\" supplied to func(domain, codomain, [name]) combinator (expected a string)\"});var a=r||Oe(e,t),n=e.length,o=Fe(e);function i(e,t){return je(e)?(t=t||[a],y(i.is(e),function(){return\"Invalid value \"+y.stringify(e)+\" supplied to \"+t.join(\"/\")}),e):i.of(e)}return i.meta={kind:\"func\",domain:e,codomain:t,name:r,identity:!0},i.displayName=a,i.is=function(r){return je(r)&&r.instrumentation.domain.length===n&&r.instrumentation.domain.every(function(t,r){return t===e[r]})&&r.instrumentation.codomain===t},i.of=function(r,s){if(y(A.is(r),function(){return\"Invalid argument f supplied to func.of \"+a+\" (expected a function)\"}),y(p(s)||S(s),function(){return\"Invalid argument curried \"+y.stringify(s)+\" supplied to func.of \"+a+\" (expected a boolean)\"}),i.is(r))return r;function u(){var i=Array.prototype.slice.call(arguments),u=i.length,c=s?u:Math.max(u,o);if(_e(e.slice(0,c),\"arguments of function \"+a)(i),s&&u<n){y(u>0,\"Invalid arguments.length = 0 for curried function \"+a);var l=Function.prototype.bind.apply(r,[this].concat(i));return Ae(e.slice(u),t).of(l,!0)}return C(t,r.apply(this,i))}return u.instrumentation={domain:e,codomain:t,f:r},u.displayName=f(r),u},i}Ae.getDefaultName=Oe,Ae.getOptionalArgumentsIndex=Fe;var De=Ae,Ie=T;function $e(e){return e.map(w).join(\" & \")}function Re(e,t){y(g(e)&&e.every(l)&&e.length>=2,function(){return\"Invalid argument types \"+y.stringify(e)+\" supplied to intersection(types, [name]) combinator (expected an array of at least 2 types)\"}),y(R(t),function(){return\"Invalid argument name \"+y.stringify(t)+\" supplied to intersection(types, [name]) combinator (expected a string)\"});var r=t||$e(e),a=e.every(Ie);function n(e,t){return a&&T(this,n),t=t||[r],y(n.is(e),function(){return\"Invalid value \"+y.stringify(e)+\" supplied to \"+t.join(\"/\")}),e}return n.meta={kind:\"intersection\",types:e,name:t,identity:a},n.displayName=r,n.is=function(t){return e.every(function(e){return z(t,e)})},n.update=function(e,t){return n(y.update(e,t))},n}Re.getDefaultName=$e;var Te=Re;var Ce=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e};function ze(e,t){return me(Ue,e,t)}function qe(e){return b(e)||(e=p(e)?{}:{name:e}),e.hasOwnProperty(\"strict\")||(e.strict=Ue.strict),e}function Ue(e,t){var r=(t=qe(t)).name,a=t.strict;y(J(Q,A).is(e),function(){return\"Invalid argument props \"+y.stringify(e)+\" supplied to interface(props, [options]) combinator (expected a dictionary String -> Type)\"}),y(R(r),function(){return\"Invalid argument name \"+y.stringify(r)+\" supplied to interface(props, [options]) combinator (expected a string)\"}),y(S(a),function(){return\"Invalid argument strict \"+y.stringify(a)+\" supplied to struct(props, [options]) combinator (expected a boolean)\"});var n=r||ue(e),o=Object.keys(e).map(function(t){return e[t]}).every(T);function i(t,r){if(r=r||[n],y(!p(t),function(){return\"Invalid value \"+t+\" supplied to \"+r.join(\"/\")}),a)for(var i in t)y(e.hasOwnProperty(i),function(){return'Invalid additional prop \"'+i+'\" supplied to '+r.join(\"/\")});var s=!0,u=o?{}:Ce({},t);for(var c in e){var l=e[c],f=t[c],d=C(l,f,r.concat(c+\": \"+w(l)));s=s&&f===d,u[c]=d}return s&&(u=t),Object.freeze(u),u}return i.meta={kind:\"interface\",props:e,name:r,identity:o,strict:a},i.displayName=n,i.is=function(t){if(p(t))return!1;if(a)for(var r in t)if(!e.hasOwnProperty(r))return!1;for(var n in e)if(!z(t[n],e[n]))return!1;return!0},i.update=function(e,t){return i(y.update(e,t))},i.extend=function(e,t){return ze([i].concat(e),t)},i}Ue.strict=!1,Ue.getOptions=qe,Ue.getDefaultName=ue,Ue.extend=ze;var Ne=Ue;function Le(e){return b(e)?e instanceof Date||e instanceof RegExp?e:Ce({},e):g(e)?e.concat():e}function Ve(e){return Qe.commands.hasOwnProperty(e)}function Me(e){return Qe.commands[e]}function Qe(e,t){y(b(t),function(){return\"Invalid argument patch \"+y.stringify(t)+\" supplied to function update(instance, patch): expected an object containing commands\"});var r,a=e,n=!1;for(var o in t)t.hasOwnProperty(o)&&(Ve(o)?(r=Me(o)(t[o],a))!==e?(n=!0,a=r):a=e:(a===e&&(a=Le(e)),r=Qe(a[o],t[o]),n=n||r!==a[o],a[o]=r));return n?a:e}Qe.commands={$apply:function(e,t){return y(l(e),\"Invalid argument f supplied to immutability helper { $apply: f } (expected a function)\"),e(t)},$push:function(e,t){return y(g(e),\"Invalid argument elements supplied to immutability helper { $push: elements } (expected an array)\"),y(g(t),\"Invalid value supplied to immutability helper $push (expected an array)\"),e.length>0?t.concat(e):t},$remove:function(e,t){if(y(g(e),\"Invalid argument keys supplied to immutability helper { $remove: keys } (expected an array)\"),y(b(t),\"Invalid value supplied to immutability helper $remove (expected an object)\"),e.length>0){t=Le(t);for(var r=0,a=e.length;r<a;r++)delete t[e[r]]}return t},$set:function(e){return e},$splice:function(e,t){return y(g(e)&&e.every(g),\"Invalid argument splices supplied to immutability helper { $splice: splices } (expected an array of arrays)\"),y(g(t),\"Invalid value supplied to immutability helper $splice (expected an array)\"),e.length>0?(t=Le(t),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)):t},$swap:function(e,t){if(y(b(e),\"Invalid argument config supplied to immutability helper { $swap: config } (expected an object)\"),y(I(e.from),\"Invalid argument config.from supplied to immutability helper { $swap: config } (expected a number)\"),y(I(e.to),\"Invalid argument config.to supplied to immutability helper { $swap: config } (expected a number)\"),y(g(t),\"Invalid value supplied to immutability helper $swap (expected an array)\"),e.from!==e.to){var r=(t=Le(t))[e.to];t[e.to]=t[e.from],t[e.from]=r}return t},$unshift:function(e,t){return y(g(e),\"Invalid argument elements supplied to immutability helper {$unshift: elements} (expected an array)\"),y(g(t),\"Invalid value supplied to immutability helper $unshift (expected an array)\"),e.length>0?e.concat(t):t},$merge:function(e,t){var r=!1,a=Le(t);for(var n in e)e.hasOwnProperty(n)&&(a[n]=e[n],r=r||a[n]!==t[n]);return r?a:t}};var He=Qe;\n/*! @preserve\n *\n * tcomb.js - Type checking and DDD for JavaScript\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Giulio Canti\n *\n */\ny.Any=k,y.Array=x,y.Boolean=O,y.Date=j,y.Error=F,y.Function=A,y.Nil=D,y.Number=$,y.Integer=L,y.IntegerT=y.Integer,y.Object=V,y.RegExp=M,y.String=Q,y.Type=H,y.TypeT=y.Type,y.Arr=y.Array,y.Bool=y.Boolean,y.Dat=y.Date,y.Err=y.Error,y.Func=y.Function,y.Num=y.Number,y.Obj=y.Object,y.Re=y.RegExp,y.Str=y.String,y.dict=J,y.declare=function(e){var t;function r(a,n){return y(!p(t),function(){return\"Type declared but not defined, don't forget to call .define on every declared type\"}),Z(t)&&y(t.dispatch===r.dispatch,function(){return\"Please define the custom \"+e+\".dispatch function before calling \"+e+\".define()\"}),t(a,n)}return y(R(e),function(){return\"Invalid argument name \"+e+\" supplied to declare([name]) (expected a string)\"}),r.define=function(a){return y(P(a),function(){return\"Invalid argument type \"+y.stringify(a)+\" supplied to define(type) (expected a type)\"}),y(p(t),function(){return\"Declare.define(type) can only be invoked once\"}),Z(a)&&r.hasOwnProperty(\"dispatch\")&&(a.dispatch=r.dispatch),X(r,t=a,!0),e&&(t.displayName=r.displayName=e,r.meta.name=e),r.meta.identity=t.meta.identity,r.prototype=t.prototype,r},r.displayName=e||w(r)+\"$\"+G++,r.meta={identity:!1},r.prototype=null,r},y.enums=ee,y.irreducible=_,y.list=ae,y.maybe=se,y.refinement=N,y.struct=Pe,y.tuple=_e,y.union=Se,y.func=De,y.intersection=Te,y.subtype=y.refinement,y.inter=Ne,y.interface=y.inter,y.assert=y,y.update=He,y.mixin=X,y.isType=P,y.is=z,y.getTypeName=w,y.match=function(e){for(var t,r,a,n,o=1,i=arguments.length;o<i;)if(t=arguments[o],r=arguments[o+1],a=arguments[o+2],l(a)&&!P(a)?o+=3:(a=r,r=k.is,o+=2),n=(n||0)+1,y(P(t),function(){return\"Invalid type in clause #\"+n}),y(l(r),function(){return\"Invalid guard in clause #\"+n}),y(l(a),function(){return\"Invalid block in clause #\"+n}),t.is(e)&&r(e))return a(e);y.fail(\"Match error\")};var Be=y,Ke=Be.stringify,Je={},Xe=Be.struct({message:Be.Any,actual:Be.Any,expected:Be.Any,path:Be.list(Be.union([Be.String,Be.Number]))},\"ValidationError\");function Ze(e,t,r,a){return Be.Function.is(t.getValidationErrorMessage)?t.getValidationErrorMessage(e,r,a):function(e,t,r){var a=Be.getTypeName(t),n=r.length?\"/\"+r.join(\"/\")+\": \"+a:a;return\"Invalid value \"+Ke(e)+\" supplied to \"+n}(e,t,r)}Xe.of=function(e,t,r,a){return new Xe({message:Ze(e,t,r,a),actual:e,expected:t,path:r})};var Ge=Be.struct({errors:Be.list(Xe),value:Be.Any},\"ValidationResult\");function Ye(e,t,r){r=r||{};var a=Be.Array.is(r)?r:r.path||[];return new Ge(We(e,t,a,r))}function We(e,t,r,a){return Be.isType(t)?et[t.meta.kind](e,t,r,a):et.es6classes(e,t,r,a)}Ge.prototype.isValid=function(){return!this.errors.length},Ge.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},Ge.prototype.toString=function(){return this.isValid()?\"[ValidationResult, true, \"+Ke(this.value)+\"]\":\"[ValidationResult, false, (\"+this.errors.map(function(e){return Ke(e.message)}).join(\", \")+\")]\"};var et=Ye.validators={};et.es6classes=function(e,t,r,a){return{value:e,errors:e instanceof t?[]:[Xe.of(e,t,r,a.context)]}},et.irreducible=et.enums=function(e,t,r,a){return{value:e,errors:t.is(e)?[]:[Xe.of(e,t,r,a.context)]}},et.list=function(e,t,r,a){if(!Be.Array.is(e))return{value:e,errors:[Xe.of(e,t,r,a.context)]};for(var n={value:[],errors:[]},o=0,i=e.length;o<i;o++){var s=We(e[o],t.meta.type,r.concat(o),a);n.value[o]=s.value,n.errors=n.errors.concat(s.errors)}return n},et.subtype=function(e,t,r,a){var n=We(e,t.meta.type,r,a);return n.errors.length?n:(t.meta.predicate(n.value)||(n.errors=[Xe.of(e,t,r,a.context)]),n)},et.maybe=function(e,t,r,a){return Be.Nil.is(e)?{value:e,errors:[]}:We(e,t.meta.type,r,a)},et.struct=function(e,t,r,a){if(!Be.Object.is(e))return{value:e,errors:[Xe.of(e,t,r,a.context)]};if(t.is(e))return{value:e,errors:[]};var n={value:{},errors:[]},o=t.meta.props,i=t.meta.defaultProps||Je;for(var s in o)if(o.hasOwnProperty(s)){var u=e[s];void 0===u&&(u=i[s]);var c=We(u,o[s],r.concat(s),a);n.value[s]=c.value,n.errors=n.errors.concat(c.errors)}if(a.hasOwnProperty(\"strict\")?a.strict:t.meta.strict)for(var l in e)e.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&n.errors.push(Xe.of(e[l],Be.Nil,r.concat(l),a.context));return n.errors.length||(n.value=new t(n.value)),n},et.tuple=function(e,t,r,a){var n=t.meta.types,o=n.length;if(!Be.Array.is(e)||e.length>o)return{value:e,errors:[Xe.of(e,t,r,a.context)]};for(var i={value:[],errors:[]},s=0;s<o;s++){var u=We(e[s],n[s],r.concat(s),a);i.value[s]=u.value,i.errors=i.errors.concat(u.errors)}return i},et.dict=function(e,t,r,a){if(!Be.Object.is(e))return{value:e,errors:[Xe.of(e,t,r,a.context)]};var n={value:{},errors:[]};for(var o in e)if(e.hasOwnProperty(o)){var i=r.concat(o),s=We(o,t.meta.domain,i,a),u=We(e[o],t.meta.codomain,i,a);n.value[o]=u.value,n.errors=n.errors.concat(s.errors,u.errors)}return n},et.union=function(e,t,r,a){var n=t.dispatch(e);return Be.Function.is(n)?We(e,n,r.concat(t.meta.types.indexOf(n)),a):{value:e,errors:[Xe.of(e,t,r,a.context)]}},et.intersection=function(e,t,r,a){for(var n=t.meta.types,o=n.length,i={value:e,errors:[]},s=0,u=0;u<o;u++){\"struct\"===n[u].meta.kind&&s++;var c=We(e,n[u],r,a);i.errors=i.errors.concat(c.errors)}return s>1&&i.errors.push(Xe.of(e,t,r,a.context)),i},et.interface=function(e,t,r,a){if(!Be.Object.is(e))return{value:e,errors:[Xe.of(e,t,r,a.context)]};var n={value:{},errors:[]},o=t.meta.props;for(var i in o){var s=We(e[i],o[i],r.concat(i),a);n.value[i]=s.value,n.errors=n.errors.concat(s.errors)}if(a.hasOwnProperty(\"strict\")?a.strict:t.meta.strict)for(var u in e)o.hasOwnProperty(u)||Be.Nil.is(e[u])||n.errors.push(Xe.of(e[u],Be.Nil,r.concat(u),a.context));return n},Be.mixin(Be,{ValidationError:Xe,ValidationResult:Ge,validate:Ye});var tt=Be,rt=tt.Boolean,at=tt.Function,nt=tt.Integer,ot=tt.Number,it=tt.String,st=tt.enums,ut=tt.refinement,ct=tt.union,lt=tt.struct,pt=tt.validate,ft=tt.list,dt=\"undefined\"!=typeof window?window:void 0!==e?e:\"undefined\"!=typeof self?self:{};function ht(e,t){return e(t={exports:{}},t.exports),t.exports}function mt(e){return e&&e.default||e}var yt=ht(function(e){function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,a=this._callbacks[\"$\"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var n=0;n<a.length;n++)if((r=a[n])===t||r.fn===t){a.splice(n,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks[\"$\"+e];if(r)for(var a=0,n=(r=r.slice(0)).length;a<n;++a)r[a].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}});var vt=function(e){return null!==e&&\"object\"===o(e)},gt=bt;function bt(e){if(e)return function(e){for(var t in bt.prototype)e[t]=bt.prototype[t];return e}(e)}bt.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},bt.prototype.parse=function(e){return this._parser=e,this},bt.prototype.responseType=function(e){return this._responseType=e,this},bt.prototype.serialize=function(e){return this._serializer=e,this},bt.prototype.timeout=function(e){if(!e||\"object\"!==o(e))return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case\"deadline\":this._timeout=e.deadline;break;case\"response\":this._responseTimeout=e.response;break;default:console.warn(\"Unknown timeout option\",t)}return this},bt.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var Pt=[\"ECONNRESET\",\"ETIMEDOUT\",\"EADDRINFO\",\"ESOCKETTIMEDOUT\"];bt.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(a){console.error(a)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~Pt.indexOf(e.code))return!0;if(e.timeout&&\"ECONNABORTED\"==e.code)return!0;if(e.crossDomain)return!0}return!1},bt.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},bt.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn(\"Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises\"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,a){r?t(r):e(a)})})}return this._fullfilledPromise.then(e,t)},bt.prototype.catch=function(e){return this.then(void 0,e)},bt.prototype.use=function(e){return e(this),this},bt.prototype.ok=function(e){if(\"function\"!=typeof e)throw Error(\"Callback required\");return this._okCallback=e,this},bt.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},bt.prototype.get=function(e){return this._header[e.toLowerCase()]},bt.prototype.getHeader=bt.prototype.get,bt.prototype.set=function(e,t){if(vt(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},bt.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},bt.prototype.field=function(e,t){if(null==e)throw new Error(\".field(name, val) name can not be empty\");if(this._data&&console.error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\"),vt(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var a in t)this.field(e,t[a]);return this}if(null==t)throw new Error(\".field(name, val) val can not be empty\");return\"boolean\"==typeof t&&(t=\"\"+t),this._getFormData().append(e,t),this},bt.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit(\"abort\"),this)},bt.prototype._auth=function(e,t,r,a){switch(r.type){case\"basic\":this.set(\"Authorization\",\"Basic \"+a(e+\":\"+t));break;case\"auto\":this.username=e,this.password=t;break;case\"bearer\":this.set(\"Authorization\",\"Bearer \"+e)}return this},bt.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},bt.prototype.redirects=function(e){return this._maxRedirects=e,this},bt.prototype.maxResponseSize=function(e){if(\"number\"!=typeof e)throw TypeError(\"Invalid argument\");return this._maxResponseSize=e,this},bt.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},bt.prototype.send=function(e){var t=vt(e),r=this._header[\"content-type\"];if(this._formData&&console.error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error(\"Can't merge these send calls\");if(t&&vt(this._data))for(var a in e)this._data[a]=e[a];else\"string\"==typeof e?(r||this.type(\"form\"),r=this._header[\"content-type\"],this._data=\"application/x-www-form-urlencoded\"==r?this._data?this._data+\"&\"+e:e:(this._data||\"\")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type(\"json\"),this)},bt.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},bt.prototype._finalizeQueryString=function(){var e=this._query.join(\"&\");if(e&&(this.url+=(this.url.indexOf(\"?\")>=0?\"&\":\"?\")+e),this._query.length=0,this._sort){var t=this.url.indexOf(\"?\");if(t>=0){var r=this.url.substring(t+1).split(\"&\");\"function\"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+\"?\"+r.join(\"&\")}}},bt.prototype._appendQueryString=function(){console.trace(\"Unsupported\")},bt.prototype._timeoutError=function(e,t,r){if(!this._aborted){var a=new Error(e+t+\"ms exceeded\");a.timeout=t,a.code=\"ECONNABORTED\",a.errno=r,this.timedout=!0,this.abort(),this.callback(a)}},bt.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError(\"Timeout of \",e._timeout,\"ETIME\")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError(\"Response timeout of \",e._responseTimeout,\"ETIMEDOUT\")},this._responseTimeout))};var wt=function(e){return e.split(/ *; */).shift()},Et=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),a=r.shift(),n=r.shift();return a&&n&&(e[a]=n),e},{})},_t=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),a=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=a,e},{})},kt=xt;function xt(e){if(e)return function(e){for(var t in xt.prototype)e[t]=xt.prototype[t];return e}(e)}function St(){this._defaults=[]}xt.prototype.get=function(e){return this.header[e.toLowerCase()]},xt.prototype._setHeaderProperties=function(e){var t=e[\"content-type\"]||\"\";this.type=wt(t);var r=Et(t);for(var a in r)this[a]=r[a];this.links={};try{e.link&&(this.links=_t(e.link))}catch(n){}},xt.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e},[\"use\",\"on\",\"once\",\"set\",\"query\",\"type\",\"accept\",\"auth\",\"withCredentials\",\"sortQuery\",\"retry\",\"ok\",\"redirects\",\"timeout\",\"buffer\",\"serialize\",\"parse\",\"ca\",\"key\",\"pfx\",\"cert\"].forEach(function(e){St.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),St.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})};var Ot=St,jt=ht(function(e,t){var r;function a(){}\"undefined\"!=typeof window?r=window:\"undefined\"!=typeof self?r=self:(console.warn(\"Using browser-only version of superagent in non-browser environment\"),r=dt);var n=t=e.exports=function(e,r){return\"function\"==typeof r?new t.Request(\"GET\",e).end(r):1==arguments.length?new t.Request(\"GET\",e):new t.Request(e,r)};t.Request=f,n.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&\"file:\"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\")}catch(e){}try{return new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(e){}throw Error(\"Browser-only version of superagent could not find XHR\")};var i=\"\".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\\s*|\\s*$)/g,\"\")};function s(e){if(!vt(e))return e;var t=[];for(var r in e)u(t,r,e[r]);return t.join(\"&\")}function u(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){u(e,t,r)});else if(vt(r))for(var a in r)u(e,t+\"[\"+a+\"]\",r[a]);else e.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function c(e){for(var t,r,a={},n=e.split(\"&\"),o=0,i=n.length;o<i;++o)-1==(r=(t=n[o]).indexOf(\"=\"))?a[decodeURIComponent(t)]=\"\":a[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return a}function l(e){return/[\\/+]json($|[^-\\w])/.test(e)}function p(e){this.req=e,this.xhr=this.req.xhr,this.text=\"HEAD\"!=this.req.method&&(\"\"===this.xhr.responseType||\"text\"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,a,n,o=e.split(/\\r?\\n/),s={},u=0,c=o.length;u<c;++u)-1!==(t=(r=o[u]).indexOf(\":\"))&&(a=r.slice(0,t).toLowerCase(),n=i(r.slice(t+1)),s[a]=n);return s}(this.xhr.getAllResponseHeaders()),this.header[\"content-type\"]=this.xhr.getResponseHeader(\"content-type\"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body=\"HEAD\"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function f(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on(\"end\",function(){var e,t=null,a=null;try{a=new p(r)}catch(n){return(t=new Error(\"Parser is unable to parse the response\")).parse=!0,t.original=n,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit(\"response\",a);try{r._isResponseOK(a)||(e=new Error(a.statusText||\"Unsuccessful HTTP response\"))}catch(o){e=o}e?(e.original=t,e.response=a,e.status=a.status,r.callback(e,a)):r.callback(null,a)})}function d(e,t,r){var a=n(\"DELETE\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.send(t),r&&a.end(r),a}n.serializeObject=s,n.parseString=c,n.types={html:\"text/html\",json:\"application/json\",xml:\"text/xml\",urlencoded:\"application/x-www-form-urlencoded\",form:\"application/x-www-form-urlencoded\",\"form-data\":\"application/x-www-form-urlencoded\"},n.serialize={\"application/x-www-form-urlencoded\":s,\"application/json\":JSON.stringify},n.parse={\"application/x-www-form-urlencoded\":c,\"application/json\":JSON.parse},kt(p.prototype),p.prototype._parseBody=function(e){var t=n.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=n.parse[\"application/json\"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},p.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,a=\"cannot \"+t+\" \"+r+\" (\"+this.status+\")\",n=new Error(a);return n.status=this.status,n.method=t,n.url=r,n},n.Response=p,yt(f.prototype),gt(f.prototype),f.prototype.type=function(e){return this.set(\"Content-Type\",n.types[e]||e),this},f.prototype.accept=function(e){return this.set(\"Accept\",n.types[e]||e),this},f.prototype.auth=function(e,t,r){1===arguments.length&&(t=\"\"),\"object\"===o(t)&&null!==t&&(r=t,t=\"\"),r||(r={type:\"function\"==typeof btoa?\"basic\":\"auto\"});return this._auth(e,t,r,function(e){if(\"function\"==typeof btoa)return btoa(e);throw new Error(\"Cannot use basic auth, btoa is not a function\")})},f.prototype.query=function(e){return\"string\"!=typeof e&&(e=s(e)),e&&this._query.push(e),this},f.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error(\"superagent can't mix .send() and .attach()\");this._getFormData().append(e,t,r||t.name)}return this},f.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},f.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit(\"error\",e)),r(e,t)},f.prototype.crossDomainError=function(){var e=new Error(\"Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.\");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},f.prototype.buffer=f.prototype.ca=f.prototype.agent=function(){return console.warn(\"This is not supported in browser version of superagent\"),this},f.prototype.pipe=f.prototype.write=function(){throw Error(\"Streaming is not supported in browser version of superagent\")},f.prototype._isHost=function(e){return e&&\"object\"===o(e)&&!Array.isArray(e)&&\"[object Object]\"!==Object.prototype.toString.call(e)},f.prototype.end=function(e){return this._endCalled&&console.warn(\"Warning: .end() was called twice. This is not supported in superagent\"),this._endCalled=!0,this._callback=e||a,this._finalizeQueryString(),this._end()},f.prototype._end=function(){var e=this,t=this.xhr=n.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var a;try{a=t.status}catch(n){a=0}if(!a){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit(\"end\")}};var a=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit(\"progress\",r)};if(this.hasListeners(\"progress\"))try{t.onprogress=a.bind(null,\"download\"),t.upload&&(t.upload.onprogress=a.bind(null,\"upload\"))}catch(u){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(c){return this.callback(c)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&\"GET\"!=this.method&&\"HEAD\"!=this.method&&\"string\"!=typeof r&&!this._isHost(r)){var o=this._header[\"content-type\"],i=this._serializer||n.serialize[o?o.split(\";\")[0]:\"\"];!i&&l(o)&&(i=n.serialize[\"application/json\"]),i&&(r=i(r))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&t.setRequestHeader(s,this.header[s]);return this._responseType&&(t.responseType=this._responseType),this.emit(\"request\",this),t.send(void 0!==r?r:null),this},n.agent=function(){return new Ot},[\"GET\",\"POST\",\"OPTIONS\",\"PATCH\",\"PUT\",\"DELETE\"].forEach(function(e){Ot.prototype[e.toLowerCase()]=function(t,r){var a=new n.Request(e,t);return this._setDefaults(a),r&&a.end(r),a}}),Ot.prototype.del=Ot.prototype.delete,n.get=function(e,t,r){var a=n(\"GET\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.query(t),r&&a.end(r),a},n.head=function(e,t,r){var a=n(\"HEAD\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.query(t),r&&a.end(r),a},n.options=function(e,t,r){var a=n(\"OPTIONS\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.send(t),r&&a.end(r),a},n.del=d,n.delete=d,n.patch=function(e,t,r){var a=n(\"PATCH\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.send(t),r&&a.end(r),a},n.post=function(e,t,r){var a=n(\"POST\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.send(t),r&&a.end(r),a},n.put=function(e,t,r){var a=n(\"PUT\",e);return\"function\"==typeof t&&(r=t,t=null),t&&a.send(t),r&&a.end(r),a}}),Ft=jt.get,At=jt.post,Dt=jt.put,It=jt.delete,$t=jt.head,Rt=jt.Request,Tt=Object.freeze({default:jt,__moduleExports:jt,get:Ft,post:At,put:Dt,delete:It,head:$t,Request:Rt}),Ct=function(e,t){return Tt[e](t).set(\"Filestack-Source\",\"JS-1.14.6\")},zt=function(){return function(e,t,r,a){this.resolve=e,this.fn=t,this.self=r||null,this.args=a}}(),qt=function(){function e(){this._s1=[],this._s2=[]}return e.prototype.push=function(e){this._s1.push(e)},e.prototype.shift=function(){var e=this._s2;if(0===e.length){var t=this._s1;if(0===t.length)return;this._s1=e,e=this._s2=t.reverse()}return e.pop()},e.prototype.isEmpty=function(){return!this._s1.length&&!this._s2.length},e}();var Ut,Nt,Lt=function(e,t){var r=new qt;function a(t,a,o){if(e){e--;var i=new Promise(function(e){e(t.apply(a,o))});return i.then(n,n),i}return new Promise(function(e){r.push(new zt(e,t,a,o))})}function n(){if(e++,!r.isEmpty()){var t=r.shift();t.resolve(a(t.fn,t.self,t.args))}}if(void 0!==t&&\"function\"!=typeof t)throw new TypeError(\"Expected throat fn to be a function but got \"+o(t));return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return a(t,this,e)}},Vt=function(e,t){var r=e;if(t){var a=/filestackapi.com|filestackcontent.com/i;Object.keys(a).forEach(function(e){r[e]=a[e].replace(a,t)})}return r},Mt=function(e,t,r){void 0===r&&(r={});var a=Object.keys(r),n=t.map(function(e){return e.name}),o=n.join(\", \");return a.forEach(function(t){if(n.indexOf(t)<0)throw new Error(t+\" is not a valid option for \"+e+\". Valid options are: \"+o)}),t.forEach(function(e){var t=r[e.name];if(\"location\"===e.name&&\"string\"==typeof t&&(t=t.toLowerCase()),void 0!==t){var a=pt(t,e.type);if(!a.isValid()){var n=a.firstError();if(n&&n.message)throw new Error(n.message)}}}),a},Qt=function(e){var t=s({},e);return Object.keys(t).forEach(function(e){return!t[e]&&void 0!==t[e]&&delete t[e]}),t},Ht=function(e,t,r){var a=!1,n=!1;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n=!!r&&!a;var s=this;if(a||(a=!0,setTimeout(function(){if(a=!1,!r)return e.apply(s,o)},t)),n)return n=!1,e.apply(this,arguments)}},Bt=function(e,t,r,a){if(!t||\"string\"!=typeof t)throw new Error(\"A valid Filestack handle is required for remove\");if(!(e.policy&&e.signature||a&&a.policy&&a.signature))throw new Error(\"Security policy and signature are required for remove\");var n=e.urls.fileApiUrl+\"/\"+t,o={key:e.apikey,policy:a&&a.policy||e.policy,signature:a&&a.signature||e.signature};return r&&(o.skip_storage=!0),new Promise(function(e,t){It(n).query(o).end(function(r,a){r?t(r):e(a)})})};!function(e){e.get=\"get\",e.head=\"head\"}(Ut||(Ut={})),function(e){e.blob=\"blob\",e.json=\"json\"}(Nt||(Nt={}));var Kt,Jt={$schema:\"http://json-schema.org/draft-07/schema#\",title:\"Filestack Transformations\",description:\"Filestack transformations parameters\",type:\"object\",additionalProperties:!1,definitions:{securityCallDef:{$id:\"#securityCallDef\",type:\"string\",enum:[\"pick\",\"read\",\"stat\",\"write\",\"writeUrl\",\"store\",\"convert\",\"remove\",\"exif\",\"runWorkflow\"]},regionsDef:{$id:\"#regionsDef\",type:\"string\",enum:[\"us-east-1\",\"us-west-1\",\"us-west-2\",\"eu-west-1\",\"eu-central-1\",\"ap-northeast-1\",\"ap-northeast-2\",\"ap-southeast-1\",\"ap-southeast-2\",\"sa-east-1\"]},locationsDef:{$id:\"#locationsDef\",type:\"string\",enum:[\"s3\",\"S3\",\"rackspace\",\"gcs\",\"azure\",\" dropbox\"]},colorDef:{$id:\"#colorDef\",oneOf:[{type:\"string\",pattern:\"^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\"},{type:\"string\",enum:[\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkgrey\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkslategrey\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dimgrey\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fractal\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray0\",\"gray1\",\"gray2\",\"gray3\",\"gray4\",\"gray5\",\"gray6\",\"gray7\",\"gray8\",\"gray9\",\"gray10\",\"gray11\",\"gray12\",\"gray13\",\"gray14\",\"gray15\",\"gray16\",\"gray17\",\"gray18\",\"gray19\",\"gray20\",\"gray21\",\"gray22\",\"gray23\",\"gray24\",\"gray25\",\"gray26\",\"gray27\",\"gray28\",\"gray29\",\"gray30\",\"gray31\",\"gray32\",\"gray33\",\"gray34\",\"gray35\",\"gray36\",\"gray37\",\"gray38\",\"gray39\",\"gray40\",\"gray41\",\"gray42\",\"gray43\",\"gray44\",\"gray45\",\"gray46\",\"gray47\",\"gray48\",\"gray49\",\"gray50\",\"gray51\",\"gray52\",\"gray53\",\"gray54\",\"gray55\",\"gray56\",\"gray57\",\"gray58\",\"gray59\",\"gray60\",\"gray61\",\"gray62\",\"gray63\",\"gray64\",\"gray65\",\"gray66\",\"gray67\",\"gray68\",\"gray69\",\"gray70\",\"gray71\",\"gray72\",\"gray73\",\"gray74\",\"gray75\",\"gray76\",\"gray77\",\"gray78\",\"gray79\",\"gray80\",\"gray81\",\"gray82\",\"gray83\",\"gray84\",\"gray85\",\"gray86\",\"gray87\",\"gray88\",\"gray89\",\"gray90\",\"gray91\",\"gray92\",\"gray93\",\"gray94\",\"gray95\",\"gray96\",\"gray97\",\"gray98\",\"gray99\",\"gray100\",\"gray\",\"green\",\"greenyellow\",\"grey\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightgrey\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightslategrey\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"none\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"slategrey\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\"]}]},pageFormatDef:{$id:\"#pageFormatDef\",type:\"string\",enum:[\"a2\",\"a3\",\"a4\",\"a5\",\"b4\",\"b5\",\"letter\",\"legal\",\"tabloid\"]},pageRangeDef:{$id:\"#pageRangeDef\",type:\"array\",uniqueItems:!0,items:[{oneOf:[{type:\"integer\",minimum:1},{type:\"string\",pattern:\"^(\\\\d+(?:-\\\\d+)?)$|^(-\\\\d+)$|^(\\\\d+-)$\",errorMessage:'Param should be provided in one of the following formats: \"1,2,3,5\", \"1-3\", \"1-\", \"-2\" '}]}]},facesDef:{$id:\"#facesDef\",oneOf:[{type:\"string\",enum:[\"all\"]},{type:\"integer\",minimum:1,maximum:1e3},{type:\"array\",uniqueItems:!0,items:[{type:\"integer\",minimum:1,maximum:1e3}]}]},objectsDef:{$id:\"#objectsDef\",type:\"array\",minItems:1,maxItems:50,items:[{type:\"array\",additionalItems:!1,minItems:4,items:[{type:\"integer\",minimum:0,maximum:1e4},{type:\"integer\",minimum:0,maximum:1e4},{type:\"integer\",minimum:1,maximum:1e4},{type:\"integer\",minimum:1,maximum:1e4}]}]},positionDef:{$id:\"#positionDef\",default:[\"middle\",\"center\"],oneOf:[{type:\"string\",enum:[\"top\",\"middle\",\"bottom\",\"left\",\"center\",\"right\"]},{type:\"array\",uniqueItems:!0,additionalItems:!1,minItems:2,default:[\"middle\",\"center\"],items:[{type:\"string\",enum:[\"top\",\"middle\",\"bottom\"]},{type:\"string\",enum:[\"left\",\"center\",\"right\"]}]}]}},properties:{flip:{type:\"boolean\",additionalProperties:!1},no_metadata:{type:\"boolean\",additionalProperties:!1},compress:{additionalProperties:!1,oneOf:[{type:\"boolean\"},{type:\"object\",properties:{metadata:{type:\"boolean\",default:!1}}}]},flop:{type:\"boolean\",additionalProperties:!1},enchance:{type:\"boolean\",additionalProperties:!1},redeye:{type:\"boolean\",additionalProperties:!1},monochrome:{type:\"boolean\",additionalProperties:!1},negative:{type:\"boolean\",additionalProperties:!1},tags:{type:\"boolean\",additionalProperties:!1},sfw:{type:\"boolean\",additionalProperties:!1},imagesize:{type:\"boolean\",additionalProperties:!1},metadata:{type:\"object\",params:{type:\"array\",items:{type:\"string\",enum:[\"filename\",\"mimetype\",\"size\",\"width\",\"height\",\"writeable\",\"path\",\"container\",\"cloud\",\"exif\",\"source_url\",\"md5\",\"sha256\",\"sha1\",\"sha512\"]},minItems:0,uniqueItems:!0,additionalItems:!1},additionalProperties:!1},resize:{type:\"object\",properties:{width:{type:\"number\",minimum:0,maximum:1e4},height:{type:\"number\",minimum:0,maximum:1e4},fit:{type:\"string\",enum:[\"clip\",\"crop\",\"scale\",\"max\"],default:\"clip\"},align:{$ref:\"#positionDef\",default:\"center\"}},additionalProperties:!1,anyOf:[{required:[\"width\"]},{required:[\"height\"]}]},crop:{type:\"object\",properties:{dim:{type:\"array\",additionalItems:!1,minItems:4,items:[{type:\"integer\",minimum:0,maximum:1e5},{type:\"integer\",minimum:0,maximum:1e5},{type:\"integer\",minimum:1,maximum:1e5},{type:\"integer\",minimum:1,maximum:1e5}]}},required:[\"dim\"]},rotate:{type:\"object\",properties:{deg:{oneOf:[{type:\"string\",enum:[\"exif\"]},{type:\"number\",minimum:0,maximum:359}]},exif:{type:\"boolean\"},background:{$ref:\"#colorDef\",default:\"FFFFFFFF\"}},additionalProperties:!1},detect_faces:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{maxsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},minsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},export:{type:\"boolean\"},color:{$ref:\"#colorDef\",default:\"000000FF\"}},additionalProperties:!1}]},crop_faces:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{faces:{default:1,$ref:\"#facesDef\"},width:{type:\"number\",minimum:1,maximum:1e4},height:{type:\"number\",minimum:1,maximum:1e4},maxsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},minsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},buffer:{type:\"integer\",minimum:0,maximum:1e4},mode:{type:\"string\",enum:[\"crop\",\"thumb\",\"fill\"],default:\"thumb\"}},additionalProperties:!1}]},pixelate_faces:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{faces:{$ref:\"#facesDef\",default:\"all\"},maxsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},minsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},buffer:{type:\"integer\",minimum:0,maximum:1e4},amount:{type:\"integer\",minimum:2,maximum:100,default:10},blur:{type:\"number\",minimum:0,maximum:20,default:4},type:{type:\"string\",enum:[\"rect\",\"oval\"],default:\"rect\"}},additionalProperties:!1}]},blur_faces:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{faces:{$ref:\"#facesDef\",default:\"all\"},maxsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},minsize:{type:\"number\",minimum:0,maximum:1e4,default:.35},buffer:{type:\"integer\",minimum:0,maximum:1e4},amount:{type:\"number\",minimum:0,maximum:10,default:10},blur:{type:\"number\",minimum:0,maximum:20,default:4},type:{type:\"string\",enum:[\"rect\",\"oval\"],default:\"rect\"}},additionalProperties:!1}]},rounded_corners:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{radius:{oneOf:[{type:\"integer\",minimum:1,maximum:1e4},{type:\"string\",enum:[\"max\"]}]},blur:{type:\"number\",minimum:0,maximum:20,default:.3},background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},vignette:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{amount:{type:\"integer\",minimum:0,maximum:100,default:20},blurmode:{type:\"string\",enum:[\"gaussian\",\"linear\"],default:\"gaussian\"},background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},polaroid:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{rotate:{type:\"integer\",minimum:0,maximum:359},color:{$ref:\"#colorDef\",default:\"snow\"},background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},torn_edges:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{spread:{type:\"array\",additionalItems:!1,minItems:2,items:[{type:\"integer\",minimum:1,maximum:1e4,default:1},{type:\"integer\",minimum:1,maximum:1e4,default:10}]},background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},shadow:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{blur:{type:\"number\",minimum:0,maximum:20,default:100},opacity:{type:\"integer\",minimum:0,maximum:100,default:60},vector:{type:\"array\",additionalItems:!1,minItems:2,items:[{type:\"integer\",minimum:-1e3,maximum:1e3,default:4},{type:\"integer\",minimum:-1e3,maximum:1e3,default:4}]},color:{$ref:\"#colorDef\"},background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},circle:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{background:{$ref:\"#colorDef\"}},additionalProperties:!1}]},border:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{color:{$ref:\"#colorDef\"},background:{$ref:\"#colorDef\"},width:{type:\"integer\",minimum:0,maximum:1e3}},additionalProperties:!1}]},sharpen:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{amount:{type:\"integer\",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blur:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{amount:{type:\"integer\",minimum:0,maximum:20,default:2}},additionalProperties:!1}]},blackwhite:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{threshold:{type:\"integer\",minimum:0,maximum:100,default:50}},additionalProperties:!1}]},sepia:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{tone:{type:\"integer\",minimum:0,maximum:100,default:80}},additionalProperties:!1}]},pixelate:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{amount:{type:\"integer\",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},oil_paint:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{amount:{type:\"integer\",minimum:2,maximum:100,default:2}},additionalProperties:!1}]},modulate:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{brightness:{type:\"integer\",minimum:0,maximum:1e4,default:100},saturation:{type:\"integer\",minimum:0,maximum:1e4,default:100},hue:{type:\"integer\",minimum:0,maximum:359,default:0}},additionalProperties:!1}]},asci:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{foreground:{$ref:\"#colorDef\",default:\"000000FF\"},background:{$ref:\"#colorDef\",default:\"FFFFFFFF\"},colored:{type:\"boolean\",default:!1},size:{type:\"integer\",minimum:10,maximum:100,default:100},reverse:{type:\"boolean\",default:!1}},additionalProperties:!1}]},collage:{type:\"object\",properties:{files:{type:\"array\",additionalItems:!1,minItems:1,items:[{type:\"string\"}]},margin:{type:\"integer\",minimum:1,maximum:100,default:10},width:{type:\"integer\",minimum:0,maximum:1e4},height:{type:\"integer\",minimum:0,maximum:1e4},color:{$ref:\"#colorDef\",default:\"FFFFFFFF\"},fit:{type:\"string\",enum:[\"auto\",\"crop\"]},autorotate:{type:\"boolean\",default:!1}},required:[\"width\",\"height\",\"files\"],additionalProperties:!1},urlscreenshot:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{agent:{type:\"string\",enum:[\"desktop\",\"mobile\"],default:\"desktop\"},width:{type:\"integer\",minimum:1,maximum:1920,default:1024},height:{type:\"integer\",minimum:1,maximum:8e3,default:768},mode:{type:\"string\",enum:[\"all\",\"window\"],default:\"all\"},delay:{type:\"integer\",minimum:0,maximum:2e4,default:1e3},orientation:{type:\"string\",enum:[\"portrait\",\"landscape\"],default:\"portrait\"},device:{type:\"string\",default:\"\"}},additionalProperties:!1}]},upscale:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{noise:{type:\"string\",enum:[\"none\",\"low\",\"medium\",\"high\"],default:\"none\"},upscale:{type:\"boolean\",default:!0},style:{type:\"string\",enum:[\"artwork\",\"photo\"],default:\"photo\"}},additionalProperties:!1}]},output:{type:\"object\",additionalProperties:!1,properties:{format:{type:\"string\",enum:[\"doc\",\"docx\",\"html\",\"jpg\",\"odp\",\"ods\",\"odt\",\"pjpg\",\"pdf\",\"png\",\"ppt\",\"pptx\",\"svg\",\"txt\",\"webp\",\"xls\",\"xlsx\"]},page:{type:\"integer\",minimum:1,maximum:99999},density:{type:\"integer\",minimum:1,maximum:500},compress:{type:\"boolean\"},quality:{oneOf:[{type:\"string\",enum:[\"input\"]},{type:\"integer\",minimum:1,maximum:100,default:95}]},secure:{type:\"boolean\",default:!1},docinfo:{type:\"boolean\",default:!1},strip:{type:\"boolean\",default:!1},colorspace:{type:\"string\",enum:[\"rgb\",\"cmyk\",\"input\"],default:\"rgb\"},background:{$ref:\"#colorDef\"},pageformat:{type:\"string\",enum:[\"a2\",\"a3\",\"a4\",\"a5\",\"b4\",\"b5\",\"letter\",\"legal\",\"tabloid\"]},pageorientation:{type:\"string\",enum:[\"landscape\",\"portrait\"]}}},pjpg:{oneOf:[{type:\"boolean\"},{type:\"object\",additionalProperties:!1,properties:{quality:{type:\"integer\",minimum:0,maximum:100},metadata:{type:\"boolean\",default:!1}}}]},quality:{type:\"object\",additionalProperties:!1,properties:{value:{type:\"integer\",minimum:1,maximum:100}}},cache:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{expiry:{type:\"integer\"}}}]},video_convert:{type:\"object\",additionalProperties:!1,properties:{width:{type:\"integer\",minimum:1,maximum:4096},height:{type:\"integer\",minimum:1,maximum:4096},preset:{type:\"string\"},force:{type:\"boolean\"},title:{type:\"string\"},extname:{type:\"string\"},upscale:{type:\"boolean\"},aspect_mode:{type:\"string\",enum:[\"letterbox\",\"pad\",\"crop\",\"preserve\",\"constrain\"],default:\"letterbox\"},audio_sample_rate:{type:\"integer\",minimum:1,maximum:99999},two_pass:{type:\"boolean\"},video_bitrate:{type:\"integer\",minimum:1,maximum:5e3},fps:{type:\"integer\",minimum:1,maximum:300},keyframe_interval:{type:\"integer\",minimum:250,maximum:250},audio_bitrate:{type:\"integer\",minimum:1,maximum:999},audio_channels:{type:\"integer\",minimum:1,maximum:12},clip_length:{type:\"string\",pattern:\"^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$\"},clip_offset:{type:\"string\",pattern:\"^([0-1]?\\\\d|2[0-3])(?::([0-5]?\\\\d))?(?::([0-5]?\\\\d))?$\"},watermark_url:{type:\"string\"},watermark_top:{type:\"integer\",minimum:0,maximum:9999},watermark_right:{type:\"integer\",minimum:0,maximum:9999},watermark_bottom:{type:\"integer\",minimum:0,maximum:9999},watermark_left:{type:\"integer\",minimum:0,maximum:9999},frame_count:{type:\"integer\",minimum:1,maximum:1,default:1},filename:{type:\"string\"},location:{$ref:\"#locationsDef\"},path:{type:\"string\"},container:{type:\"string\"},access:{type:\"string\",enum:[\"public\",\"private\"],default:\"public\"}}},store:{oneOf:[{type:\"boolean\"},{type:\"object\",additionalProperties:!1,properties:{filename:{type:\"string\"},location:{$ref:\"#locationsDef\"},path:{type:\"string\"},container:{type:\"string\"},region:{$ref:\"#regionsDef\"},access:{type:\"string\",enum:[\"public\",\"private\"],default:\"private\"},base64decode:{type:\"boolean\"},workflows:{type:\"array\",additionalItems:!1,minItems:1,maxItems:20,items:[{type:\"string\"},{type:\"object\",additionalProperties:!1,properties:{id:{type:\"string\"}}}]}}}]},watermark:{type:\"object\",properties:{file:{type:\"string\"},size:{type:\"number\",minimum:0,maximum:500},position:{$ref:\"#positionDef\"}},required:[\"file\"],additionalProperties:!1},partial_blur:{type:\"object\",properties:{objects:{$ref:\"#objectsDef\"},amount:{type:\"number\",minimum:0,maximum:20},blur:{type:\"number\",minimum:0,maximum:20},type:{type:\"string\",enum:[\"rect\",\"oval\"]}},required:[\"objects\"]},partial_pixelate:{type:\"object\",properties:{objects:{$ref:\"#objectsDef\"},amount:{type:\"number\",minimum:2,maximum:100},blur:{type:\"number\",minimum:0,maximum:20},type:{type:\"string\",enum:[\"rect\",\"oval\"]}},required:[\"objects\"]},security:{type:\"object\",additionalProperties:!1,properties:{policy:{type:\"string\"},signature:{type:\"string\"}},required:[\"policy\",\"signature\"]},pdfinfo:{oneOf:[{type:\"boolean\"},{type:\"object\",properties:{colorinfo:{type:\"boolean\"}}}]},pdfconvert:{type:\"object\",additionalProperties:!1,properties:{pageorientation:{type:\"string\",enum:[\"portrait\",\"landscape\"]},pageformat:{$ref:\"#pageFormatDef\"},pages:{$ref:\"#pageRangeDef\"}},anyOf:[{required:[\"pageorientation\"]},{required:[\"pageformat\"]},{required:[\"pages\"]}]}}},Xt=ht(function(e,t){\n/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var a=t.length-1,n=1;n<a;++n)t[n]=t[n].slice(1,-1);return t[a]=t[a].slice(1),t.join(\"\")}return t[0]}function r(e){return\"(?:\"+e+\")\"}function a(e){return void 0===e?\"undefined\":null===e?\"null\":Object.prototype.toString.call(e).split(\" \").pop().split(\"]\").shift().toLowerCase()}function n(e){return e.toUpperCase()}function o(e){var a=t(\"[0-9]\",\"[A-Fa-f]\"),n=r(r(\"%[EFef]\"+a+\"%\"+a+a+\"%\"+a+a)+\"|\"+r(\"%[89A-Fa-f]\"+a+\"%\"+a+a)+\"|\"+r(\"%\"+a+a)),o=\"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",i=t(\"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",o),s=e?\"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\":\"[]\",u=e?\"[\\\\uE000-\\\\uF8FF]\":\"[]\",c=t(\"[A-Za-z]\",\"[0-9]\",\"[\\\\-\\\\.\\\\_\\\\~]\",s),l=(r(\"[A-Za-z]\"+t(\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\")+\"*\"),r(r(n+\"|\"+t(c,o,\"[\\\\:]\"))+\"*\"),r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"0?[1-9][0-9]\")+\"|0?0?[0-9]\")),p=r(l+\"\\\\.\"+l+\"\\\\.\"+l+\"\\\\.\"+l),f=r(a+\"{1,4}\"),d=r(r(f+\"\\\\:\"+f)+\"|\"+p),h=r(r(f+\"\\\\:\")+\"{6}\"+d),m=r(\"\\\\:\\\\:\"+r(f+\"\\\\:\")+\"{5}\"+d),y=r(r(f)+\"?\\\\:\\\\:\"+r(f+\"\\\\:\")+\"{4}\"+d),v=r(r(r(f+\"\\\\:\")+\"{0,1}\"+f)+\"?\\\\:\\\\:\"+r(f+\"\\\\:\")+\"{3}\"+d),g=r(r(r(f+\"\\\\:\")+\"{0,2}\"+f)+\"?\\\\:\\\\:\"+r(f+\"\\\\:\")+\"{2}\"+d),b=r(r(r(f+\"\\\\:\")+\"{0,3}\"+f)+\"?\\\\:\\\\:\"+f+\"\\\\:\"+d),P=r(r(r(f+\"\\\\:\")+\"{0,4}\"+f)+\"?\\\\:\\\\:\"+d),w=r(r(r(f+\"\\\\:\")+\"{0,5}\"+f)+\"?\\\\:\\\\:\"+f),E=r(r(r(f+\"\\\\:\")+\"{0,6}\"+f)+\"?\\\\:\\\\:\"),_=r([h,m,y,v,g,b,P,w,E].join(\"|\")),k=r(r(c+\"|\"+n)+\"+\"),x=(r(\"[vV]\"+a+\"+\\\\.\"+t(c,o,\"[\\\\:]\")+\"+\"),r(r(n+\"|\"+t(c,o))+\"*\"),r(n+\"|\"+t(c,o,\"[\\\\:\\\\@]\")));return r(r(n+\"|\"+t(c,o,\"[\\\\@]\"))+\"+\"),r(r(x+\"|\"+t(\"[\\\\/\\\\?]\",u))+\"*\"),{NOT_SCHEME:new RegExp(t(\"[^]\",\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\"),\"g\"),NOT_USERINFO:new RegExp(t(\"[^\\\\%\\\\:]\",c,o),\"g\"),NOT_HOST:new RegExp(t(\"[^\\\\%\\\\[\\\\]\\\\:]\",c,o),\"g\"),NOT_PATH:new RegExp(t(\"[^\\\\%\\\\/\\\\:\\\\@]\",c,o),\"g\"),NOT_PATH_NOSCHEME:new RegExp(t(\"[^\\\\%\\\\/\\\\@]\",c,o),\"g\"),NOT_QUERY:new RegExp(t(\"[^\\\\%]\",c,o,\"[\\\\:\\\\@\\\\/\\\\?]\",u),\"g\"),NOT_FRAGMENT:new RegExp(t(\"[^\\\\%]\",c,o,\"[\\\\:\\\\@\\\\/\\\\?]\"),\"g\"),ESCAPE:new RegExp(t(\"[^]\",c,o),\"g\"),UNRESERVED:new RegExp(c,\"g\"),OTHER_CHARS:new RegExp(t(\"[^\\\\%]\",c,i),\"g\"),PCT_ENCODED:new RegExp(n,\"g\"),IPV4ADDRESS:new RegExp(\"^(\"+p+\")$\"),IPV6ADDRESS:new RegExp(\"^\\\\[?(\"+_+\")\"+r(r(\"\\\\%25|\\\\%(?!\"+a+\"{2})\")+\"(\"+k+\")\")+\"?\\\\]?$\")}}var i=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(u){n=!0,o=u}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},c=2147483647,l=/^xn--/,p=/[^\\0-\\x7E]/,f=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,d={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},h=Math.floor,m=String.fromCharCode;function y(e){throw new RangeError(d[e])}function v(e,t){var r=e.split(\"@\"),a=\"\";r.length>1&&(a=r[0]+\"@\",e=r[1]);var n=(e=e.replace(f,\".\")).split(\".\"),o=function(e,t){for(var r=[],a=e.length;a--;)r[a]=t(e[a]);return r}(n,t).join(\".\");return a+o}function g(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)}else t.push(n)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},P=function(e,t,r){var a=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;a+=36)e=h(e/35);return h(a+36*e/(e+38))},w=function(e){var t,r=[],a=e.length,n=0,o=128,i=72,s=e.lastIndexOf(\"-\");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&y(\"not-basic\"),r.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<a;){for(var p=n,f=1,d=36;;d+=36){l>=a&&y(\"invalid-input\");var m=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>h((c-n)/f))&&y(\"overflow\"),n+=m*f;var v=d<=i?1:d>=i+26?26:d-i;if(m<v)break;var g=36-v;f>h(c/g)&&y(\"overflow\"),f*=g}var b=r.length+1;i=P(n-p,b,0==p),h(n/b)>c-o&&y(\"overflow\"),o+=h(n/b),n%=b,r.splice(n++,0,o)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=g(e)).length,a=128,n=0,o=72,i=!0,s=!1,u=void 0;try{for(var l,p=e[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var f=l.value;f<128&&t.push(m(f))}}catch(N){s=!0,u=N}finally{try{!i&&p.return&&p.return()}finally{if(s)throw u}}var d=t.length,v=d;for(d&&t.push(\"-\");v<r;){var w=c,E=!0,_=!1,k=void 0;try{for(var x,S=e[Symbol.iterator]();!(E=(x=S.next()).done);E=!0){var O=x.value;O>=a&&O<w&&(w=O)}}catch(N){_=!0,k=N}finally{try{!E&&S.return&&S.return()}finally{if(_)throw k}}var j=v+1;w-a>h((c-n)/j)&&y(\"overflow\"),n+=(w-a)*j,a=w;var F=!0,A=!1,D=void 0;try{for(var I,$=e[Symbol.iterator]();!(F=(I=$.next()).done);F=!0){var R=I.value;if(R<a&&++n>c&&y(\"overflow\"),R==a){for(var T=n,C=36;;C+=36){var z=C<=o?1:C>=o+26?26:C-o;if(T<z)break;var q=T-z,U=36-z;t.push(m(b(z+q%U,0))),T=h(q/U)}t.push(m(b(T,0))),o=P(n,j,v==d),n=0,++v}}}catch(N){A=!0,D=N}finally{try{!F&&$.return&&$.return()}finally{if(A)throw D}}++n,++a}return t.join(\"\")},_={version:\"2.1.0\",ucs2:{decode:g,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:w,encode:E,toASCII:function(e){return v(e,function(e){return p.test(e)?\"xn--\"+E(e):e})},toUnicode:function(e){return v(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},k={};function x(e){var t=e.charCodeAt(0);return t<16?\"%0\"+t.toString(16).toUpperCase():t<128?\"%\"+t.toString(16).toUpperCase():t<2048?\"%\"+(t>>6|192).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase():\"%\"+(t>>12|224).toString(16).toUpperCase()+\"%\"+(t>>6&63|128).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase()}function S(e){for(var t=\"\",r=0,a=e.length;r<a;){var n=parseInt(e.substr(r+1,2),16);if(n<128)t+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(a-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&n)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(n>=224){if(a-r>=9){var i=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function O(e,t){function r(e){var r=S(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,\"\")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,n)),e}function j(e){return e.replace(/^0*(.*)/,\"$1\")||\"0\"}function F(e,t){var r=e.match(t.IPV4ADDRESS)||[],a=u(r,2),n=a[1];return n?n.split(\".\").map(j).join(\".\"):e}function A(e,t){var r=e.match(t.IPV6ADDRESS)||[],a=u(r,3),n=a[1],o=a[2];if(n){for(var i=n.toLowerCase().split(\"::\").reverse(),s=u(i,2),c=s[0],l=s[1],p=l?l.split(\":\").map(j):[],f=c.split(\":\").map(j),d=t.IPV4ADDRESS.test(f[f.length-1]),h=d?7:8,m=f.length-h,y=Array(h),v=0;v<h;++v)y[v]=p[v]||f[m+v]||\"\";d&&(y[h-1]=F(y[h-1],t));var g=y.reduce(function(e,t,r){if(!t||\"0\"===t){var a=e[e.length-1];a&&a.index+a.length===r?a.length++:e.push({index:r,length:1})}return e},[]),b=g.sort(function(e,t){return t.length-e.length})[0],P=void 0;if(b&&b.length>1){var w=y.slice(0,b.index),E=y.slice(b.index+b.length);P=w.join(\":\")+\"::\"+E.join(\":\")}else P=y.join(\":\");return o&&(P+=\"%\"+o),P}return e}var D=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,I=void 0===\"\".match(/(){0}/)[1];function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},a=!1!==t.iri?s:i;\"suffix\"===t.reference&&(e=(t.scheme?t.scheme+\":\":\"\")+\"//\"+e);var n=e.match(D);if(n){I?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||\"\",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==e.indexOf(\"@\")?n[3]:void 0,r.host=-1!==e.indexOf(\"//\")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||\"\",r.query=-1!==e.indexOf(\"?\")?n[7]:void 0,r.fragment=-1!==e.indexOf(\"#\")?n[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?n[4]:void 0)),r.host&&(r.host=A(F(r.host,a),a)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference=\"relative\":void 0===r.fragment?r.reference=\"absolute\":r.reference=\"uri\":r.reference=\"same-document\",t.reference&&\"suffix\"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||\"URI is not a \"+t.reference+\" reference.\");var o=k[(t.scheme||r.scheme||\"\").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)O(r,a);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=_.toASCII(r.host.replace(a.PCT_ENCODED,S).toLowerCase())}catch(u){r.error=r.error||\"Host's domain name can not be converted to ASCII via punycode: \"+u}O(r,i)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||\"URI can not be parsed.\";return r}var R=/^\\.\\.?\\//,T=/^\\/\\.(\\/|$)/,C=/^\\/\\.\\.(\\/|$)/,z=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function q(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,\"\");else if(e.match(T))e=e.replace(T,\"/\");else if(e.match(C))e=e.replace(C,\"/\"),t.pop();else if(\".\"===e||\"..\"===e)e=\"\";else{var r=e.match(z);if(!r)throw new Error(\"Unexpected dot segment condition\");var a=r[0];e=e.slice(a.length),t.push(a)}return t.join(\"\")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:i,a=[],n=k[(t.scheme||e.scheme||\"\").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?_.toUnicode(e.host):_.toASCII(e.host.replace(r.PCT_ENCODED,S).toLowerCase())}catch(c){e.error=e.error||\"Host's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+c}O(e,r),\"suffix\"!==t.reference&&e.scheme&&(a.push(e.scheme),a.push(\":\"));var o=function(e,t){var r=!1!==t.iri?s:i,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push(\"@\")),void 0!==e.host&&a.push(A(F(String(e.host),r),r).replace(r.IPV6ADDRESS,function(e,t,r){return\"[\"+t+(r?\"%25\"+r:\"\")+\"]\"})),\"number\"==typeof e.port&&(a.push(\":\"),a.push(e.port.toString(10))),a.length?a.join(\"\"):void 0}(e,t);if(void 0!==o&&(\"suffix\"!==t.reference&&a.push(\"//\"),a.push(o),e.path&&\"/\"!==e.path.charAt(0)&&a.push(\"/\")),void 0!==e.path){var u=e.path;t.absolutePath||n&&n.absolutePath||(u=q(u)),void 0===o&&(u=u.replace(/^\\/\\//,\"/%2F\")),a.push(u)}return void 0!==e.query&&(a.push(\"?\"),a.push(e.query)),void 0!==e.fragment&&(a.push(\"#\"),a.push(e.fragment)),a.join(\"\")}function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3],n={};return a||(e=$(U(e,r),r),t=$(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=q(t.path||\"\"),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=q(t.path||\"\"),n.query=t.query):(t.path?(\"/\"===t.path.charAt(0)?n.path=q(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf(\"/\")+1)+t.path:n.path=t.path:n.path=\"/\"+t.path,n.path=q(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function L(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:i.PCT_ENCODED,S)}var V={scheme:\"http\",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||\"HTTP URIs must have a host.\"),e},serialize:function(e,t){return e.port!==(\"https\"!==String(e.scheme).toLowerCase()?80:443)&&\"\"!==e.port||(e.port=void 0),e.path||(e.path=\"/\"),e}},M={scheme:\"https\",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},Q={},H=\"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\",B=\"[0-9A-Fa-f]\",K=r(r(\"%[EFef][0-9A-Fa-f]%\"+B+B+\"%\"+B+B)+\"|\"+r(\"%[89A-Fa-f][0-9A-Fa-f]%\"+B+B)+\"|\"+r(\"%\"+B+B)),J=t(\"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\",'[\\\\\"\\\\\\\\]'),X=new RegExp(H,\"g\"),Z=new RegExp(K,\"g\"),G=new RegExp(t(\"[^]\",\"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\",\"[\\\\.]\",'[\\\\\"]',J),\"g\"),Y=new RegExp(t(\"[^]\",H,\"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\"),\"g\"),W=Y;function ee(e){var t=S(e);return t.match(X)?t:e}var te={scheme:\"mailto\",parse:function(e,t){var r=e,a=r.to=r.path?r.path.split(\",\"):[];if(r.path=void 0,r.query){for(var n=!1,o={},i=r.query.split(\"&\"),s=0,u=i.length;s<u;++s){var c=i[s].split(\"=\");switch(c[0]){case\"to\":for(var l=c[1].split(\",\"),p=0,f=l.length;p<f;++p)a.push(l[p]);break;case\"subject\":r.subject=L(c[1],t);break;case\"body\":r.body=L(c[1],t);break;default:n=!0,o[L(c[0],t)]=L(c[1],t)}}n&&(r.headers=o)}r.query=void 0;for(var d=0,h=a.length;d<h;++d){var m=a[d].split(\"@\");if(m[0]=L(m[0]),t.unicodeSupport)m[1]=L(m[1],t).toLowerCase();else try{m[1]=_.toASCII(L(m[1],t).toLowerCase())}catch(y){r.error=r.error||\"Email address's domain name can not be converted to ASCII via punycode: \"+y}a[d]=m.join(\"@\")}return r},serialize:function(e,t){var r,a=e,o=null!=(r=e.to)?r instanceof Array?r:\"number\"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var i=0,s=o.length;i<s;++i){var u=String(o[i]),c=u.lastIndexOf(\"@\"),l=u.slice(0,c).replace(Z,ee).replace(Z,n).replace(G,x),p=u.slice(c+1);try{p=t.iri?_.toUnicode(p):_.toASCII(L(p,t).toLowerCase())}catch(m){a.error=a.error||\"Email address's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+m}o[i]=l+\"@\"+p}a.path=o.join(\",\")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var h in f)f[h]!==Q[h]&&d.push(h.replace(Z,ee).replace(Z,n).replace(Y,x)+\"=\"+f[h].replace(Z,ee).replace(Z,n).replace(W,x));return d.length&&(a.query=d.join(\"&\")),a}},re=/^([^\\:]+)\\:(.*)/,ae={scheme:\"urn\",parse:function(e,t){var r=e.path&&e.path.match(re),a=e;if(r){var n=t.scheme||a.scheme||\"urn\",o=r[1].toLowerCase(),i=r[2],s=n+\":\"+(t.nid||o),u=k[s];a.nid=o,a.nss=i,a.path=void 0,u&&(a=u.parse(a,t))}else a.error=a.error||\"URN can not be parsed.\";return a},serialize:function(e,t){var r=t.scheme||e.scheme||\"urn\",a=e.nid,n=r+\":\"+(t.nid||a),o=k[n];o&&(e=o.serialize(e,t));var i=e,s=e.nss;return i.path=(a||t.nid)+\":\"+s,i}},ne=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,oe={scheme:\"urn:uuid\",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ne)||(r.error=r.error||\"UUID is not valid.\"),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||\"\").toLowerCase(),r}};k[V.scheme]=V,k[M.scheme]=M,k[te.scheme]=te,k[ae.scheme]=ae,k[oe.scheme]=oe,e.SCHEMES=k,e.pctEncChar=x,e.pctDecChars=S,e.parse=$,e.removeDotSegments=q,e.serialize=U,e.resolveComponents=N,e.resolve=function(e,t,r){var a=function(e,t){var r=e;if(t)for(var a in t)r[a]=t[a];return r}({scheme:\"null\"},r);return U(N($(e,a),$(t,a),a,!0),a)},e.normalize=function(e,t){return\"string\"==typeof e?e=U($(e,t),t):\"object\"===a(e)&&(e=$(U(e,t),t)),e},e.equal=function(e,t,r){return\"string\"==typeof e?e=U($(e,r),r):\"object\"===a(e)&&(e=U(e,r)),\"string\"==typeof t?t=U($(t,r),r):\"object\"===a(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:i.ESCAPE,x)},e.unescapeComponent=L,Object.defineProperty(e,\"__esModule\",{value:!0})}(t)});(Kt=Xt)&&Kt.__esModule&&Object.prototype.hasOwnProperty.call(Kt,\"default\")&&Kt.default;var Zt=Array.isArray,Gt=Object.keys,Yt=Object.prototype.hasOwnProperty,Wt=function e(t,r){if(t===r)return!0;if(t&&r&&\"object\"==o(t)&&\"object\"==o(r)){var a,n,i,s=Zt(t),u=Zt(r);if(s&&u){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(s!=u)return!1;var c=t instanceof Date,l=r instanceof Date;if(c!=l)return!1;if(c&&l)return t.getTime()==r.getTime();var p=t instanceof RegExp,f=r instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==r.toString();var d=Gt(t);if((n=d.length)!==Gt(r).length)return!1;for(a=n;0!=a--;)if(!Yt.call(r,d[a]))return!1;for(a=n;0!=a--;)if(!e(t[i=d[a]],r[i]))return!1;return!0}return t!=t&&r!=r},er={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:tr,checkDataTypes:function(e,t){switch(e.length){case 1:return tr(e[0],t,!0);default:var r=\"\",a=ar(e);for(var n in a.array&&a.object&&(r=a.null?\"(\":\"(!\"+t+\" || \",r+=\"typeof \"+t+' !== \"object\")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)r+=(r?\" && \":\"\")+tr(n,t,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],a=0;a<t.length;a++){var n=t[a];rr[n]?r[r.length]=n:\"array\"===e&&\"array\"===n&&(r[r.length]=n)}if(r.length)return r}else{if(rr[t])return[t];if(\"array\"===e&&\"array\"===t)return[\"array\"]}},toHash:ar,getProperty:ir,escapeQuotes:sr,equal:Wt,ucs2length:function(e){for(var t,r=0,a=e.length,n=0;n<a;)r++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<a&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return r},varOccurences:function(e,t){t+=\"[^0-9]\";var r=e.match(new RegExp(t,\"g\"));return r?r.length:0},varReplace:function(e,t,r){return t+=\"([^0-9])\",r=r.replace(/\\$/g,\"$$$$\"),e.replace(new RegExp(t,\"g\"),r+\"$1\")},cleanUpCode:function(e){return e.replace(ur,\"\").replace(cr,\"\").replace(lr,\"if (!($1))\")},finalCleanUpCode:function(e,t){var r=e.match(pr);r&&2==r.length&&(e=t?e.replace(dr,\"\").replace(yr,vr):e.replace(fr,\"\").replace(hr,mr));return(r=e.match(gr))&&3===r.length?e.replace(br,\"\"):e},schemaHasRules:function(e,t){if(\"boolean\"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if(\"boolean\"==typeof e)return!e&&\"not\"!=r;for(var a in e)if(a!=r&&t[a])return!0},toQuotedString:Pr,getPathExpr:function(e,t,r,a){return _r(e,r?\"'/' + \"+t+(a?\"\":\".replace(/~/g, '~0').replace(/\\\\//g, '~1')\"):a?\"'[' + \"+t+\" + ']'\":\"'[\\\\'' + \"+t+\" + '\\\\']'\")},getPath:function(e,t,r){var a=Pr(r?\"/\"+kr(t):ir(t));return _r(e,a)},getData:function(e,t,r){var a,n,o,i;if(\"\"===e)return\"rootData\";if(\"/\"==e[0]){if(!wr.test(e))throw new Error(\"Invalid JSON-pointer: \"+e);n=e,o=\"rootData\"}else{if(!(i=e.match(Er)))throw new Error(\"Invalid JSON-pointer: \"+e);if(a=+i[1],\"#\"==(n=i[2])){if(a>=t)throw new Error(\"Cannot access property/index \"+a+\" levels up, current level is \"+t);return r[t-a]}if(a>t)throw new Error(\"Cannot access data \"+a+\" levels up, current level is \"+t);if(o=\"data\"+(t-a||\"\"),!n)return o}for(var s=o,u=n.split(\"/\"),c=0;c<u.length;c++){var l=u[c];l&&(o+=ir(xr(l)),s+=\" && \"+o)}return s},unescapeFragment:function(e){return xr(decodeURIComponent(e))},unescapeJsonPointer:xr,escapeFragment:function(e){return encodeURIComponent(kr(e))},escapeJsonPointer:kr};function tr(e,t,r){var a=r?\" !== \":\" === \",n=r?\" || \":\" && \",o=r?\"!\":\"\",i=r?\"\":\"!\";switch(e){case\"null\":return t+a+\"null\";case\"array\":return o+\"Array.isArray(\"+t+\")\";case\"object\":return\"(\"+o+t+n+\"typeof \"+t+a+'\"object\"'+n+i+\"Array.isArray(\"+t+\"))\";case\"integer\":return\"(typeof \"+t+a+'\"number\"'+n+i+\"(\"+t+\" % 1)\"+n+t+a+t+\")\";default:return\"typeof \"+t+a+'\"'+e+'\"'}}var rr=ar([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function ar(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var nr=/^[a-z$_][a-z$_0-9]*$/i,or=/'|\\\\/g;function ir(e){return\"number\"==typeof e?\"[\"+e+\"]\":nr.test(e)?\".\"+e:\"['\"+sr(e)+\"']\"}function sr(e){return e.replace(or,\"\\\\$&\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\f/g,\"\\\\f\").replace(/\\t/g,\"\\\\t\")}var ur=/else\\s*{\\s*}/g,cr=/if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g,lr=/if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;var pr=/[^v.]errors/g,fr=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,dr=/var errors = 0;|var vErrors = null;/g,hr=\"return errors === 0;\",mr=\"validate.errors = null; return true;\",yr=/if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/,vr=\"return data;\",gr=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,br=/if \\(rootData === undefined\\) rootData = data;/;function Pr(e){return\"'\"+sr(e)+\"'\"}var wr=/^\\/(?:[^~]|~0|~1)*$/,Er=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function _r(e,t){return'\"\"'==e?t:(e+\" + \"+t).replace(/' \\+ '/g,\"\")}function kr(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function xr(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}var Sr=function(e){er.copy(e,this)};var Or=ht(function(e){var t=e.exports=function(e,r,a){\"function\"==typeof r&&(a=r,r={}),function e(r,a,n,i,s,u,c,l,p,f){if(i&&\"object\"==o(i)&&!Array.isArray(i)){for(var d in a(i,s,u,c,l,p,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var m=0;m<h.length;m++)e(r,a,n,h[m],s+\"/\"+d+\"/\"+m,u,s,d,i,m)}else if(d in t.propsKeywords){if(h&&\"object\"==o(h))for(var y in h)e(r,a,n,h[y],s+\"/\"+d+\"/\"+y.replace(/~/g,\"~0\").replace(/\\//g,\"~1\"),u,s,d,i,y)}else(d in t.keywords||r.allKeys&&!(d in t.skipKeywords))&&e(r,a,n,h,s+\"/\"+d,u,s,d,i)}n(i,s,u,c,l,p,f)}}(r,\"function\"==typeof(a=r.cb||a)?a:a.pre||function(){},a.post||function(){},e,\"\",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),jr=Fr;function Fr(e,t,r){var a=this._refs[r];if(\"string\"==typeof a){if(!this._refs[a])return Fr.call(this,e,t,a);a=this._refs[a]}if((a=a||this._schemas[r])instanceof Sr)return Rr(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var n,o,i,s=Ar.call(this,t,r);return s&&(n=s.schema,t=s.root,i=s.baseId),n instanceof Sr?o=n.validate||e.call(this,n.schema,t,void 0,i):void 0!==n&&(o=Rr(n,this._opts.inlineRefs)?n:e.call(this,n,t,void 0,i)),o}function Ar(e,t){var r=Xt.parse(t),a=Cr(r),n=Tr(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==n){var o=qr(a),i=this._refs[o];if(\"string\"==typeof i)return function(e,t,r){var a=Ar.call(this,e,t);if(a){var n=a.schema,o=a.baseId;e=a.root;var i=this._getId(n);return i&&(o=Ur(o,i)),Ir.call(this,r,o,n,e)}}.call(this,e,i,r);if(i instanceof Sr)i.validate||this._compile(i),e=i;else{if(!((i=this._schemas[o])instanceof Sr))return;if(i.validate||this._compile(i),o==qr(t))return{schema:i,root:e,baseId:n};e=i}if(!e.schema)return;n=Tr(this._getId(e.schema))}return Ir.call(this,r,n,e.schema,e)}Fr.normalizeId=qr,Fr.fullPath=Tr,Fr.url=Ur,Fr.ids=function(e){var t=qr(this._getId(e)),r={\"\":t},a={\"\":Tr(t,!1)},n={},o=this;return Or(e,{allKeys:!0},function(e,t,i,s,u,c,l){if(\"\"!==t){var p=o._getId(e),f=r[s],d=a[s]+\"/\"+u;if(void 0!==l&&(d+=\"/\"+(\"number\"==typeof l?l:er.escapeFragment(l))),\"string\"==typeof p){p=f=qr(f?Xt.resolve(f,p):p);var h=o._refs[p];if(\"string\"==typeof h&&(h=o._refs[h]),h&&h.schema){if(!Wt(e,h.schema))throw new Error('id \"'+p+'\" resolves to more than one schema')}else if(p!=qr(d))if(\"#\"==p[0]){if(n[p]&&!Wt(e,n[p]))throw new Error('id \"'+p+'\" resolves to more than one schema');n[p]=e}else o._refs[p]=d}r[t]=f,a[t]=d}}),n},Fr.inlineRef=Rr,Fr.schema=Ar;var Dr=er.toHash([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function Ir(e,t,r,a){if(e.fragment=e.fragment||\"\",\"/\"==e.fragment.slice(0,1)){for(var n=e.fragment.split(\"/\"),o=1;o<n.length;o++){var i=n[o];if(i){if(void 0===(r=r[i=er.unescapeFragment(i)]))break;var s;if(!Dr[i]&&((s=this._getId(r))&&(t=Ur(t,s)),r.$ref)){var u=Ur(t,r.$ref),c=Ar.call(this,a,u);c&&(r=c.schema,a=c.root,t=c.baseId)}}}return void 0!==r&&r!==a.schema?{schema:r,root:a,baseId:t}:void 0}}var $r=er.toHash([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\"]);function Rr(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(\"object\"==o(r=t[a])&&!e(r))return!1}else for(var n in t){if(\"$ref\"==n)return!1;if(\"object\"==o(r=t[n])&&!e(r))return!1}return!0}(e):t?function e(t){var r,a=0;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(\"object\"==o(r=t[n])&&(a+=e(r)),a==1/0)return 1/0}else for(var i in t){if(\"$ref\"==i)return 1/0;if($r[i])a++;else if(\"object\"==o(r=t[i])&&(a+=e(r)+1),a==1/0)return 1/0}return a}(e)<=t:void 0)}function Tr(e,t){return!1!==t&&(e=qr(e)),Cr(Xt.parse(e))}function Cr(e){return Xt.serialize(e).split(\"#\")[0]+\"#\"}var zr=/#\\/?$/;function qr(e){return e?e.replace(zr,\"\"):\"\"}function Ur(e,t){return t=qr(t),Xt.resolve(e,t)}var Nr={Validation:Vr(function(e){this.message=\"validation failed\",this.errors=e,this.ajv=this.validation=!0}),MissingRef:Vr(Lr)};function Lr(e,t,r){this.message=r||Lr.message(e,t),this.missingRef=jr.url(e,t),this.missingSchema=jr.normalizeId(jr.fullPath(this.missingRef))}function Vr(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Lr.message=function(e,t){return\"can't resolve reference \"+t+\" from id \"+e};var Mr=function(e,t){t||(t={}),\"function\"==typeof t&&(t={cmp:t});var r,a=\"boolean\"==typeof t.cycles&&t.cycles,n=t.cmp&&(r=t.cmp,function(e){return function(t,a){var n={key:t,value:e[t]},o={key:a,value:e[a]};return r(n,o)}}),i=[];return function e(t){if(t&&t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if(\"number\"==typeof t)return isFinite(t)?\"\"+t:\"null\";if(\"object\"!==o(t))return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s=\"[\",r=0;r<t.length;r++)r&&(s+=\",\"),s+=e(t[r])||\"null\";return s+\"]\"}if(null===t)return\"null\";if(-1!==i.indexOf(t)){if(a)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var u=i.push(t)-1,c=Object.keys(t).sort(n&&n(t));for(s=\"\",r=0;r<c.length;r++){var l=c[r],p=e(t[l]);p&&(s&&(s+=\",\"),s+=JSON.stringify(l)+\":\"+p)}return i.splice(u,1),\"{\"+s+\"}\"}}(e)},Qr=function(e,t,r){var a=\"\",n=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\"$ref\"),i=e.self._getId(e.schema);if(e.isTop&&(a+=\" var validate = \",n&&(e.async=!0,a+=\"async \"),a+=\"function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \",i&&(e.opts.sourceCode||e.opts.processCode)&&(a+=\" /*# sourceURL=\"+i+\" */ \")),\"boolean\"==typeof e.schema||!o&&!e.schema.$ref){var s=e.level,u=e.dataLevel,c=e.schema[\"false schema\"],l=e.schemaPath+e.util.getProperty(\"false schema\"),p=e.errSchemaPath+\"/false schema\",f=!e.opts.allErrors,d=\"data\"+(u||\"\"),h=\"valid\"+s;if(!1===e.schema){e.isTop?f=!0:a+=\" var \"+h+\" = false; \",(J=J||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'false schema' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(p)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'boolean schema is false' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),a+=\" } \"):a+=\" {} \";var m=a;a=J.pop(),!e.compositeRule&&f?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else e.isTop?a+=n?\" return data; \":\" validate.errors = null; return true; \":a+=\" var \"+h+\" = true; \";return e.isTop&&(a+=\" }; return validate; \"),a}if(e.isTop){var y=e.isTop;s=e.level=0,u=e.dataLevel=0,d=\"data\";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],a+=\" var vErrors = null; \",a+=\" var errors = 0;     \",a+=\" if (rootData === undefined) rootData = data; \"}else{s=e.level,d=\"data\"+((u=e.dataLevel)||\"\");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),n&&!e.async)throw new Error(\"async schema in sync schema\");a+=\" var errs_\"+s+\" = errors;\"}h=\"valid\"+s,f=!e.opts.allErrors;var v=\"\",g=\"\",b=e.schema.type,P=Array.isArray(b);if(P&&1==b.length&&(b=b[0],P=!1),e.schema.$ref&&o){if(\"fail\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \"'+e.errSchemaPath+'\" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path \"'+e.errSchemaPath+'\"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=\" \"+e.RULES.all.$comment.code(e,\"$comment\")),b){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,b);var E=e.RULES.types[b];if(w||P||!0===E||E&&!X(E)){l=e.schemaPath+\".type\",p=e.errSchemaPath+\"/type\",l=e.schemaPath+\".type\",p=e.errSchemaPath+\"/type\";var _=P?\"checkDataTypes\":\"checkDataType\";if(a+=\" if (\"+e.util[_](b,d,!0)+\") { \",w){var k=\"dataType\"+s,x=\"coerced\"+s;a+=\" var \"+k+\" = typeof \"+d+\"; \",\"array\"==e.opts.coerceTypes&&(a+=\" if (\"+k+\" == 'object' && Array.isArray(\"+d+\")) \"+k+\" = 'array'; \"),a+=\" var \"+x+\" = undefined; \";var S=\"\",O=w;if(O)for(var j,F=-1,A=O.length-1;F<A;)j=O[F+=1],F&&(a+=\" if (\"+x+\" === undefined) { \",S+=\"}\"),\"array\"==e.opts.coerceTypes&&\"array\"!=j&&(a+=\" if (\"+k+\" == 'array' && \"+d+\".length == 1) { \"+x+\" = \"+d+\" = \"+d+\"[0]; \"+k+\" = typeof \"+d+\";  } \"),\"string\"==j?a+=\" if (\"+k+\" == 'number' || \"+k+\" == 'boolean') \"+x+\" = '' + \"+d+\"; else if (\"+d+\" === null) \"+x+\" = ''; \":\"number\"==j||\"integer\"==j?(a+=\" if (\"+k+\" == 'boolean' || \"+d+\" === null || (\"+k+\" == 'string' && \"+d+\" && \"+d+\" == +\"+d+\" \",\"integer\"==j&&(a+=\" && !(\"+d+\" % 1)\"),a+=\")) \"+x+\" = +\"+d+\"; \"):\"boolean\"==j?a+=\" if (\"+d+\" === 'false' || \"+d+\" === 0 || \"+d+\" === null) \"+x+\" = false; else if (\"+d+\" === 'true' || \"+d+\" === 1) \"+x+\" = true; \":\"null\"==j?a+=\" if (\"+d+\" === '' || \"+d+\" === 0 || \"+d+\" === false) \"+x+\" = null; \":\"array\"==e.opts.coerceTypes&&\"array\"==j&&(a+=\" if (\"+k+\" == 'string' || \"+k+\" == 'number' || \"+k+\" == 'boolean' || \"+d+\" == null) \"+x+\" = [\"+d+\"]; \");a+=\" \"+S+\" if (\"+x+\" === undefined) {   \",(J=J||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(p)+\" , params: { type: '\",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=J.pop(),!e.compositeRule&&f?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else {  \";var D=u?\"data\"+(u-1||\"\"):\"parentData\";a+=\" \"+d+\" = \"+x+\"; \",u||(a+=\"if (\"+D+\" !== undefined)\"),a+=\" \"+D+\"[\"+(u?e.dataPathArr[u]:\"parentDataProperty\")+\"] = \"+x+\"; } \"}else{(J=J||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(p)+\" , params: { type: '\",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=J.pop(),!e.compositeRule&&f?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}a+=\" } \"}}if(e.schema.$ref&&!o)a+=\" \"+e.RULES.all.$ref.code(e,\"$ref\")+\" \",f&&(a+=\" } if (errors === \",a+=y?\"0\":\"errs_\"+s,a+=\") { \",g+=\"}\");else{var I=e.RULES;if(I)for(var $=-1,R=I.length-1;$<R;)if(X(E=I[$+=1])){if(E.type&&(a+=\" if (\"+e.util.checkDataType(E.type,d)+\") { \"),e.opts.useDefaults&&!e.compositeRule)if(\"object\"==E.type&&e.schema.properties){c=e.schema.properties;var T=Object.keys(c);if(T)for(var C,z=-1,q=T.length-1;z<q;){if(void 0!==(N=c[C=T[z+=1]]).default)a+=\"  if (\"+(V=d+e.util.getProperty(C))+\" === undefined) \"+V+\" = \",\"shared\"==e.opts.useDefaults?a+=\" \"+e.useDefault(N.default)+\" \":a+=\" \"+JSON.stringify(N.default)+\" \",a+=\"; \"}}else if(\"array\"==E.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){F=-1;for(var N,L=U.length-1;F<L;){var V;if(void 0!==(N=U[F+=1]).default)a+=\"  if (\"+(V=d+\"[\"+F+\"]\")+\" === undefined) \"+V+\" = \",\"shared\"==e.opts.useDefaults?a+=\" \"+e.useDefault(N.default)+\" \":a+=\" \"+JSON.stringify(N.default)+\" \",a+=\"; \"}}}var M=E.rules;if(M)for(var Q,H=-1,B=M.length-1;H<B;)if(Z(Q=M[H+=1])){var K=Q.code(e,Q.keyword,E.type);K&&(a+=\" \"+K+\" \",f&&(v+=\"}\"))}if(f&&(a+=\" \"+v+\" \",v=\"\"),E.type&&(a+=\" } \",b&&b===E.type&&!w)){a+=\" else { \";var J;l=e.schemaPath+\".type\",p=e.errSchemaPath+\"/type\";(J=J||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(p)+\" , params: { type: '\",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should be \",a+=P?\"\"+b.join(\",\"):\"\"+b,a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+l+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+d+\" \"),a+=\" } \"):a+=\" {} \";m=a;a=J.pop(),!e.compositeRule&&f?e.async?a+=\" throw new ValidationError([\"+m+\"]); \":a+=\" validate.errors = [\"+m+\"]; return false; \":a+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \"}f&&(a+=\" if (errors === \",a+=y?\"0\":\"errs_\"+s,a+=\") { \",g+=\"}\")}}function X(e){for(var t=e.rules,r=0;r<t.length;r++)if(Z(t[r]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,a=0;a<r.length;a++)if(void 0!==e.schema[r[a]])return!0}(t)}return f&&(a+=\" \"+g+\" \"),y?(n?(a+=\" if (errors === 0) return data;           \",a+=\" else throw new ValidationError(vErrors); \"):(a+=\" validate.errors = vErrors; \",a+=\" return errors === 0;       \"),a+=\" }; return validate;\"):a+=\" var \"+h+\" = errors === errs_\"+s+\";\",a=e.util.cleanUpCode(a),y&&(a=e.util.finalCleanUpCode(a,n)),a},Hr=er.ucs2length,Br=Nr.Validation,Kr=function e(t,r,a,n){var i=this,s=this._opts,u=[void 0],c={},l=[],p={},f=[],d={},h=[];r=r||{schema:t,refVal:u,refs:c};var m=function(e,t,r){var a=Jr.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}.call(this,t,r,n);var y=this._compilations[m.index];if(m.compiling)return y.callValidate=function e(){var t=y.validate;var r=t.apply(this,arguments);e.errors=t.errors;return r};var v=this._formats;var g=this.RULES;try{var b=w(t,r,a,n);y.validate=b;var P=y.callValidate;return P&&(P.schema=b.schema,P.errors=null,P.refs=b.refs,P.refVal=b.refVal,P.root=b.root,P.$async=b.$async,s.sourceCode&&(P.source=b.source)),b}finally{(function(e,t,r){var a=Jr.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}).call(this,t,r,n)}function w(t,a,n,o){var p=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(i,t,a,n,o);var d,m=!0===t.$async,y=Qr({isTop:!0,schema:t,isRoot:p,baseId:o,root:a,schemaPath:\"\",errSchemaPath:\"#\",errorPath:'\"\"',MissingRefError:Nr.MissingRef,RULES:g,validate:Qr,util:er,resolve:jr,resolveRef:E,usePattern:x,useDefault:S,useCustomRule:O,opts:s,formats:v,logger:i.logger,self:i});y=Wr(u,Gr)+Wr(l,Xr)+Wr(f,Zr)+Wr(h,Yr)+y,s.processCode&&(y=s.processCode(y));try{var b=new Function(\"self\",\"RULES\",\"formats\",\"root\",\"refVal\",\"defaults\",\"customRules\",\"equal\",\"ucs2length\",\"ValidationError\",y);d=b(i,g,v,r,u,f,h,Wt,Hr,Br),u[0]=d}catch(P){throw i.logger.error(\"Error compiling schema, function code:\",y),P}return d.schema=t,d.errors=null,d.refs=c,d.refVal=u,d.root=p?d:a,m&&(d.$async=!0),!0===s.sourceCode&&(d.source={code:y,patterns:l,defaults:f}),d}function E(t,n,o){n=jr.url(t,n);var l,p,f=c[n];if(void 0!==f)return k(l=u[f],p=\"refVal[\"+f+\"]\");if(!o&&r.refs){var d=r.refs[n];if(void 0!==d)return l=r.refVal[d],p=_(n,l),k(l,p)}p=_(n);var h=jr.call(i,w,r,n);if(void 0===h){var m=a&&a[n];m&&(h=jr.inlineRef(m,s.inlineRefs)?m:e.call(i,m,r,a,t))}if(void 0!==h)return function(e,t){var r=c[e];u[r]=t}(n,h),k(h,p);!function(e){delete c[e]}(n)}function _(e,t){var r=u.length;return u[r]=t,c[e]=r,\"refVal\"+r}function k(e,t){return\"object\"==o(e)||\"boolean\"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function x(e){var t=p[e];return void 0===t&&(t=p[e]=l.length,l[t]=e),\"pattern\"+t}function S(e){switch(o(e)){case\"boolean\":case\"number\":return\"\"+e;case\"string\":return er.toQuotedString(e);case\"object\":if(null===e)return\"null\";var t=Mr(e),r=d[t];return void 0===r&&(r=d[t]=f.length,f[r]=e),\"default\"+r}}function O(e,t,r,a){var n=e.definition.validateSchema;if(n&&!1!==i._opts.validateSchema){var o=n(t);if(!o){var u=\"keyword schema is invalid: \"+i.errorsText(n.errors);if(\"log\"!=i._opts.validateSchema)throw new Error(u);i.logger.error(u)}}var c,l=e.definition.compile,p=e.definition.inline,f=e.definition.macro;if(l)c=l.call(i,t,r,a);else if(f)c=f.call(i,t,r,a),!1!==s.validateSchema&&i.validateSchema(c,!0);else if(p)c=p.call(i,a,e.keyword,t,r);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword \"'+e.keyword+'\"failed to compile');var d=h.length;return h[d]=c,{code:\"customRule\"+d,validate:c}}};function Jr(e,t,r){for(var a=0;a<this._compilations.length;a++){var n=this._compilations[a];if(n.schema==e&&n.root==t&&n.baseId==r)return a}return-1}function Xr(e,t){return\"var pattern\"+e+\" = new RegExp(\"+er.toQuotedString(t[e])+\");\"}function Zr(e){return\"var default\"+e+\" = defaults[\"+e+\"];\"}function Gr(e,t){return void 0===t[e]?\"\":\"var refVal\"+e+\" = refVal[\"+e+\"];\"}function Yr(e){return\"var customRule\"+e+\" = customRules[\"+e+\"];\"}function Wr(e,t){if(!e.length)return\"\";for(var r=\"\",a=0;a<e.length;a++)r+=t(a,e);return r}var ea=ht(function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}}),ta=/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/,ra=[0,31,28,31,30,31,30,31,31,30,31,30,31],aa=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i,na=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,oa=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i,ia=/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#.\\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,sa=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,ua=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ca=/^(?:\\/(?:[^~\\/]|~0|~1)*)*$/,la=/^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,pa=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~\\/]|~0|~1)*)*)$/,fa=da;function da(e){return e=\"full\"==e?\"full\":\"fast\",er.copy(da[e])}function ha(e){var t=e.match(ta);if(!t)return!1;var r=+t[1],a=+t[2],n=+t[3];return a>=1&&a<=12&&n>=1&&n<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:ra[a])}function ma(e,t){var r=e.match(aa);if(!r)return!1;var a=r[1],n=r[2],o=r[3],i=r[5];return(a<=23&&n<=59&&o<=59||23==a&&59==n&&60==o)&&(!t||i)}da.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\"date-time\":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\"uri-reference\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\"uri-template\":ia,url:sa,email:/^[a-z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:na,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:ba,uuid:ua,\"json-pointer\":ca,\"json-pointer-uri-fragment\":la,\"relative-json-pointer\":pa},da.full={date:ha,time:ma,\"date-time\":function(e){var t=e.split(ya);return 2==t.length&&ha(t[0])&&ma(t[1],!0)},uri:function(e){return va.test(e)&&oa.test(e)},\"uri-reference\":/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@\\/?]|%[0-9a-f]{2})*)?$/i,\"uri-template\":ia,url:sa,email:/^[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&na.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:ba,uuid:ua,\"json-pointer\":ca,\"json-pointer-uri-fragment\":la,\"relative-json-pointer\":pa};var ya=/t|\\s/i;var va=/\\/|:/;var ga=/[^\\\\]\\\\Z/;function ba(e){if(ga.test(e))return!1;try{return!0}catch(t){return!1}}var Pa=function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s;var d=\"maximum\"==t,h=d?\"exclusiveMaximum\":\"exclusiveMinimum\",m=e.schema[h],y=e.opts.$data&&m&&m.$data,v=d?\"<\":\">\",g=d?\">\":\"<\",b=void 0;if(y){var P=e.util.getData(m.$data,i,e.dataPathArr),w=\"exclusive\"+o,E=\"exclType\"+o,_=\"exclIsNumber\"+o,k=\"' + \"+(O=\"op\"+o)+\" + '\";n+=\" var schemaExcl\"+o+\" = \"+P+\"; \",n+=\" var \"+w+\"; var \"+E+\" = typeof \"+(P=\"schemaExcl\"+o)+\"; if (\"+E+\" != 'boolean' && \"+E+\" != 'undefined' && \"+E+\" != 'number') { \";var x;b=h;(x=x||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: '\"+(b||\"_exclusiveLimit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: '\"+h+\" should be boolean' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var S=n;n=x.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+S+\"]); \":n+=\" validate.errors = [\"+S+\"]; return false; \":n+=\" var err = \"+S+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),n+=\" \"+E+\" == 'number' ? ( (\"+w+\" = \"+a+\" === undefined || \"+P+\" \"+v+\"= \"+a+\") ? \"+p+\" \"+g+\"= \"+P+\" : \"+p+\" \"+g+\" \"+a+\" ) : ( (\"+w+\" = \"+P+\" === true) ? \"+p+\" \"+g+\"= \"+a+\" : \"+p+\" \"+g+\" \"+a+\" ) || \"+p+\" !== \"+p+\") { var op\"+o+\" = \"+w+\" ? '\"+v+\"' : '\"+v+\"='; \",void 0===s&&(b=h,c=e.errSchemaPath+\"/\"+h,a=P,f=y)}else{k=v;if((_=\"number\"==typeof m)&&f){var O=\"'\"+k+\"'\";n+=\" if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),n+=\" ( \"+a+\" === undefined || \"+m+\" \"+v+\"= \"+a+\" ? \"+p+\" \"+g+\"= \"+m+\" : \"+p+\" \"+g+\" \"+a+\" ) || \"+p+\" !== \"+p+\") { \"}else{_&&void 0===s?(w=!0,b=h,c=e.errSchemaPath+\"/\"+h,a=m,g+=\"=\"):(_&&(a=Math[d?\"min\":\"max\"](m,s)),m===(!_||a)?(w=!0,b=h,c=e.errSchemaPath+\"/\"+h,g+=\"=\"):(w=!1,k+=\"=\"));O=\"'\"+k+\"'\";n+=\" if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),n+=\" \"+p+\" \"+g+\" \"+a+\" || \"+p+\" !== \"+p+\") { \"}}b=b||t,(x=x||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: '\"+(b||\"_limit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { comparison: \"+O+\", limit: \"+a+\", exclusive: \"+w+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should be \"+k+\" \",n+=f?\"' + \"+a:a+\"'\"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";S=n;return n=x.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+S+\"]); \":n+=\" validate.errors = [\"+S+\"]; return false; \":n+=\" var err = \"+S+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } \",l&&(n+=\" else { \"),n},wa=function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s,n+=\"if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),n+=\" \"+p+\".length \"+(\"maxItems\"==t?\">\":\"<\")+\" \"+a+\") { \";var d=t,h=h||[];h.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: '\"+(d||\"_limitItems\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT have \",n+=\"maxItems\"==t?\"more\":\"fewer\",n+=\" than \",n+=f?\"' + \"+a+\" + '\":\"\"+s,n+=\" items' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var m=n;return n=h.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\"} \",l&&(n+=\" else { \"),n},Ea=function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s;var d=\"maxLength\"==t?\">\":\"<\";n+=\"if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),!1===e.opts.unicode?n+=\" \"+p+\".length \":n+=\" ucs2length(\"+p+\") \",n+=\" \"+d+\" \"+a+\") { \";var h=t,m=m||[];m.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: '\"+(h||\"_limitLength\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT be \",n+=\"maxLength\"==t?\"longer\":\"shorter\",n+=\" than \",n+=f?\"' + \"+a+\" + '\":\"\"+s,n+=\" characters' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var y=n;return n=m.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+y+\"]); \":n+=\" validate.errors = [\"+y+\"]; return false; \":n+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\"} \",l&&(n+=\" else { \"),n},_a=function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s,n+=\"if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'number') || \"),n+=\" Object.keys(\"+p+\").length \"+(\"maxProperties\"==t?\">\":\"<\")+\" \"+a+\") { \";var d=t,h=h||[];h.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: '\"+(d||\"_limitProperties\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+a+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT have \",n+=\"maxProperties\"==t?\"more\":\"fewer\",n+=\" than \",n+=f?\"' + \"+a+\" + '\":\"\"+s,n+=\" properties' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var m=n;return n=h.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\"} \",l&&(n+=\" else { \"),n},ka={$ref:function(e,t,r){var a,n,o=\" \",i=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(s||\"\"),f=\"valid\"+i;if(\"#\"==u||\"#/\"==u)e.isRoot?(a=e.async,n=\"validate\"):(a=!0===e.root.schema.$async,n=\"root.refVal[0]\");else{var d=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===d){var h=e.MissingRefError.message(e.baseId,u);if(\"fail\"==e.opts.missingRefs){e.logger.error(h),(g=g||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '$ref' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { ref: '\"+e.util.escapeQuotes(u)+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'can\\\\'t resolve reference \"+e.util.escapeQuotes(u)+\"' \"),e.opts.verbose&&(o+=\" , schema: \"+e.util.toQuotedString(u)+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),o+=\" } \"):o+=\" {} \";var m=o;o=g.pop(),!e.compositeRule&&l?e.async?o+=\" throw new ValidationError([\"+m+\"]); \":o+=\" validate.errors = [\"+m+\"]; return false; \":o+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",l&&(o+=\" if (false) { \")}else{if(\"ignore\"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);e.logger.warn(h),l&&(o+=\" if (true) { \")}}else if(d.inline){var y=e.util.copy(e);y.level++;var v=\"valid\"+y.level;y.schema=d.schema,y.schemaPath=\"\",y.errSchemaPath=u,o+=\" \"+e.validate(y).replace(/validate\\.schema/g,d.code)+\" \",l&&(o+=\" if (\"+v+\") { \")}else a=!0===d.$async||e.async&&!1!==d.$async,n=d.code}if(n){var g;(g=g||[]).push(o),o=\"\",e.opts.passContext?o+=\" \"+n+\".call(this, \":o+=\" \"+n+\"( \",o+=\" \"+p+\", (dataPath || '')\",'\"\"'!=e.errorPath&&(o+=\" + \"+e.errorPath);var b=o+=\" , \"+(s?\"data\"+(s-1||\"\"):\"parentData\")+\" , \"+(s?e.dataPathArr[s]:\"parentDataProperty\")+\", rootData)  \";if(o=g.pop(),a){if(!e.async)throw new Error(\"async schema referenced by sync schema\");l&&(o+=\" var \"+f+\"; \"),o+=\" try { await \"+b+\"; \",l&&(o+=\" \"+f+\" = true; \"),o+=\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \",l&&(o+=\" \"+f+\" = false; \"),o+=\" } \",l&&(o+=\" if (\"+f+\") { \")}else o+=\" if (!\"+b+\") { if (vErrors === null) vErrors = \"+n+\".errors; else vErrors = vErrors.concat(\"+n+\".errors); errors = vErrors.length; } \",l&&(o+=\" else { \")}return o},allOf:function(e,t,r){var a=\" \",n=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+\"/\"+t,s=!e.opts.allErrors,u=e.util.copy(e),c=\"\";u.level++;var l=\"valid\"+u.level,p=u.baseId,f=!0,d=n;if(d)for(var h,m=-1,y=d.length-1;m<y;)h=d[m+=1],e.util.schemaHasRules(h,e.RULES.all)&&(f=!1,u.schema=h,u.schemaPath=o+\"[\"+m+\"]\",u.errSchemaPath=i+\"/\"+m,a+=\"  \"+e.validate(u)+\" \",u.baseId=p,s&&(a+=\" if (\"+l+\") { \",c+=\"}\"));return s&&(a+=f?\" if (true) { \":\" \"+c.slice(0,-1)+\" \"),a=e.util.cleanUpCode(a)},anyOf:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=\"errs__\"+n,d=e.util.copy(e),h=\"\";d.level++;var m=\"valid\"+d.level;if(i.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var y=d.baseId;a+=\" var \"+f+\" = errors; var \"+p+\" = false;  \";var v=e.compositeRule;e.compositeRule=d.compositeRule=!0;var g=i;if(g)for(var b,P=-1,w=g.length-1;P<w;)b=g[P+=1],d.schema=b,d.schemaPath=s+\"[\"+P+\"]\",d.errSchemaPath=u+\"/\"+P,a+=\"  \"+e.validate(d)+\" \",d.baseId=y,a+=\" \"+p+\" = \"+p+\" || \"+m+\"; if (!\"+p+\") { \",h+=\"}\";e.compositeRule=d.compositeRule=v,a+=\" \"+h+\" if (!\"+p+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should match some schema in anyOf' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\" } else {  errors = \"+f+\"; if (vErrors !== null) { if (\"+f+\") vErrors.length = \"+f+\"; else vErrors = null; } \",e.opts.allErrors&&(a+=\" } \"),a=e.util.cleanUpCode(a)}else c&&(a+=\" if (true) { \");return a},$comment:function(e,t,r){var a=\" \",n=e.schema[t],o=e.errSchemaPath+\"/\"+t,i=(e.opts.allErrors,e.util.toQuotedString(n));return!0===e.opts.$comment?a+=\" console.log(\"+i+\");\":\"function\"==typeof e.opts.$comment&&(a+=\" self._opts.$comment(\"+i+\", \"+e.util.toQuotedString(o)+\", validate.root.schema);\"),a},const:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=e.opts.$data&&i&&i.$data;f&&(a+=\" var schema\"+n+\" = \"+e.util.getData(i.$data,o,e.dataPathArr)+\"; \"),f||(a+=\" var schema\"+n+\" = validate.schema\"+s+\";\"),a+=\"var \"+p+\" = equal(\"+l+\", schema\"+n+\"); if (!\"+p+\") {   \";var d=d||[];d.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'const' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { allowedValue: schema\"+n+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should be equal to constant' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var h=a;return a=d.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+h+\"]); \":a+=\" validate.errors = [\"+h+\"]; return false; \":a+=\" var err = \"+h+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" }\",c&&(a+=\" else { \"),a},contains:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=\"errs__\"+n,d=e.util.copy(e);d.level++;var h=\"valid\"+d.level,m=\"i\"+n,y=d.dataLevel=e.dataLevel+1,v=\"data\"+y,g=e.baseId,b=e.util.schemaHasRules(i,e.RULES.all);if(a+=\"var \"+f+\" = errors;var \"+p+\";\",b){var P=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=i,d.schemaPath=s,d.errSchemaPath=u,a+=\" var \"+h+\" = false; for (var \"+m+\" = 0; \"+m+\" < \"+l+\".length; \"+m+\"++) { \",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+\"[\"+m+\"]\";d.dataPathArr[y]=m;var E=e.validate(d);d.baseId=g,e.util.varOccurences(E,v)<2?a+=\" \"+e.util.varReplace(E,v,w)+\" \":a+=\" var \"+v+\" = \"+w+\"; \"+E+\" \",a+=\" if (\"+h+\") break; }  \",e.compositeRule=d.compositeRule=P,a+=\"  if (!\"+h+\") {\"}else a+=\" if (\"+l+\".length == 0) {\";var _=_||[];_.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'contains' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should contain a valid item' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var k=a;return a=_.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+k+\"]); \":a+=\" validate.errors = [\"+k+\"]; return false; \":a+=\" var err = \"+k+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \",b&&(a+=\"  errors = \"+f+\"; if (vErrors !== null) { if (\"+f+\") vErrors.length = \"+f+\"; else vErrors = null; } \"),e.opts.allErrors&&(a+=\" } \"),a=e.util.cleanUpCode(a)},dependencies:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"errs__\"+n,f=e.util.copy(e),d=\"\";f.level++;var h=\"valid\"+f.level,m={},y={},v=e.opts.ownProperties;for(w in i){var g=i[w],b=Array.isArray(g)?y:m;b[w]=g}a+=\"var \"+p+\" = errors;\";var P=e.errorPath;for(var w in a+=\"var missing\"+n+\";\",y)if((b=y[w]).length){if(a+=\" if ( \"+l+e.util.getProperty(w)+\" !== undefined \",v&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(w)+\"') \"),c){a+=\" && ( \";var E=b;if(E)for(var _=-1,k=E.length-1;_<k;)A=E[_+=1],_&&(a+=\" || \"),a+=\" ( ( \"+(R=l+($=e.util.getProperty(A)))+\" === undefined \",v&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(A)+\"') \"),a+=\") && (missing\"+n+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?A:$)+\") ) \";a+=\")) {  \";var x=\"missing\"+n,S=\"' + \"+x+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,x,!0):P+\" + \"+x);var O=O||[];O.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { property: '\"+e.util.escapeQuotes(w)+\"', missingProperty: '\"+S+\"', depsCount: \"+b.length+\", deps: '\"+e.util.escapeQuotes(1==b.length?b[0]:b.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==b.length?a+=\"property \"+e.util.escapeQuotes(b[0]):a+=\"properties \"+e.util.escapeQuotes(b.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(w)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var j=a;a=O.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+j+\"]); \":a+=\" validate.errors = [\"+j+\"]; return false; \":a+=\" var err = \"+j+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else{a+=\" ) { \";var F=b;if(F)for(var A,D=-1,I=F.length-1;D<I;){A=F[D+=1];var $=e.util.getProperty(A),R=(S=e.util.escapeQuotes(A),l+$);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,A,e.opts.jsonPointers)),a+=\" if ( \"+R+\" === undefined \",v&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(A)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { property: '\"+e.util.escapeQuotes(w)+\"', missingProperty: '\"+S+\"', depsCount: \"+b.length+\", deps: '\"+e.util.escapeQuotes(1==b.length?b[0]:b.join(\", \"))+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'should have \",1==b.length?a+=\"property \"+e.util.escapeQuotes(b[0]):a+=\"properties \"+e.util.escapeQuotes(b.join(\", \")),a+=\" when property \"+e.util.escapeQuotes(w)+\" is present' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}a+=\" }   \",c&&(d+=\"}\",a+=\" else { \")}e.errorPath=P;var T=f.baseId;for(var w in m)g=m[w],e.util.schemaHasRules(g,e.RULES.all)&&(a+=\" \"+h+\" = true; if ( \"+l+e.util.getProperty(w)+\" !== undefined \",v&&(a+=\" && Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(w)+\"') \"),a+=\") { \",f.schema=g,f.schemaPath=s+e.util.getProperty(w),f.errSchemaPath=u+\"/\"+e.util.escapeFragment(w),a+=\"  \"+e.validate(f)+\" \",f.baseId=T,a+=\" }  \",c&&(a+=\" if (\"+h+\") { \",d+=\"}\"));return c&&(a+=\"   \"+d+\" if (\"+p+\" == errors) {\"),a=e.util.cleanUpCode(a)},enum:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=e.opts.$data&&i&&i.$data;f&&(a+=\" var schema\"+n+\" = \"+e.util.getData(i.$data,o,e.dataPathArr)+\"; \");var d=\"i\"+n,h=\"schema\"+n;f||(a+=\" var \"+h+\" = validate.schema\"+s+\";\"),a+=\"var \"+p+\";\",f&&(a+=\" if (schema\"+n+\" === undefined) \"+p+\" = true; else if (!Array.isArray(schema\"+n+\")) \"+p+\" = false; else {\"),a+=p+\" = false;for (var \"+d+\"=0; \"+d+\"<\"+h+\".length; \"+d+\"++) if (equal(\"+l+\", \"+h+\"[\"+d+\"])) { \"+p+\" = true; break; }\",f&&(a+=\"  }  \"),a+=\" if (!\"+p+\") {   \";var m=m||[];m.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'enum' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { allowedValues: schema\"+n+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should be equal to one of the allowed values' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var y=a;return a=m.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+y+\"]); \":a+=\" validate.errors = [\"+y+\"]; return false; \":a+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" }\",c&&(a+=\" else { \"),a},format:function(e,t,r){var a=\" \",n=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\");if(!1===e.opts.format)return l&&(a+=\" if (true) { \"),a;var f,d=e.opts.$data&&s&&s.$data;d?(a+=\" var schema\"+n+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",f=\"schema\"+n):f=s;var h=e.opts.unknownFormats,m=Array.isArray(h);if(d)a+=\" var \"+(y=\"format\"+n)+\" = formats[\"+f+\"]; var \"+(v=\"isObject\"+n)+\" = typeof \"+y+\" == 'object' && !(\"+y+\" instanceof RegExp) && \"+y+\".validate; var \"+(g=\"formatType\"+n)+\" = \"+v+\" && \"+y+\".type || 'string'; if (\"+v+\") { \",e.async&&(a+=\" var async\"+n+\" = \"+y+\".async; \"),a+=\" \"+y+\" = \"+y+\".validate; } if (  \",d&&(a+=\" (\"+f+\" !== undefined && typeof \"+f+\" != 'string') || \"),a+=\" (\",\"ignore\"!=h&&(a+=\" (\"+f+\" && !\"+y+\" \",m&&(a+=\" && self._opts.unknownFormats.indexOf(\"+f+\") == -1 \"),a+=\") || \"),a+=\" (\"+y+\" && \"+g+\" == '\"+r+\"' && !(typeof \"+y+\" == 'function' ? \",e.async?a+=\" (async\"+n+\" ? await \"+y+\"(\"+p+\") : \"+y+\"(\"+p+\")) \":a+=\" \"+y+\"(\"+p+\") \",a+=\" : \"+y+\".test(\"+p+\"))))) {\";else{var y;if(!(y=e.formats[s])){if(\"ignore\"==h)return e.logger.warn('unknown format \"'+s+'\" ignored in schema at path \"'+e.errSchemaPath+'\"'),l&&(a+=\" if (true) { \"),a;if(m&&h.indexOf(s)>=0)return l&&(a+=\" if (true) { \"),a;throw new Error('unknown format \"'+s+'\" is used in schema at path \"'+e.errSchemaPath+'\"')}var v,g=(v=\"object\"==o(y)&&!(y instanceof RegExp)&&y.validate)&&y.type||\"string\";if(v){var b=!0===y.async;y=y.validate}if(g!=r)return l&&(a+=\" if (true) { \"),a;if(b){if(!e.async)throw new Error(\"async format in sync schema\");a+=\" if (!(await \"+(P=\"formats\"+e.util.getProperty(s)+\".validate\")+\"(\"+p+\"))) { \"}else{a+=\" if (! \";var P=\"formats\"+e.util.getProperty(s);v&&(P+=\".validate\"),a+=\"function\"==typeof y?\" \"+P+\"(\"+p+\") \":\" \"+P+\".test(\"+p+\") \",a+=\") { \"}}var w=w||[];w.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'format' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { format:  \",a+=d?\"\"+f:\"\"+e.util.toQuotedString(s),a+=\"  } \",!1!==e.opts.messages&&(a+=\" , message: 'should match format \\\"\",a+=d?\"' + \"+f+\" + '\":\"\"+e.util.escapeQuotes(s),a+=\"\\\"' \"),e.opts.verbose&&(a+=\" , schema:  \",a+=d?\"validate.schema\"+u:\"\"+e.util.toQuotedString(s),a+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),a+=\" } \"):a+=\" {} \";var E=a;return a=w.pop(),!e.compositeRule&&l?e.async?a+=\" throw new ValidationError([\"+E+\"]); \":a+=\" validate.errors = [\"+E+\"]; return false; \":a+=\" var err = \"+E+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \",l&&(a+=\" else { \"),a},if:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=\"errs__\"+n,d=e.util.copy(e);d.level++;var h=\"valid\"+d.level,m=e.schema.then,y=e.schema.else,v=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),g=void 0!==y&&e.util.schemaHasRules(y,e.RULES.all),b=d.baseId;if(v||g){var P;d.createErrors=!1,d.schema=i,d.schemaPath=s,d.errSchemaPath=u,a+=\" var \"+f+\" = errors; var \"+p+\" = true;  \";var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,a+=\"  \"+e.validate(d)+\" \",d.baseId=b,d.createErrors=!0,a+=\"  errors = \"+f+\"; if (vErrors !== null) { if (\"+f+\") vErrors.length = \"+f+\"; else vErrors = null; }  \",e.compositeRule=d.compositeRule=w,v?(a+=\" if (\"+h+\") {  \",d.schema=e.schema.then,d.schemaPath=e.schemaPath+\".then\",d.errSchemaPath=e.errSchemaPath+\"/then\",a+=\"  \"+e.validate(d)+\" \",d.baseId=b,a+=\" \"+p+\" = \"+h+\"; \",v&&g?a+=\" var \"+(P=\"ifClause\"+n)+\" = 'then'; \":P=\"'then'\",a+=\" } \",g&&(a+=\" else { \")):a+=\" if (!\"+h+\") { \",g&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+\".else\",d.errSchemaPath=e.errSchemaPath+\"/else\",a+=\"  \"+e.validate(d)+\" \",d.baseId=b,a+=\" \"+p+\" = \"+h+\"; \",v&&g?a+=\" var \"+(P=\"ifClause\"+n)+\" = 'else'; \":P=\"'else'\",a+=\" } \"),a+=\" if (!\"+p+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'if' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { failingKeyword: \"+P+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should match \\\"' + \"+P+\" + '\\\" schema' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\" }   \",c&&(a+=\" else { \"),a=e.util.cleanUpCode(a)}else c&&(a+=\" if (true) { \");return a},items:function(e,t,r){var a=\" \",n=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=\"valid\"+n,d=\"errs__\"+n,h=e.util.copy(e),m=\"\";h.level++;var y=\"valid\"+h.level,v=\"i\"+n,g=h.dataLevel=e.dataLevel+1,b=\"data\"+g,P=e.baseId;if(a+=\"var \"+d+\" = errors;var \"+f+\";\",Array.isArray(s)){var w=e.schema.additionalItems;if(!1===w){a+=\" \"+f+\" = \"+p+\".length <= \"+s.length+\"; \";var E=c;c=e.errSchemaPath+\"/additionalItems\",a+=\"  if (!\"+f+\") {   \";var _=_||[];_.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+s.length+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT have more than \"+s.length+\" items' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),a+=\" } \"):a+=\" {} \";var k=a;a=_.pop(),!e.compositeRule&&l?e.async?a+=\" throw new ValidationError([\"+k+\"]); \":a+=\" validate.errors = [\"+k+\"]; return false; \":a+=\" var err = \"+k+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } \",c=E,l&&(m+=\"}\",a+=\" else { \")}var x=s;if(x)for(var S,O=-1,j=x.length-1;O<j;)if(S=x[O+=1],e.util.schemaHasRules(S,e.RULES.all)){a+=\" \"+y+\" = true; if (\"+p+\".length > \"+O+\") { \";var F=p+\"[\"+O+\"]\";h.schema=S,h.schemaPath=u+\"[\"+O+\"]\",h.errSchemaPath=c+\"/\"+O,h.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0),h.dataPathArr[g]=O;var A=e.validate(h);h.baseId=P,e.util.varOccurences(A,b)<2?a+=\" \"+e.util.varReplace(A,b,F)+\" \":a+=\" var \"+b+\" = \"+F+\"; \"+A+\" \",a+=\" }  \",l&&(a+=\" if (\"+y+\") { \",m+=\"}\")}\"object\"==o(w)&&e.util.schemaHasRules(w,e.RULES.all)&&(h.schema=w,h.schemaPath=e.schemaPath+\".additionalItems\",h.errSchemaPath=e.errSchemaPath+\"/additionalItems\",a+=\" \"+y+\" = true; if (\"+p+\".length > \"+s.length+\") {  for (var \"+v+\" = \"+s.length+\"; \"+v+\" < \"+p+\".length; \"+v+\"++) { \",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),F=p+\"[\"+v+\"]\",h.dataPathArr[g]=v,A=e.validate(h),h.baseId=P,e.util.varOccurences(A,b)<2?a+=\" \"+e.util.varReplace(A,b,F)+\" \":a+=\" var \"+b+\" = \"+F+\"; \"+A+\" \",l&&(a+=\" if (!\"+y+\") break; \"),a+=\" } }  \",l&&(a+=\" if (\"+y+\") { \",m+=\"}\"))}else e.util.schemaHasRules(s,e.RULES.all)&&(h.schema=s,h.schemaPath=u,h.errSchemaPath=c,a+=\"  for (var \"+v+\" = 0; \"+v+\" < \"+p+\".length; \"+v+\"++) { \",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),F=p+\"[\"+v+\"]\",h.dataPathArr[g]=v,A=e.validate(h),h.baseId=P,e.util.varOccurences(A,b)<2?a+=\" \"+e.util.varReplace(A,b,F)+\" \":a+=\" var \"+b+\" = \"+F+\"; \"+A+\" \",l&&(a+=\" if (!\"+y+\") break; \"),a+=\" }\");return l&&(a+=\" \"+m+\" if (\"+d+\" == errors) {\"),a=e.util.cleanUpCode(a)},maximum:Pa,minimum:Pa,maxItems:wa,minItems:wa,maxLength:Ea,minLength:Ea,maxProperties:_a,minProperties:_a,multipleOf:function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s,n+=\"var division\"+o+\";if (\",f&&(n+=\" \"+a+\" !== undefined && ( typeof \"+a+\" != 'number' || \"),n+=\" (division\"+o+\" = \"+p+\" / \"+a+\", \",e.opts.multipleOfPrecision?n+=\" Math.abs(Math.round(division\"+o+\") - division\"+o+\") > 1e-\"+e.opts.multipleOfPrecision+\" \":n+=\" division\"+o+\" !== parseInt(division\"+o+\") \",n+=\" ) \",f&&(n+=\"  )  \"),n+=\" ) {   \";var d=d||[];d.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { multipleOf: \"+a+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should be multiple of \",n+=f?\"' + \"+a:a+\"'\"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var h=n;return n=d.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+h+\"]); \":n+=\" validate.errors = [\"+h+\"]; return false; \":n+=\" var err = \"+h+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\"} \",l&&(n+=\" else { \"),n},not:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"errs__\"+n,f=e.util.copy(e);f.level++;var d=\"valid\"+f.level;if(e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=s,f.errSchemaPath=u,a+=\" var \"+p+\" = errors;  \";var h,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(h=f.opts.allErrors,f.opts.allErrors=!1),a+=\" \"+e.validate(f)+\" \",f.createErrors=!0,h&&(f.opts.allErrors=h),e.compositeRule=f.compositeRule=m,a+=\" if (\"+d+\") {   \";var y=y||[];y.push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var v=a;a=y.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+v+\"]); \":a+=\" validate.errors = [\"+v+\"]; return false; \":a+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else {  errors = \"+p+\"; if (vErrors !== null) { if (\"+p+\") vErrors.length = \"+p+\"; else vErrors = null; } \",e.opts.allErrors&&(a+=\" } \")}else a+=\"  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(a+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",c&&(a+=\" if (false) { \");return a},oneOf:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=\"errs__\"+n,d=e.util.copy(e),h=\"\";d.level++;var m=\"valid\"+d.level,y=d.baseId,v=\"prevValid\"+n,g=\"passingSchemas\"+n;a+=\"var \"+f+\" = errors , \"+v+\" = false , \"+p+\" = false , \"+g+\" = null; \";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=i;if(P)for(var w,E=-1,_=P.length-1;E<_;)w=P[E+=1],e.util.schemaHasRules(w,e.RULES.all)?(d.schema=w,d.schemaPath=s+\"[\"+E+\"]\",d.errSchemaPath=u+\"/\"+E,a+=\"  \"+e.validate(d)+\" \",d.baseId=y):a+=\" var \"+m+\" = true; \",E&&(a+=\" if (\"+m+\" && \"+v+\") { \"+p+\" = false; \"+g+\" = [\"+g+\", \"+E+\"]; } else { \",h+=\"}\"),a+=\" if (\"+m+\") { \"+p+\" = \"+v+\" = true; \"+g+\" = \"+E+\"; }\";return e.compositeRule=d.compositeRule=b,a+=h+\"if (!\"+p+\") {   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { passingSchemas: \"+g+\" } \",!1!==e.opts.messages&&(a+=\" , message: 'should match exactly one schema in oneOf' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),a+=\"} else {  errors = \"+f+\"; if (vErrors !== null) { if (\"+f+\") vErrors.length = \"+f+\"; else vErrors = null; }\",e.opts.allErrors&&(a+=\" } \"),a},pattern:function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=e.opts.$data&&s&&s.$data;f?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s,n+=\"if ( \",f&&(n+=\" (\"+a+\" !== undefined && typeof \"+a+\" != 'string') || \"),n+=\" !\"+(f?\"(new RegExp(\"+a+\"))\":e.usePattern(s))+\".test(\"+p+\") ) {   \";var d=d||[];d.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'pattern' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { pattern:  \",n+=f?\"\"+a:\"\"+e.util.toQuotedString(s),n+=\"  } \",!1!==e.opts.messages&&(n+=\" , message: 'should match pattern \\\"\",n+=f?\"' + \"+a+\" + '\":\"\"+e.util.escapeQuotes(s),n+=\"\\\"' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=f?\"validate.schema\"+u:\"\"+e.util.toQuotedString(s),n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var h=n;return n=d.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+h+\"]); \":n+=\" validate.errors = [\"+h+\"]; return false; \":n+=\" var err = \"+h+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\"} \",l&&(n+=\" else { \"),n},properties:function(e,t,r){var a=\" \",n=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=\"errs__\"+n,d=e.util.copy(e),h=\"\";d.level++;var m=\"valid\"+d.level,y=\"key\"+n,v=\"idx\"+n,g=d.dataLevel=e.dataLevel+1,b=\"data\"+g,P=\"dataProperties\"+n,w=Object.keys(s||{}),E=e.schema.patternProperties||{},_=Object.keys(E),k=e.schema.additionalProperties,x=w.length||_.length,S=!1===k,O=\"object\"==o(k)&&Object.keys(k).length,j=e.opts.removeAdditional,F=S||O||j,A=e.opts.ownProperties,D=e.baseId,I=e.schema.required;if(I&&(!e.opts.$data||!I.$data)&&I.length<e.opts.loopRequired)var $=e.util.toHash(I);if(a+=\"var \"+f+\" = errors;var \"+m+\" = true;\",A&&(a+=\" var \"+P+\" = undefined;\"),F){if(a+=A?\" \"+P+\" = \"+P+\" || Object.keys(\"+p+\"); for (var \"+v+\"=0; \"+v+\"<\"+P+\".length; \"+v+\"++) { var \"+y+\" = \"+P+\"[\"+v+\"]; \":\" for (var \"+y+\" in \"+p+\") { \",x){if(a+=\" var isAdditional\"+n+\" = !(false \",w.length)if(w.length>8)a+=\" || validate.schema\"+u+\".hasOwnProperty(\"+y+\") \";else{var R=w;if(R)for(var T=-1,C=R.length-1;T<C;)X=R[T+=1],a+=\" || \"+y+\" == \"+e.util.toQuotedString(X)+\" \"}if(_.length){var z=_;if(z)for(var q=-1,U=z.length-1;q<U;)oe=z[q+=1],a+=\" || \"+e.usePattern(oe)+\".test(\"+y+\") \"}a+=\" ); if (isAdditional\"+n+\") { \"}if(\"all\"==j)a+=\" delete \"+p+\"[\"+y+\"]; \";else{var N=e.errorPath,L=\"' + \"+y+\" + '\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),S)if(j)a+=\" delete \"+p+\"[\"+y+\"]; \";else{a+=\" \"+m+\" = false; \";var V=c;c=e.errSchemaPath+\"/additionalProperties\",(re=re||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { additionalProperty: '\"+L+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is an invalid additional property\":a+=\"should NOT have additional properties\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),a+=\" } \"):a+=\" {} \";var M=a;a=re.pop(),!e.compositeRule&&l?e.async?a+=\" throw new ValidationError([\"+M+\"]); \":a+=\" validate.errors = [\"+M+\"]; return false; \":a+=\" var err = \"+M+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",c=V,l&&(a+=\" break; \")}else if(O)if(\"failing\"==j){a+=\" var \"+f+\" = errors;  \";var Q=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=k,d.schemaPath=e.schemaPath+\".additionalProperties\",d.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var H=p+\"[\"+y+\"]\";d.dataPathArr[g]=y;var B=e.validate(d);d.baseId=D,e.util.varOccurences(B,b)<2?a+=\" \"+e.util.varReplace(B,b,H)+\" \":a+=\" var \"+b+\" = \"+H+\"; \"+B+\" \",a+=\" if (!\"+m+\") { errors = \"+f+\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \"+p+\"[\"+y+\"]; }  \",e.compositeRule=d.compositeRule=Q}else d.schema=k,d.schemaPath=e.schemaPath+\".additionalProperties\",d.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers),H=p+\"[\"+y+\"]\",d.dataPathArr[g]=y,B=e.validate(d),d.baseId=D,e.util.varOccurences(B,b)<2?a+=\" \"+e.util.varReplace(B,b,H)+\" \":a+=\" var \"+b+\" = \"+H+\"; \"+B+\" \",l&&(a+=\" if (!\"+m+\") break; \");e.errorPath=N}x&&(a+=\" } \"),a+=\" }  \",l&&(a+=\" if (\"+m+\") { \",h+=\"}\")}var K=e.opts.useDefaults&&!e.compositeRule;if(w.length){var J=w;if(J)for(var X,Z=-1,G=J.length-1;Z<G;){var Y=s[X=J[Z+=1]];if(e.util.schemaHasRules(Y,e.RULES.all)){var W=e.util.getProperty(X),ee=(H=p+W,K&&void 0!==Y.default);if(d.schema=Y,d.schemaPath=u+W,d.errSchemaPath=c+\"/\"+e.util.escapeFragment(X),d.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(X),B=e.validate(d),d.baseId=D,e.util.varOccurences(B,b)<2){B=e.util.varReplace(B,b,H);var te=H}else te=b,a+=\" var \"+b+\" = \"+H+\"; \";if(ee)a+=\" \"+B+\" \";else{if($&&$[X]){a+=\" if ( \"+te+\" === undefined \",A&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+p+\", '\"+e.util.escapeQuotes(X)+\"') \"),a+=\") { \"+m+\" = false; \",N=e.errorPath,V=c;var re,ae=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,X,e.opts.jsonPointers)),c=e.errSchemaPath+\"/required\",(re=re||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { missingProperty: '\"+ae+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+ae+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),a+=\" } \"):a+=\" {} \",M=a,a=re.pop(),!e.compositeRule&&l?e.async?a+=\" throw new ValidationError([\"+M+\"]); \":a+=\" validate.errors = [\"+M+\"]; return false; \":a+=\" var err = \"+M+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",c=V,e.errorPath=N,a+=\" } else { \"}else l?(a+=\" if ( \"+te+\" === undefined \",A&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+p+\", '\"+e.util.escapeQuotes(X)+\"') \"),a+=\") { \"+m+\" = true; } else { \"):(a+=\" if (\"+te+\" !== undefined \",A&&(a+=\" &&   Object.prototype.hasOwnProperty.call(\"+p+\", '\"+e.util.escapeQuotes(X)+\"') \"),a+=\" ) { \");a+=\" \"+B+\" } \"}}l&&(a+=\" if (\"+m+\") { \",h+=\"}\")}}if(_.length){var ne=_;if(ne)for(var oe,ie=-1,se=ne.length-1;ie<se;)Y=E[oe=ne[ie+=1]],e.util.schemaHasRules(Y,e.RULES.all)&&(d.schema=Y,d.schemaPath=e.schemaPath+\".patternProperties\"+e.util.getProperty(oe),d.errSchemaPath=e.errSchemaPath+\"/patternProperties/\"+e.util.escapeFragment(oe),a+=A?\" \"+P+\" = \"+P+\" || Object.keys(\"+p+\"); for (var \"+v+\"=0; \"+v+\"<\"+P+\".length; \"+v+\"++) { var \"+y+\" = \"+P+\"[\"+v+\"]; \":\" for (var \"+y+\" in \"+p+\") { \",a+=\" if (\"+e.usePattern(oe)+\".test(\"+y+\")) { \",d.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers),H=p+\"[\"+y+\"]\",d.dataPathArr[g]=y,B=e.validate(d),d.baseId=D,e.util.varOccurences(B,b)<2?a+=\" \"+e.util.varReplace(B,b,H)+\" \":a+=\" var \"+b+\" = \"+H+\"; \"+B+\" \",l&&(a+=\" if (!\"+m+\") break; \"),a+=\" } \",l&&(a+=\" else \"+m+\" = true; \"),a+=\" }  \",l&&(a+=\" if (\"+m+\") { \",h+=\"}\"))}return l&&(a+=\" \"+h+\" if (\"+f+\" == errors) {\"),a=e.util.cleanUpCode(a)},propertyNames:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"errs__\"+n,f=e.util.copy(e);f.level++;var d=\"valid\"+f.level;if(a+=\"var \"+p+\" = errors;\",e.util.schemaHasRules(i,e.RULES.all)){f.schema=i,f.schemaPath=s,f.errSchemaPath=u;var h=\"key\"+n,m=\"idx\"+n,y=\"i\"+n,v=\"' + \"+h+\" + '\",g=\"data\"+(f.dataLevel=e.dataLevel+1),b=\"dataProperties\"+n,P=e.opts.ownProperties,w=e.baseId;P&&(a+=\" var \"+b+\" = undefined; \"),a+=P?\" \"+b+\" = \"+b+\" || Object.keys(\"+l+\"); for (var \"+m+\"=0; \"+m+\"<\"+b+\".length; \"+m+\"++) { var \"+h+\" = \"+b+\"[\"+m+\"]; \":\" for (var \"+h+\" in \"+l+\") { \",a+=\" var startErrs\"+n+\" = errors; \";var E=h,_=e.compositeRule;e.compositeRule=f.compositeRule=!0;var k=e.validate(f);f.baseId=w,e.util.varOccurences(k,g)<2?a+=\" \"+e.util.varReplace(k,g,E)+\" \":a+=\" var \"+g+\" = \"+E+\"; \"+k+\" \",e.compositeRule=f.compositeRule=_,a+=\" if (!\"+d+\") { for (var \"+y+\"=startErrs\"+n+\"; \"+y+\"<errors; \"+y+\"++) { vErrors[\"+y+\"].propertyName = \"+h+\"; }   var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { propertyName: '\"+v+\"' } \",!1!==e.opts.messages&&(a+=\" , message: 'property name \\\\'\"+v+\"\\\\' is invalid' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?a+=\" throw new ValidationError(vErrors); \":a+=\" validate.errors = vErrors; return false; \"),c&&(a+=\" break; \"),a+=\" } }\"}return c&&(a+=\"  if (\"+p+\" == errors) {\"),a=e.util.cleanUpCode(a)},required:function(e,t,r){var a=\" \",n=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,l=\"data\"+(o||\"\"),p=\"valid\"+n,f=e.opts.$data&&i&&i.$data;f&&(a+=\" var schema\"+n+\" = \"+e.util.getData(i.$data,o,e.dataPathArr)+\"; \");var d=\"schema\"+n;if(!f)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],m=i;if(m)for(var y,v=-1,g=m.length-1;v<g;){y=m[v+=1];var b=e.schema.properties[y];b&&e.util.schemaHasRules(b,e.RULES.all)||(h[h.length]=y)}}else h=i;if(f||h.length){var P=e.errorPath,w=f||h.length>=e.opts.loopRequired,E=e.opts.ownProperties;if(c)if(a+=\" var missing\"+n+\"; \",w){f||(a+=\" var \"+d+\" = validate.schema\"+s+\"; \");var _=\"' + \"+(F=\"schema\"+n+\"[\"+(O=\"i\"+n)+\"]\")+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,F,e.opts.jsonPointers)),a+=\" var \"+p+\" = true; \",f&&(a+=\" if (schema\"+n+\" === undefined) \"+p+\" = true; else if (!Array.isArray(schema\"+n+\")) \"+p+\" = false; else {\"),a+=\" for (var \"+O+\" = 0; \"+O+\" < \"+d+\".length; \"+O+\"++) { \"+p+\" = \"+l+\"[\"+d+\"[\"+O+\"]] !== undefined \",E&&(a+=\" &&   Object.prototype.hasOwnProperty.call(\"+l+\", \"+d+\"[\"+O+\"]) \"),a+=\"; if (!\"+p+\") break; } \",f&&(a+=\"  }  \"),a+=\"  if (!\"+p+\") {   \",(x=x||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+_+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+_+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \";var k=a;a=x.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+k+\"]); \":a+=\" validate.errors = [\"+k+\"]; return false; \":a+=\" var err = \"+k+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \"}else{a+=\" if ( \";var x,S=h;if(S)for(var O=-1,j=S.length-1;O<j;)D=S[O+=1],O&&(a+=\" || \"),a+=\" ( ( \"+(T=l+(R=e.util.getProperty(D)))+\" === undefined \",E&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(D)+\"') \"),a+=\") && (missing\"+n+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?D:R)+\") ) \";a+=\") {  \",_=\"' + \"+(F=\"missing\"+n)+\" + '\",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(P,F,!0):P+\" + \"+F),(x=x||[]).push(a),a=\"\",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+_+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+_+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",k=a,a=x.pop(),!e.compositeRule&&c?e.async?a+=\" throw new ValidationError([\"+k+\"]); \":a+=\" validate.errors = [\"+k+\"]; return false; \":a+=\" var err = \"+k+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",a+=\" } else { \"}else if(w){var F;f||(a+=\" var \"+d+\" = validate.schema\"+s+\"; \"),_=\"' + \"+(F=\"schema\"+n+\"[\"+(O=\"i\"+n)+\"]\")+\" + '\",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(P,F,e.opts.jsonPointers)),f&&(a+=\" if (\"+d+\" && !Array.isArray(\"+d+\")) {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+_+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+_+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\"+d+\" !== undefined) { \"),a+=\" for (var \"+O+\" = 0; \"+O+\" < \"+d+\".length; \"+O+\"++) { if (\"+l+\"[\"+d+\"[\"+O+\"]] === undefined \",E&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+l+\", \"+d+\"[\"+O+\"]) \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+_+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+_+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \",f&&(a+=\"  }  \")}else{var A=h;if(A)for(var D,I=-1,$=A.length-1;I<$;){D=A[I+=1];var R=e.util.getProperty(D),T=(_=e.util.escapeQuotes(D),l+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(P,D,e.opts.jsonPointers)),a+=\" if ( \"+T+\" === undefined \",E&&(a+=\" || ! Object.prototype.hasOwnProperty.call(\"+l+\", '\"+e.util.escapeQuotes(D)+\"') \"),a+=\") {  var err =   \",!1!==e.createErrors?(a+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+_+\"' } \",!1!==e.opts.messages&&(a+=\" , message: '\",e.opts._errorDataPathProperty?a+=\"is a required property\":a+=\"should have required property \\\\'\"+_+\"\\\\'\",a+=\"' \"),e.opts.verbose&&(a+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),a+=\" } \"):a+=\" {} \",a+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}e.errorPath=P}else c&&(a+=\" if (true) {\");return a},uniqueItems:function(e,t,r){var a,n=\" \",o=e.level,i=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(i||\"\"),f=\"valid\"+o,d=e.opts.$data&&s&&s.$data;if(d?(n+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,i,e.dataPathArr)+\"; \",a=\"schema\"+o):a=s,(s||d)&&!1!==e.opts.uniqueItems){d&&(n+=\" var \"+f+\"; if (\"+a+\" === false || \"+a+\" === undefined) \"+f+\" = true; else if (typeof \"+a+\" != 'boolean') \"+f+\" = false; else { \"),n+=\" var i = \"+p+\".length , \"+f+\" = true , j; if (i > 1) { \";var h=e.schema.items&&e.schema.items.type,m=Array.isArray(h);if(!h||\"object\"==h||\"array\"==h||m&&(h.indexOf(\"object\")>=0||h.indexOf(\"array\")>=0))n+=\" outer: for (;i--;) { for (j = i; j--;) { if (equal(\"+p+\"[i], \"+p+\"[j])) { \"+f+\" = false; break outer; } } } \";else{n+=\" var itemIndices = {}, item; for (;i--;) { var item = \"+p+\"[i]; \";var y=\"checkDataType\"+(m?\"s\":\"\");n+=\" if (\"+e.util[y](h,\"item\",!0)+\") continue; \",m&&(n+=\" if (typeof item == 'string') item = '\\\"' + item; \"),n+=\" if (typeof itemIndices[item] == 'number') { \"+f+\" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } \"}n+=\" } \",d&&(n+=\"  }  \"),n+=\" if (!\"+f+\") {   \";var v=v||[];v.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { i: i, j: j } \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=d?\"validate.schema\"+u:\"\"+s,n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),n+=\" } \"):n+=\" {} \";var g=n;n=v.pop(),!e.compositeRule&&l?e.async?n+=\" throw new ValidationError([\"+g+\"]); \":n+=\" validate.errors = [\"+g+\"]; return false; \":n+=\" var err = \"+g+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } \",l&&(n+=\" else { \")}else l&&(n+=\" if (true) { \");return n},validate:Qr},xa=er.toHash,Sa=function(){var e=[{type:\"number\",rules:[{maximum:[\"exclusiveMaximum\"]},{minimum:[\"exclusiveMinimum\"]},\"multipleOf\",\"format\"]},{type:\"string\",rules:[\"maxLength\",\"minLength\",\"pattern\",\"format\"]},{type:\"array\",rules:[\"maxItems\",\"minItems\",\"items\",\"contains\",\"uniqueItems\"]},{type:\"object\",rules:[\"maxProperties\",\"minProperties\",\"required\",\"dependencies\",\"propertyNames\",{properties:[\"additionalProperties\",\"patternProperties\"]}]},{rules:[\"$ref\",\"const\",\"enum\",\"not\",\"anyOf\",\"oneOf\",\"allOf\",\"if\"]}],t=[\"type\",\"$comment\"];return e.all=xa(t),e.types=xa([\"number\",\"integer\",\"string\",\"array\",\"object\",\"boolean\",\"null\"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var a;if(\"object\"==o(r)){var n=Object.keys(r)[0];a=r[n],r=n,a.forEach(function(r){t.push(r),e.all[r]=!0})}return t.push(r),e.all[r]={keyword:r,code:ka[r],implements:a}}),e.all.$comment={keyword:\"$comment\",code:ka.$comment},r.type&&(e.types[r.type]=r)}),e.keywords=xa(t.concat([\"$schema\",\"$id\",\"id\",\"$data\",\"title\",\"description\",\"default\",\"definitions\",\"examples\",\"readOnly\",\"writeOnly\",\"contentMediaType\",\"contentEncoding\",\"additionalItems\",\"then\",\"else\"])),e.custom={},e},Oa=[\"multipleOf\",\"maximum\",\"exclusiveMaximum\",\"minimum\",\"exclusiveMinimum\",\"maxLength\",\"minLength\",\"pattern\",\"additionalItems\",\"maxItems\",\"minItems\",\"uniqueItems\",\"maxProperties\",\"minProperties\",\"required\",\"additionalProperties\",\"enum\",\"format\",\"const\"],ja=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var a,n=t[r].split(\"/\"),o=e;for(a=1;a<n.length;a++)o=o[n[a]];for(a=0;a<Oa.length;a++){var i=Oa[a],s=o[i];s&&(o[i]={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\"}]})}}return e},Fa=Nr.MissingRef,Aa=function e(t,r,a){var n=this;if(\"function\"!=typeof this._opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");\"function\"==typeof r&&(a=r,r=void 0);var o=i(t).then(function(){var e=n._addSchema(t,void 0,r);return e.validate||function e(t){try{return n._compile(t)}catch(o){if(o instanceof Fa)return function a(e){var a=e.missingSchema;if(u(a))throw new Error(\"Schema \"+a+\" is loaded but \"+e.missingRef+\" cannot be resolved\");var o=n._loadingSchemas[a];o||(o=n._loadingSchemas[a]=n._opts.loadSchema(a)).then(s,s);return o.then(function(e){if(!u(a))return i(e).then(function(){u(a)||n.addSchema(e,a,void 0,r)})}).then(function(){return function t(a){try{return n._compile(a)}catch(e){if(e instanceof Fa)return o(e);throw e}function o(e){var o=e.missingSchema;if(c(o))throw new Error(\"Schema \"+o+\" is loaded but \"+e.missingRef+\" cannot be resolved\");var s=n._loadingSchemas[o];return s||(s=n._loadingSchemas[o]=n._opts.loadSchema(o)).then(u,u),s.then(function(e){if(!c(o))return i(e).then(function(){c(o)||n.addSchema(e,o,void 0,r)})}).then(function(){return t(a)});function u(){delete n._loadingSchemas[o]}function c(e){return n._refs[e]||n._schemas[e]}}}(t)});function s(){delete n._loadingSchemas[a]}function u(e){return n._refs[e]||n._schemas[e]}}(o);throw o}function a(a){var o=a.missingSchema;if(c(o))throw new Error(\"Schema \"+o+\" is loaded but \"+a.missingRef+\" cannot be resolved\");var s=n._loadingSchemas[o];return s||(s=n._loadingSchemas[o]=n._opts.loadSchema(o)).then(u,u),s.then(function(e){if(!c(o))return i(e).then(function(){c(o)||n.addSchema(e,o,void 0,r)})}).then(function(){return e(t)});function u(){delete n._loadingSchemas[o]}function c(e){return n._refs[e]||n._schemas[e]}}}(e)});a&&o.then(function(e){a(null,e)},a);return o;function i(t){var r=t.$schema;return r&&!n.getSchema(r)?e.call(n,{$ref:r},!0):Promise.resolve()}};var Da=function(e,t,r){var a,n,o=\" \",i=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+\"/\"+t,p=!e.opts.allErrors,f=\"data\"+(s||\"\"),d=\"valid\"+i,h=\"errs__\"+i,m=e.opts.$data&&u&&u.$data;m?(o+=\" var schema\"+i+\" = \"+e.util.getData(u.$data,s,e.dataPathArr)+\"; \",n=\"schema\"+i):n=u;var y,v,g,b,P,w=\"definition\"+i,E=this.definition,_=\"\";if(m&&E.$data){P=\"keywordValidate\"+i;var k=E.validateSchema;o+=\" var \"+w+\" = RULES.custom['\"+t+\"'].definition; var \"+P+\" = \"+w+\".validate;\"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;n=\"validate.schema\"+c,P=b.code,y=E.compile,v=E.inline,g=E.macro}var x=P+\".errors\",S=\"i\"+i,O=\"ruleErr\"+i,j=E.async;if(j&&!e.async)throw new Error(\"async keyword in sync schema\");if(v||g||(o+=x+\" = null;\"),o+=\"var \"+h+\" = errors;var \"+d+\";\",m&&E.$data&&(_+=\"}\",o+=\" if (\"+n+\" === undefined) { \"+d+\" = true; } else { \",k&&(_+=\"}\",o+=\" \"+d+\" = \"+w+\".validateSchema(\"+n+\"); if (\"+d+\") { \")),v)E.statements?o+=\" \"+b.validate+\" \":o+=\" \"+d+\" = \"+b.validate+\"; \";else if(g){var F=e.util.copy(e);_=\"\";F.level++;var A=\"valid\"+F.level;F.schema=b.validate,F.schemaPath=\"\";var D=e.compositeRule;e.compositeRule=F.compositeRule=!0;var I=e.validate(F).replace(/validate\\.schema/g,P);e.compositeRule=F.compositeRule=D,o+=\" \"+I}else{(C=C||[]).push(o),o=\"\",o+=\"  \"+P+\".call( \",e.opts.passContext?o+=\"this\":o+=\"self\",y||!1===E.schema?o+=\" , \"+f+\" \":o+=\" , \"+n+\" , \"+f+\" , validate.schema\"+e.schemaPath+\" \",o+=\" , (dataPath || '')\",'\"\"'!=e.errorPath&&(o+=\" + \"+e.errorPath);var $=s?\"data\"+(s-1||\"\"):\"parentData\",R=s?e.dataPathArr[s]:\"parentDataProperty\",T=o+=\" , \"+$+\" , \"+R+\" , rootData )  \";o=C.pop(),!1===E.errors?(o+=\" \"+d+\" = \",j&&(o+=\"await \"),o+=T+\"; \"):o+=j?\" var \"+(x=\"customErrors\"+i)+\" = null; try { \"+d+\" = await \"+T+\"; } catch (e) { \"+d+\" = false; if (e instanceof ValidationError) \"+x+\" = e.errors; else throw e; } \":\" \"+x+\" = null; \"+d+\" = \"+T+\"; \"}if(E.modifying&&(o+=\" if (\"+$+\") \"+f+\" = \"+$+\"[\"+R+\"];\"),o+=\"\"+_,E.valid)p&&(o+=\" if (true) { \");else{var C;o+=\" if ( \",void 0===E.valid?(o+=\" !\",o+=g?\"\"+A:\"\"+d):o+=\" \"+!E.valid+\" \",o+=\") { \",a=this.keyword,(C=C||[]).push(o),o=\"\",(C=C||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(a||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(o+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),o+=\" } \"):o+=\" {} \";var z=o;o=C.pop(),!e.compositeRule&&p?e.async?o+=\" throw new ValidationError([\"+z+\"]); \":o+=\" validate.errors = [\"+z+\"]; return false; \":o+=\" var err = \"+z+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \";var q=o;o=C.pop(),v?E.errors?\"full\"!=E.errors&&(o+=\"  for (var \"+S+\"=\"+h+\"; \"+S+\"<errors; \"+S+\"++) { var \"+O+\" = vErrors[\"+S+\"]; if (\"+O+\".dataPath === undefined) \"+O+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+O+\".schemaPath === undefined) { \"+O+'.schemaPath = \"'+l+'\"; } ',e.opts.verbose&&(o+=\" \"+O+\".schema = \"+n+\"; \"+O+\".data = \"+f+\"; \"),o+=\" } \"):!1===E.errors?o+=\" \"+q+\" \":(o+=\" if (\"+h+\" == errors) { \"+q+\" } else {  for (var \"+S+\"=\"+h+\"; \"+S+\"<errors; \"+S+\"++) { var \"+O+\" = vErrors[\"+S+\"]; if (\"+O+\".dataPath === undefined) \"+O+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+O+\".schemaPath === undefined) { \"+O+'.schemaPath = \"'+l+'\"; } ',e.opts.verbose&&(o+=\" \"+O+\".schema = \"+n+\"; \"+O+\".data = \"+f+\"; \"),o+=\" } } \"):g?(o+=\"   var err =   \",!1!==e.createErrors?(o+=\" { keyword: '\"+(a||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(l)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(o+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),o+=\" } \"):o+=\" {} \",o+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&p&&(e.async?o+=\" throw new ValidationError(vErrors); \":o+=\" validate.errors = vErrors; return false; \")):!1===E.errors?o+=\" \"+q+\" \":(o+=\" if (Array.isArray(\"+x+\")) { if (vErrors === null) vErrors = \"+x+\"; else vErrors = vErrors.concat(\"+x+\"); errors = vErrors.length;  for (var \"+S+\"=\"+h+\"; \"+S+\"<errors; \"+S+\"++) { var \"+O+\" = vErrors[\"+S+\"]; if (\"+O+\".dataPath === undefined) \"+O+\".dataPath = (dataPath || '') + \"+e.errorPath+\";  \"+O+'.schemaPath = \"'+l+'\";  ',e.opts.verbose&&(o+=\" \"+O+\".schema = \"+n+\"; \"+O+\".data = \"+f+\"; \"),o+=\" } } else { \"+q+\" } \"),o+=\" } \",p&&(o+=\" else { \")}return o},Ia=/^[a-z_$][a-z0-9_$-]*$/i,$a=function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error(\"Keyword \"+e+\" is already defined\");if(!Ia.test(e))throw new Error(\"Keyword \"+e+\" is not a valid identifier\");if(t){if(t.macro&&void 0!==t.valid)throw new Error('\"valid\" option cannot be used with macro keywords');var a=t.type;if(Array.isArray(a)){var n,o=a.length;for(n=0;n<o;n++)c(a[n]);for(n=0;n<o;n++)u(e,a[n],t)}else a&&c(a),u(e,a,t);var i=!0===t.$data&&this._opts.$data;if(i&&!t.validate)throw new Error('$data support: \"validate\" function is not defined');var s=t.metaSchema;s&&(i&&(s={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,a){for(var n,o=0;o<r.length;o++){var i=r[o];if(i.type==t){n=i;break}}n||(n={type:t,rules:[]},r.push(n));var s={keyword:e,definition:a,custom:!0,code:Da,implements:a.implements};n.rules.push(s),r.custom[e]=s}function c(e){if(!r.types[e])throw new Error(\"Unknown type \"+e)}return r.keywords[e]=r.all[e]=!0,this},Ra=function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},Ta=function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,n=0;n<a.length;n++)if(a[n].keyword==e){a.splice(n,1);break}return this};const Ca=\"http://json-schema.org/draft-07/schema#\",za=\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\",qa=\"Meta-schema for $data reference (JSON Schema extension proposal)\",Ua=[\"$data\"],Na={$data:{type:\"string\",anyOf:[{format:\"relative-json-pointer\"},{format:\"json-pointer\"}]}};var La={$schema:Ca,$id:za,description:qa,type:\"object\",required:Ua,properties:Na,additionalProperties:!1},Va=Object.freeze({$schema:Ca,$id:za,description:qa,type:\"object\",required:Ua,properties:Na,additionalProperties:!1,default:La});const Ma=\"http://json-schema.org/draft-07/schema#\",Qa=\"http://json-schema.org/draft-07/schema#\",Ha=\"Core schema meta-schema\",Ba={schemaArray:{type:\"array\",minItems:1,items:{$ref:\"#\"}},nonNegativeInteger:{type:\"integer\",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:\"#/definitions/nonNegativeInteger\"},{default:0}]},simpleTypes:{enum:[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},stringArray:{type:\"array\",items:{type:\"string\"},uniqueItems:!0,default:[]}},Ka=[\"object\",\"boolean\"],Ja={$id:{type:\"string\",format:\"uri-reference\"},$schema:{type:\"string\",format:\"uri\"},$ref:{type:\"string\",format:\"uri-reference\"},$comment:{type:\"string\"},title:{type:\"string\"},description:{type:\"string\"},default:!0,readOnly:{type:\"boolean\",default:!1},examples:{type:\"array\",items:!0},multipleOf:{type:\"number\",exclusiveMinimum:0},maximum:{type:\"number\"},exclusiveMaximum:{type:\"number\"},minimum:{type:\"number\"},exclusiveMinimum:{type:\"number\"},maxLength:{$ref:\"#/definitions/nonNegativeInteger\"},minLength:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},pattern:{type:\"string\",format:\"regex\"},additionalItems:{$ref:\"#\"},items:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/schemaArray\"}],default:!0},maxItems:{$ref:\"#/definitions/nonNegativeInteger\"},minItems:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},uniqueItems:{type:\"boolean\",default:!1},contains:{$ref:\"#\"},maxProperties:{$ref:\"#/definitions/nonNegativeInteger\"},minProperties:{$ref:\"#/definitions/nonNegativeIntegerDefault0\"},required:{$ref:\"#/definitions/stringArray\"},additionalProperties:{$ref:\"#\"},definitions:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},properties:{type:\"object\",additionalProperties:{$ref:\"#\"},default:{}},patternProperties:{type:\"object\",additionalProperties:{$ref:\"#\"},propertyNames:{format:\"regex\"},default:{}},dependencies:{type:\"object\",additionalProperties:{anyOf:[{$ref:\"#\"},{$ref:\"#/definitions/stringArray\"}]}},propertyNames:{$ref:\"#\"},const:!0,enum:{type:\"array\",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:\"#/definitions/simpleTypes\"},{type:\"array\",items:{$ref:\"#/definitions/simpleTypes\"},minItems:1,uniqueItems:!0}]},format:{type:\"string\"},contentMediaType:{type:\"string\"},contentEncoding:{type:\"string\"},if:{$ref:\"#\"},then:{$ref:\"#\"},else:{$ref:\"#\"},allOf:{$ref:\"#/definitions/schemaArray\"},anyOf:{$ref:\"#/definitions/schemaArray\"},oneOf:{$ref:\"#/definitions/schemaArray\"},not:{$ref:\"#\"}};var Xa={$schema:Ma,$id:Qa,title:Ha,definitions:Ba,type:Ka,properties:Ja,default:!0},Za=Object.freeze({$schema:Ma,$id:Qa,title:Ha,definitions:Ba,type:Ka,properties:Ja,default:Xa}),Ga=mt(Va),Ya=mt(Za),Wa=an;an.prototype.validate=function(e,t){var r;if(\"string\"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref \"'+e+'\"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var n=r(t);!0!==r.$async&&(this.errors=r.errors);return n},an.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},an.prototype.addSchema=function(e,t,r,a){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,r,a);return this}var o=this._getId(e);if(void 0!==o&&\"string\"!=typeof o)throw new Error(\"schema id must be string\");return ln(this,t=jr.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,r,a,!0),this},an.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},an.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(!(r=r||this._opts.defaultMeta||(a=this,n=a._opts.meta,a._opts.defaultMeta=\"object\"==o(n)?a._getId(n)||n:a.getSchema(en)?en:void 0,a._opts.defaultMeta)))return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;var a,n;var i,s=this._formats.uri;this._formats.uri=\"function\"==typeof s?this._schemaUriFormatFunc:this._schemaUriFormat;try{i=this.validate(r,e)}finally{this._formats.uri=s}if(!i&&t){var u=\"schema is invalid: \"+this.errorsText();if(\"log\"!=this._opts.validateSchema)throw new Error(u);this.logger.error(u)}return i},an.prototype.getSchema=function(e){var t=nn(this,e);switch(o(t)){case\"object\":return t.validate||this._compile(t);case\"string\":return this.getSchema(t);case\"undefined\":return function(e,t){var r=jr.schema.call(e,{schema:{}},t);if(r){var a=r.schema,n=r.root,o=r.baseId,i=Kr.call(e,a,n,void 0,o);return e._fragments[t]=new Sr({ref:t,fragment:!0,schema:a,root:n,baseId:o,validate:i}),i}}(this,e)}},an.prototype.removeSchema=function(e){if(e instanceof RegExp)return on(this,this._schemas,e),on(this,this._refs,e),this;switch(o(e)){case\"undefined\":return on(this,this._schemas),on(this,this._refs),this._cache.clear(),this;case\"string\":var t=nn(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case\"object\":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var n=this._getId(e);n&&(n=jr.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},an.prototype.addFormat=function(e,t){\"string\"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},an.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return\"No errors\";for(var r=void 0===(t=t||{}).separator?\", \":t.separator,a=void 0===t.dataVar?\"data\":t.dataVar,n=\"\",o=0;o<e.length;o++){var i=e[o];i&&(n+=a+i.dataPath+\" \"+i.message+r)}return n.slice(0,-r.length)},an.prototype._addSchema=function(e,t,r,a){if(\"object\"!=o(e)&&\"boolean\"!=typeof e)throw new Error(\"schema should be object or boolean\");var n=this._opts.serialize,i=n?n(e):e,s=this._cache.get(i);if(s)return s;a=a||!1!==this._opts.addUsedSchema;var u=jr.normalizeId(this._getId(e));u&&a&&ln(this,u);var c,l=!1!==this._opts.validateSchema&&!t;l&&!(c=u&&u==jr.normalizeId(e.$schema))&&this.validateSchema(e,!0);var p=jr.ids.call(this,e),f=new Sr({id:u,schema:e,localRefs:p,cacheKey:i,meta:r});\"#\"!=u[0]&&a&&(this._refs[u]=f);this._cache.put(i,f),l&&c&&this.validateSchema(e,!0);return f},an.prototype._compile=function(e,t){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.$async=!0),n;var r,a;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{a=Kr.call(this,e.schema,t,e.localRefs)}catch(o){throw delete e.validate,o}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function n(){var t=e.validate,r=t.apply(this,arguments);return n.errors=t.errors,r}},an.prototype.compileAsync=Aa,an.prototype.addKeyword=$a,an.prototype.getKeyword=Ra,an.prototype.removeKeyword=Ta,an.ValidationError=Nr.Validation,an.MissingRefError=Nr.MissingRef,an.$dataMetaSchema=ja;var en=\"http://json-schema.org/draft-07/schema\",tn=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\"],rn=[\"/properties\"];function an(e){if(!(this instanceof an))return new an(e);e=this._opts=er.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:pn,warn:pn,error:pn};else{if(void 0===t&&(t=console),!(\"object\"==o(t)&&t.log&&t.warn&&t.error))throw new Error(\"logger must implement log, warn and error methods\");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=fa(e.format);var t=this._schemaUriFormat=this._formats[\"uri-reference\"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new ea,this._loadingSchemas={},this._compilations=[],this.RULES=Sa(),this._getId=function(e){switch(e.schemaId){case\"auto\":return cn;case\"id\":return sn;default:return un}}(e),e.loopRequired=e.loopRequired||1/0,\"property\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Mr),this._metaOpts=function(e){for(var t=er.copy(e._opts),r=0;r<tn.length;r++)delete t[tn[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),function(e){var t;e._opts.$data&&(t=Ga,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=Ya;e._opts.$data&&(r=ja(r,rn));e.addMetaSchema(r,en,!0),e._refs[\"http://json-schema.org/schema\"]=en}(this),\"object\"==o(e.meta)&&this.addMetaSchema(e.meta),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function nn(e,t){return t=jr.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function on(e,t,r){for(var a in t){var n=t[a];n.meta||r&&!r.test(a)||(e._cache.del(n.cacheKey),delete t[a])}}function sn(e){return e.$id&&this.logger.warn(\"schema $id ignored\",e.$id),e.id}function un(e){return e.id&&this.logger.warn(\"schema id ignored\",e.id),e.$id}function cn(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\"schema $id is different from id\");return e.$id||e.id}function ln(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id \"'+t+'\" already exists')}function pn(){}var fn,dn=Wa.Ajv,hn=Object.freeze({default:Wa,__moduleExports:Wa,Ajv:dn});fn=Wa||hn;var mn,yn,vn,gn,bn,Pn,wn,En,_n,kn,xn,Sn,On,jn,Fn,An,Dn=function(e){return fn().compile(e)},In=function(e){function t(r,a){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n.details=a,n}return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error);!function(e){e.left=\"left\",e.right=\"right\",e.center=\"center\",e.bottom=\"bottom\",e.top=\"top\"}(mn||(mn={})),function(e){e.left=\"left\",e.right=\"right\",e.center=\"center\",e.bottom=\"bottom\",e.top=\"top\",e.faces=\"faces\"}(yn||(yn={})),function(e){e.clip=\"clip\",e.crop=\"crop\",e.scale=\"scale\",e.max=\"max\"}(vn||(vn={})),function(e){e.linear=\"linear\",e.gaussian=\"gaussian\"}(gn||(gn={})),function(e){e.oval=\"oval\",e.rect=\"rect\"}(bn||(bn={})),function(e){e.none=\"none\",e.low=\"low\",e.medium=\"medium\",e.high=\"high\"}(Pn||(Pn={})),function(e){e.artwork=\"artwork\",e.photo=\"photo\"}(wn||(wn={})),function(e){e.RGB=\"RGB\",e.CMYK=\"CMYK\",e.Input=\"Input\"}(En||(En={})),function(e){e.thumb=\"thumb\",e.crop=\"crop\",e.fill=\"fill\"}(_n||(_n={})),function(e){e.h264=\"h264\",e.h264_hi=\"h264.hi\",e.webm=\"webm\",e[\"webm-hi\"]=\"webm.hi\",e.ogg=\"ogg\",e[\"ogg-hi\"]=\"ogg.hi\",e[\"hls-variant\"]=\"hls.variant\",e.mp3=\"mp3\",e.oga=\"oga\",e.m4a=\"m4a\",e.aac=\"aac\",e.hls=\"hls.variant.audio\"}(kn||(kn={})),function(e){e.desktop=\"desktop\",e.mobile=\"mobile\"}(xn||(xn={})),function(e){e.all=\"all\",e.window=\"window\"}(Sn||(Sn={})),function(e){e.portrait=\"portrait\",e.landscape=\"landscape\"}(On||(On={})),function(e){e.s3=\"s3\",e.azure=\"azure\",e.gcs=\"gcs\",e.rackspace=\"rackspace\",e.dropbox=\"dropbox\"}(jn||(jn={})),function(e){e.private=\"private\",e.public=\"public\"}(Fn||(Fn={})),function(e){e.preserve=\"preserve\",e.constrain=\"constrain\",e.letterbox=\"letterbox\",e.pad=\"pad\",e.crop=\"crop\"}(An||(An={}));var $n,Rn,Tn,Cn,zn,qn,Un,Nn,Ln,Vn,Mn,Qn,Hn,Bn,Kn,Jn,Xn=/^[\\w\\-]{20}$/,Zn=function(){function e(e,t){this.validator=Dn(Jt),this.transforms=[],this.b64=!1,this.source=e;var r=this.isSourceExternal();if(r&&!t)throw new In(\"External sources requires apikey to handle transforms\");if(!r&&\"string\"==typeof this.source&&!Xn.test(this.source))throw new In(\"Invalid filestack source provided\");this.apikey=t}return e.prototype.setBase64=function(e){return this.b64=e,this},e.prototype.setCname=function(e){return this.cname=e,this},e.prototype.setCustomDomain=function(e){return this.customDomain=e,this},e.prototype.getValidationSchema=function(){return Jt},e.prototype.getTransformations=function(){return this.transforms},e.prototype.toString=function(){var e=[];e.push(this.getCdnHost()),this.apikey&&e.push(this.apikey);var t=this.generateTransformString(),r=this.source;return this.b64?(this.transforms.length>0&&(t=\"b64/\"+btoa(JSON.stringify(this.transforms))),Array.isArray(r)&&(r=this.arrayToString(r)),r=\"b64://\"+btoa(r)):r=Array.isArray(r)?this.arrayToString(r):this.escapeValue(r),t.length&&e.push(t),e.push(r),e.join(\"/\")},e.prototype.addTask=function(e,t){if(this.validateTask(e,t),\"cache\"!==e&&\"boolean\"==typeof t){if(!t)return this;t=void 0}else\"object\"!==o(t)||Object.keys(t).length||(t=void 0);return this.transforms.push({name:e,params:t}),this},e.prototype.reset=function(){return this.transforms=[],this},e.prototype.flip=function(){return this.addTask(\"flip\",!0)},e.prototype.flop=function(){return this.addTask(\"flop\",!0)},e.prototype.enhance=function(){return this.addTask(\"enhance\",!0)},e.prototype.redeye=function(){return this.addTask(\"redeye\",!0)},e.prototype.monochrome=function(){return this.addTask(\"monochrome\",!0)},e.prototype.negative=function(){return this.addTask(\"negative\",!0)},e.prototype.tags=function(){return this.addTask(\"tags\",!0)},e.prototype.sfw=function(){return this.addTask(\"sfw\",!0)},e.prototype.store=function(e){return this.addTask(\"store\",e)},e.prototype.cache=function(e){return this.addTask(\"cache\",e)},e.prototype.resize=function(e){return this.addTask(\"resize\",e)},e.prototype.crop=function(e){return this.addTask(\"crop\",e)},e.prototype.rotate=function(e){return this.addTask(\"rotate\",e)},e.prototype.detectFaces=function(e){return this.addTask(\"detect_faces\",e)},e.prototype.cropFaces=function(e){return this.addTask(\"crop_faces\",e)},e.prototype.pixelateFaces=function(e){return this.addTask(\"pixelate_faces\",e)},e.prototype.blurFaces=function(e){return this.addTask(\"blur_faces\",e)},e.prototype.roundedCorners=function(e){return this.addTask(\"rounded_corners\",e)},e.prototype.polaroid=function(e){return this.addTask(\"polaroid\",e)},e.prototype.vignette=function(e){return this.addTask(\"vignette\",e)},e.prototype.tornEdges=function(e){return this.addTask(\"torn_edges\",e)},e.prototype.shadow=function(e){return this.addTask(\"shadow\",e)},e.prototype.circle=function(e){return this.addTask(\"circle\",e)},e.prototype.border=function(e){return this.addTask(\"border\",e)},e.prototype.sharpen=function(e){return this.addTask(\"sharpen\",e)},e.prototype.blur=function(e){return this.addTask(\"blur\",e)},e.prototype.blackwhite=function(e){return this.addTask(\"blackwhite\",e)},e.prototype.sepia=function(e){return this.addTask(\"sepia\",e)},e.prototype.pixelate=function(e){return this.addTask(\"pixelate\",e)},e.prototype.oilPaint=function(e){return this.addTask(\"oil_paint\",e)},e.prototype.modulate=function(e){return this.addTask(\"modulate\",e)},e.prototype.partialPixelate=function(e){return this.addTask(\"partial_pixelate\",e)},e.prototype.partialBlur=function(e){return this.addTask(\"partial_blur\",e)},e.prototype.collage=function(e){return this.addTask(\"collage\",e)},e.prototype.upscale=function(e){return this.addTask(\"upscale\",e)},e.prototype.ascii=function(e){return this.addTask(\"ascii\",e)},e.prototype.quality=function(e){return this.addTask(\"quality\",e)},e.prototype.security=function(e){return this.addTask(\"security\",e)},e.prototype.output=function(e){return this.addTask(\"output\",e)},e.prototype.videoConvert=function(e){return this.addTask(\"video_convert\",e)},e.prototype.URLScreenshot=function(e){return this.addTask(\"urlscreenshot\",e)},e.prototype.PDFInfo=function(e){return this.addTask(\"pdfinfo\",e)},e.prototype.PDFConvert=function(e){return this.addTask(\"pdfconvert\",e)},e.prototype.isSourceExternal=function(){if(!this.source)throw new In(\"Source not Set\");var e=Array.isArray(this.source)?this.source:[this.source];for(var t in e)if(e.hasOwnProperty(t)&&(0===e[t].indexOf(\"src:\")||0===e[t].indexOf(\"http\")))return!0;return!1},e.prototype.validateTask=function(e,t){var r={};if(r[e]=t,!this.validator(r))throw new In('Task \"'+e+'\" validation error, Params: '+JSON.stringify(t),this.validator.errors)},e.prototype.getCdnHost=function(){var e=a.urls;return this.customDomain&&(e.cdnUrl=this.customDomain),(e=Vt(e,this.cname)).cdnUrl},e.prototype.generateTransformString=function(){var e=this,t=[];return this.transforms.forEach(function(r){t.push(e.optionToString(r.name,r.params))}),t.join(\"/\")},e.prototype.optionToString=function(e,t){var r=this,a=[];return void 0===t?e:\"object\"!==o(t)||Object.keys(t).length?\"boolean\"==typeof t?t?e:\"cache\"===e?\"cache=false\":\"\":(Object.keys(t).forEach(function(e){Array.isArray(t[e])?a.push(e+\":\"+r.arrayToString(t[e])):a.push(e+\":\"+r.escapeValue(t[e]))}),e+\"=\"+a.join(\",\")):e},e.prototype.escapeValue=function(e){return\"string\"!=typeof e?e:e.indexOf(\"/\")>-1?'\"'+e+'\"':e},e.prototype.arrayToString=function(e){var t=this;return\"[\"+e.map(function(e){return Array.isArray(e)?t.arrayToString(e):t.escapeValue(e)})+\"]\"},e}();!function(e){e.left=\"left\",e.right=\"right\",e.center=\"center\",e.bottom=\"bottom\",e.top=\"top\"}($n||($n={})),function(e){e.left=\"left\",e.right=\"right\",e.center=\"center\",e.bottom=\"bottom\",e.top=\"top\",e.faces=\"faces\"}(Rn||(Rn={})),function(e){e.clip=\"clip\",e.crop=\"crop\",e.scale=\"scale\",e.max=\"max\"}(Tn||(Tn={})),function(e){e.linear=\"linear\",e.gaussian=\"gaussian\"}(Cn||(Cn={})),function(e){e.oval=\"oval\",e.rect=\"rect\"}(zn||(zn={})),function(e){e.none=\"none\",e.low=\"low\",e.medium=\"medium\",e.high=\"high\"}(qn||(qn={})),function(e){e.artwork=\"artwork\",e.photo=\"photo\"}(Un||(Un={})),function(e){e.RGB=\"RGB\",e.CMYK=\"CMYK\",e.Input=\"Input\"}(Nn||(Nn={})),function(e){e.thumb=\"thumb\",e.crop=\"crop\",e.fill=\"fill\"}(Ln||(Ln={})),function(e){e.h264=\"h264\",e.h264_hi=\"h264.hi\",e.webm=\"webm\",e[\"webm-hi\"]=\"webm.hi\",e.ogg=\"ogg\",e[\"ogg-hi\"]=\"ogg.hi\",e[\"hls-variant\"]=\"hls.variant\",e.mp3=\"mp3\",e.oga=\"oga\",e.m4a=\"m4a\",e.aac=\"aac\",e.hls=\"hls.variant.audio\"}(Vn||(Vn={})),function(e){e.desktop=\"desktop\",e.mobile=\"mobile\"}(Mn||(Mn={})),function(e){e.all=\"all\",e.window=\"window\"}(Qn||(Qn={})),function(e){e.portrait=\"portrait\",e.landscape=\"landscape\"}(Hn||(Hn={})),function(e){e.s3=\"s3\",e.azure=\"azure\",e.gcs=\"gcs\",e.rackspace=\"rackspace\",e.dropbox=\"dropbox\"}(Bn||(Bn={})),function(e){e.private=\"private\",e.public=\"public\"}(Kn||(Kn={})),function(e){e.preserve=\"preserve\",e.constrain=\"constrain\",e.letterbox=\"letterbox\",e.pad=\"pad\",e.crop=\"crop\"}(Jn||(Jn={}));var Gn=function(e,t,r,a){void 0===r&&(r={}),void 0===a&&(a=!1),r=function e(t){for(var r={},a=Object.keys(t),n=0;n<a.length;n++){var i=a[n].split(/(?=[A-Z])/).join(\"_\").toLowerCase();\"object\"!==o(t[a[n]])||Array.isArray(t[a[n]])?r[i]=t[a[n]]:r[i]=e(t[a[n]])}return r}(r),e.policy&&e.signature&&(r.security={policy:e.policy,signature:e.signature});var n=new Zn(t,e.apikey);return n.setCname(e.cname),n.setBase64(a),e.urls.cdnUrl.indexOf(\"localhost\")>-1&&n.setCustomDomain(e.urls.cdnUrl),Object.keys(r).forEach(function(e){(\"boolean\"!=typeof r[e]||r[e]||\"cache\"===e)&&n.addTask(e,r[e])}),n.toString()};var Yn,Wn,eo,to={atob:function(e){if((e=(e=\"\".concat(e)).replace(/[ \\t\\n\\f\\r]/g,\"\")).length%4==0&&(e=e.replace(/==?$/,\"\")),e.length%4==1||/[^+\\/0-9A-Za-z]/.test(e))return null;for(var t=\"\",r=0,a=0,n=0;n<e.length;n++)r<<=6,r|=(o=e[n],/[A-Z]/.test(o)?o.charCodeAt(0)-\"A\".charCodeAt(0):/[a-z]/.test(o)?o.charCodeAt(0)-\"a\".charCodeAt(0)+26:/[0-9]/.test(o)?o.charCodeAt(0)-\"0\".charCodeAt(0)+52:\"+\"===o?62:\"/\"===o?63:void 0),24===(a+=6)&&(t+=String.fromCharCode((16711680&r)>>16),t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r),r=a=0);var o;return 12===a?(r>>=4,t+=String.fromCharCode(r)):18===a&&(r>>=2,t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r)),t},btoa:function(e){var t;for(e=\"\".concat(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;var r=\"\";for(t=0;t<e.length;t+=3){var a=[void 0,void 0,void 0,void 0];a[0]=e.charCodeAt(t)>>2,a[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(a[1]|=e.charCodeAt(t+1)>>4,a[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(a[2]|=e.charCodeAt(t+2)>>6,a[3]=63&e.charCodeAt(t+2));for(var n=0;n<a.length;n++)void 0===a[n]?r+=\"=\":r+=(o=a[n])<26?String.fromCharCode(o+\"A\".charCodeAt(0)):o<52?String.fromCharCode(o-26+\"a\".charCodeAt(0)):o<62?String.fromCharCode(o-52+\"0\".charCodeAt(0)):62===o?\"+\":63===o?\"/\":void 0}var o;return r}},ro=to.atob,ao=to.btoa,no=ht(function(e,t){e.exports=function(e){var t=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\"];function r(e,t){var r=e[0],a=e[1],n=e[2],o=e[3];r+=(a&n|~a&o)+t[0]-680876936|0,o+=((r=(r<<7|r>>>25)+a|0)&a|~r&n)+t[1]-389564586|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&a)+t[2]+606105819|0,a+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+t[3]-1044525330|0,r+=((a=(a<<22|a>>>10)+n|0)&n|~a&o)+t[4]-176418897|0,o+=((r=(r<<7|r>>>25)+a|0)&a|~r&n)+t[5]+1200080426|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&a)+t[6]-1473231341|0,a+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+t[7]-45705983|0,r+=((a=(a<<22|a>>>10)+n|0)&n|~a&o)+t[8]+1770035416|0,o+=((r=(r<<7|r>>>25)+a|0)&a|~r&n)+t[9]-1958414417|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&a)+t[10]-42063|0,a+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+t[11]-1990404162|0,r+=((a=(a<<22|a>>>10)+n|0)&n|~a&o)+t[12]+1804603682|0,o+=((r=(r<<7|r>>>25)+a|0)&a|~r&n)+t[13]-40341101|0,n+=((o=(o<<12|o>>>20)+r|0)&r|~o&a)+t[14]-1502002290|0,a+=((n=(n<<17|n>>>15)+o|0)&o|~n&r)+t[15]+1236535329|0,r+=((a=(a<<22|a>>>10)+n|0)&o|n&~o)+t[1]-165796510|0,o+=((r=(r<<5|r>>>27)+a|0)&n|a&~n)+t[6]-1069501632|0,n+=((o=(o<<9|o>>>23)+r|0)&a|r&~a)+t[11]+643717713|0,a+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+t[0]-373897302|0,r+=((a=(a<<20|a>>>12)+n|0)&o|n&~o)+t[5]-701558691|0,o+=((r=(r<<5|r>>>27)+a|0)&n|a&~n)+t[10]+38016083|0,n+=((o=(o<<9|o>>>23)+r|0)&a|r&~a)+t[15]-660478335|0,a+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+t[4]-405537848|0,r+=((a=(a<<20|a>>>12)+n|0)&o|n&~o)+t[9]+568446438|0,o+=((r=(r<<5|r>>>27)+a|0)&n|a&~n)+t[14]-1019803690|0,n+=((o=(o<<9|o>>>23)+r|0)&a|r&~a)+t[3]-187363961|0,a+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+t[8]+1163531501|0,r+=((a=(a<<20|a>>>12)+n|0)&o|n&~o)+t[13]-1444681467|0,o+=((r=(r<<5|r>>>27)+a|0)&n|a&~n)+t[2]-51403784|0,n+=((o=(o<<9|o>>>23)+r|0)&a|r&~a)+t[7]+1735328473|0,a+=((n=(n<<14|n>>>18)+o|0)&r|o&~r)+t[12]-1926607734|0,r+=((a=(a<<20|a>>>12)+n|0)^n^o)+t[5]-378558|0,o+=((r=(r<<4|r>>>28)+a|0)^a^n)+t[8]-2022574463|0,n+=((o=(o<<11|o>>>21)+r|0)^r^a)+t[11]+1839030562|0,a+=((n=(n<<16|n>>>16)+o|0)^o^r)+t[14]-35309556|0,r+=((a=(a<<23|a>>>9)+n|0)^n^o)+t[1]-1530992060|0,o+=((r=(r<<4|r>>>28)+a|0)^a^n)+t[4]+1272893353|0,n+=((o=(o<<11|o>>>21)+r|0)^r^a)+t[7]-155497632|0,a+=((n=(n<<16|n>>>16)+o|0)^o^r)+t[10]-1094730640|0,r+=((a=(a<<23|a>>>9)+n|0)^n^o)+t[13]+681279174|0,o+=((r=(r<<4|r>>>28)+a|0)^a^n)+t[0]-358537222|0,n+=((o=(o<<11|o>>>21)+r|0)^r^a)+t[3]-722521979|0,a+=((n=(n<<16|n>>>16)+o|0)^o^r)+t[6]+76029189|0,r+=((a=(a<<23|a>>>9)+n|0)^n^o)+t[9]-640364487|0,o+=((r=(r<<4|r>>>28)+a|0)^a^n)+t[12]-421815835|0,n+=((o=(o<<11|o>>>21)+r|0)^r^a)+t[15]+530742520|0,a+=((n=(n<<16|n>>>16)+o|0)^o^r)+t[2]-995338651|0,r+=(n^((a=(a<<23|a>>>9)+n|0)|~o))+t[0]-198630844|0,o+=(a^((r=(r<<6|r>>>26)+a|0)|~n))+t[7]+1126891415|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~a))+t[14]-1416354905|0,a+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+t[5]-57434055|0,r+=(n^((a=(a<<21|a>>>11)+n|0)|~o))+t[12]+1700485571|0,o+=(a^((r=(r<<6|r>>>26)+a|0)|~n))+t[3]-1894986606|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~a))+t[10]-1051523|0,a+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+t[1]-2054922799|0,r+=(n^((a=(a<<21|a>>>11)+n|0)|~o))+t[8]+1873313359|0,o+=(a^((r=(r<<6|r>>>26)+a|0)|~n))+t[15]-30611744|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~a))+t[6]-1560198380|0,a+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+t[13]+1309151649|0,r+=(n^((a=(a<<21|a>>>11)+n|0)|~o))+t[4]-145523070|0,o+=(a^((r=(r<<6|r>>>26)+a|0)|~n))+t[11]-1120210379|0,n+=(r^((o=(o<<10|o>>>22)+r|0)|~a))+t[2]+718787259|0,a=((a+=(o^((n=(n<<15|n>>>17)+o|0)|~r))+t[9]-343485551|0)<<21|a>>>11)+n|0,e[0]=r+e[0]|0,e[1]=a+e[1]|0,e[2]=n+e[2]|0,e[3]=o+e[3]|0}function a(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function o(e){var t,n,o,i,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,a(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),u=parseInt(i[1],16)||0,o[14]=s,o[15]=u,r(l,o),l}function i(e){var r,a=\"\";for(r=0;r<4;r+=1)a+=t[e>>8*r+4&15]+t[e>>8*r&15];return a}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=i(e[t]);return e.join(\"\")}function u(e){return/[\\u0080-\\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,r=[],a=e.length;for(t=0;t<a-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return s(o(\"hello\")),\"undefined\"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,a){var n,o,i,s,u=this.byteLength,c=t(r,u),l=u;return a!==e&&(l=t(a,u)),c>l?new ArrayBuffer(0):(n=l-c,o=new ArrayBuffer(n),i=new Uint8Array(o),s=new Uint8Array(this,c,n),i.set(s),o)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)r(this._hash,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,a=this._buff,n=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)o[t>>2]|=a.charCodeAt(t)<<(t%4<<3);return this._finish(o,n),r=s(this._hash),e&&(r=c(r)),this.reset(),r},l.prototype.reset=function(){return this._buff=\"\",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var a,n,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(r(this._hash,e),i=0;i<16;i+=1)e[i]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(a[2],16),o=parseInt(a[1],16)||0,e[14]=n,e[15]=o,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var r=s(o(e));return t?c(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,a,o,i,s,u=(a=this._buff.buffer,o=e,i=!0,(s=new Uint8Array(a.byteLength+o.byteLength)).set(new Uint8Array(a)),s.set(new Uint8Array(o),a.byteLength),i?s:s.buffer),c=u.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)r(this._hash,n(u.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(u.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,a=this._buff,n=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n;t+=1)o[t>>2]|=a[t]<<(t%4<<3);return this._finish(o,n),r=s(this._hash),e&&(r=c(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,a=e.length,n=new ArrayBuffer(a),o=new Uint8Array(n);for(r=0;r<a;r+=1)o[r]=e.charCodeAt(r);return t?o:n}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var a=s(function(e){var t,a,o,i,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)r(l,n(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),a=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(r(l,o),t=0;t<16;t+=1)o[t]=0;return i=(i=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(i[2],16),u=parseInt(i[1],16)||0,o[14]=s,o[15]=u,r(l,o),l}(new Uint8Array(e)));return t?c(a):a},l}()}).ArrayBuffer,oo=function(e){return ao(no.hash(e,!0))},io=function(e,t){var r=function(e,t){var r=e.config,a=e.file,n=t*r.partSize;return{start:n,end:Math.min(n+r.partSize,a.size)}}(e,t),a=r.start,n=r.end;return e.file.slice(a,n)},so=function(e,t){return(r=io(t,e.number),new Promise(function(e,t){var a;File&&FileReader&&Blob?((a=new FileReader).onloadend=e,a.onerror=t,a.readAsArrayBuffer(r)):t(new Error(\"The File APIs are not fully supported by your browser\"))})).then(function(t){var r=t.target.result;return s({},e,{buffer:r,size:r.byteLength,md5:oo(r)})});var r},uo=function(e){var t,r=e;return\"string\"==typeof e&&(r=function(e,t){var r;void 0===t&&(t=512);var a=\"\";e.split(\",\")[0].indexOf(\"base64\")>=0&&(r=e.split(\",\")[1]),void 0!==r&&(a=e.split(\",\")[0].split(\":\")[1].split(\";\")[0],e=decodeURI(r));for(var n=ro(e),o=[],i=0;i<n.length;i+=t){for(var s=n.slice(i,i+t),u=new Array(s.length),c=0;c<s.length;c+=1)u[c]=s.charCodeAt(c);var l=new Uint8Array(u);o.push(l)}return new Blob(o,{type:a})}(r)),r&&(\"[object File]\"===(t=r).toString()||\"[object Blob]\"===t.toString())?Promise.resolve(r):Promise.reject(new TypeError(\"File argument is not a valid Blob\"))},co=function(e,t){return t.customName||e.name},lo=function(e){return e&&\"https://\"+e},po=function(e,t){var r=t.store,a={};return Object.keys(e).forEach(function(t){\"object\"===o(e[t])&&(e[t]=JSON.stringify(e[t])),e[t]&&(a[t]=e[t])}),Object.keys(r).forEach(function(e){\"object\"===o(r[e])&&(r[e]=JSON.stringify(r[e])),r[e]&&(a[e]=r[e])}),a},fo=function(e){var t=e.config,r=e.file,a={apikey:t.apikey,filename:co(r,t),mimetype:t.mimetype||r.type||\"application/octet-stream\",size:r.size};t.policy&&t.signature&&(a.policy=t.policy,a.signature=t.signature),t.intelligent&&(a.multipart=!0);var n=po(a,t);return Ct(\"post\",t.host+\"/multipart/start\").timeout(t.timeout).field(n)},ho=function(e,t){var r=t.config,a=t.params,n=(r.host,lo(a.location_url)),o=a.location_region,i=s({apikey:r.apikey,part:e.number+1,size:e.size,md5:e.md5},a);void 0!==e.offset&&(i.multipart=!0,i.offset=0===e.offset?\"0\":e.offset);var u=po(i,r),c=Ct(\"post\",n+\"/multipart/upload\");return o&&c.set(\"Filestack-Upload-Region\",o),c.timeout(r.timeout),c.field(u),new Promise(function(e,t){c.end(function(r,a){return r?t(r):e(a)})})},mo=function(e,t,r,a){var n=(a.host,t.url),o=a.timeout||e.byteLength/100,i=Dt(n).set(t.headers).timeout(o).send(e);return r?i.on(\"progress\",r):i},yo=function(e){return e.map(function(e,t){return t+1+\":\"+e}).join(\";\")},vo=function(e,t){var r=t.config,a=t.file,n=t.params,o=(r.host,lo(n.location_url)),i=n.location_region,u=s({apikey:r.apikey,size:a.size,filename:co(a,r),mimetype:r.mimetype||a.type||\"application/octet-stream\",parts:yo(e)},n);r.intelligent&&(u.multipart=!0,delete u.parts),r.policy&&r.signature&&(u.policy=r.policy,u.signature=r.signature);var c=po(u,r),l=Ct(\"post\",o+\"/multipart/complete\");return i&&l.set(\"Filestack-Upload-Region\",i),l.timeout(r.timeout),l.field(c)},go=function(e,t){var r=t.config,a=(r.host,lo(t.params.location_url)),n=s({apikey:r.apikey,part:e.number+1,size:t.file.size},t.params),o=po(n,r);return Ct(\"post\",a+\"/multipart/commit\").timeout(r.timeout).field(o)},bo=\"init\",Po=\"running\",wo=\"done\",Eo=\"failed\",_o=\"paused\",ko=function(e,t){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return e.state.status===Eo?Promise.resolve():new Promise(function(a){!function n(){e.state.status===_o?setTimeout(function(){return n()},100):a(t.apply(void 0,r))}()})}},xo=function(e,t){return u(void 0,void 0,void 0,function(){var r,a,n,o;return c(this,function(i){switch(i.label){case 0:return!0===(r=t.config).intelligent||e.intelligentOverride?(a=ko(t,function(e){return function(e,t){return u(void 0,void 0,void 0,function(){var r,a;return c(this,function(n){switch(n.label){case 0:return[4,ho(e,t)];case 1:return r=n.sent().body,t.config.onProgress&&(a=Ht(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},t.config.progressInterval)),e.request=mo(e.buffer,r,a,t.config),[4,e.request];case 2:return n.sent(),e.loaded=e.size,[2,e.request]}})})}(e,t)}),e.chunks=function(e,t){for(var r=0,a=[];r<e.size;){var n=Math.min(r+t,e.size),o=e.buffer.slice(r,n),i={buffer:o,offset:r,size:o.byteLength,number:e.number,md5:oo(o)};a.push(i),r+=t}return a}(e,e.chunkSize),[4,Promise.all(e.chunks.map(Lt(r.concurrency,a)))]):[3,2];case 1:return i.sent(),[2,go(e,t)];case 2:return[4,ho(e,t)];case 3:return n=i.sent().body,r.onProgress&&(o=Ht(function(t){t.loaded>e.loaded&&(e.loaded=t.loaded)},r.progressInterval)),e.request=mo(e.buffer,n,o,r),[2,e.request]}})})},So=function e(t){t.buffer=void 0,t.request=void 0,t.chunks&&t.chunks.length&&t.chunks.forEach(e)},Oo=function(e){var t=e.config,r=e.state,a=e.file,n=Object.keys(r.parts).map(function(e){return r.parts[e]}),o=n.map(function(e){return e.loaded}),i=n.map(function(e){return e.chunks}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.loaded}).filter(function(e){return e}),s=o;(!0===t.intelligent&&(s=i),\"fallback\"===t.intelligent)&&(s=n.filter(function(e){return!e.intelligentOverride}).map(function(e){return e.loaded}).concat(i));var u=s.reduce(function(e,t){return e+t},0),c=function(e,t){return Math.round(e/t.size*100)}(u,a),l={totalBytes:u,totalPercent:c},p=r.previousPayload||{};return c<p.totalPercent&&(l.totalBytes=p.totalBytes,l.totalPercent=p.totalPercent),r.previousPayload=l,l},jo=function(e,t,r,a,n,o){return void 0===r&&(r={}),void 0===a&&(a={}),void 0===n&&(n={}),uo(t).then(function(t){if(void 0!==t.size&&0===t.size||0===t.length)return Promise.reject(new Error(\"file has a size of 0.\"));var i=[{name:\"host\",type:it},{name:\"path\",type:rt},{name:\"mimetype\",type:it},{name:\"partSize\",type:ot},{name:\"concurrency\",type:ut(nt,function(e){return e>0})},{name:\"onProgress\",type:at},{name:\"progressInterval\",type:nt},{name:\"onRetry\",type:at},{name:\"retry\",type:nt},{name:\"retryFactor\",type:nt},{name:\"retryMaxTime\",type:nt},{name:\"timeout\",type:nt},{name:\"intelligent\",type:ct([rt,st.of(\"fallback\")])},{name:\"intelligentChunkSize\",type:ot}],l=it,p=lt({id:it}),f=ct([l,p]);f.dispatch=function(e){return e.id?p:l};var d=[{name:\"location\",type:st.of(\"s3 gcs rackspace azure dropbox\")},{name:\"region\",type:it},{name:\"path\",type:it},{name:\"container\",type:it},{name:\"filename\",type:it},{name:\"access\",type:st.of(\"public private\")},{name:\"workflows\",type:ft(f)}];Mt(\"upload (options)\",i,r),Mt(\"upload (storeOptions)\",d,a);var h,m=s({},a),y=s({},r);if(m.filename)h=m.filename;else if(void 0===t.name){if(t.type)h=\"untitled.\"+t.type.split(\"/\").pop();else h=\"untitled\"}void 0===m.location&&(m.location=\"s3\"),y.intelligent&&(y.partSize=8388608);var v=o&&o.policy||e.policy,g=o&&o.signature||e.signature;return function(e,t){return u(void 0,void 0,void 0,function(){var r,a,n,o,i,s,l,p,f,d,h,m,y,v,g,b,P,w=this;return c(this,function(E){switch(E.label){case 0:return r=e.file,a=e.state,n=e.config,o=function(t){t&&(a.progressTick=setInterval(function(){var r=Oo(e);100===r.totalPercent&&clearInterval(a.progressTick),t(r)},n.progressInterval))},i=function(e){e&&(e({totalBytes:r.size,totalPercent:100}),clearInterval(a.progressTick))},t.pause=function(){a.status===Po&&(a.status=_o,clearInterval(a.progressTick))},t.resume=function(){a.status===_o&&(a.status=Po,o(n.onProgress))},s=function(){Object.keys(a.parts).map(function(e){return a.parts[e]}).forEach(function(e){e.request&&e.request.abort(),e.chunks.forEach(function(e){e.request&&e.request.abort()}),So(e)})},l=function(){s(),clearInterval(a.progressTick),a.status=Eo,r.buffer&&(r.buffer=null)},p=new Promise(function(e,r){t.cancel=function(){a.status!==Po&&a.status!==_o||(l(),r(new Error(\"Upload cancelled\")))}}),f=function(e){return Promise.race([p,e])},d=function(e,t,o,i){var s=a.retries[e]||0,u=Math.min(n.retryMaxTime,1e3*Math.pow(n.retryFactor,s)),c=new Promise(function(c,p){if(s===n.retry||400===o.status&&\"PUT\"!==o.method||401===o.status||403===o.status||404===o.status||i&&i.chunkSize<=32768)return l(),p(o);var f=function(){return setTimeout(function(){return c(t())},u)};return i&&(n.intelligent||i.intelligentOverride)&&(\"PUT\"===o.method&&(o.crossDomain||400===o.status)||\"ECONNABORTED\"===o.code&&o.timeout||\"ECONNRESET\"===o.code||\"ETIMEDOUT\"===o.code)?(i.chunkSize/=2,n.onRetry&&n.onRetry({location:e,parts:a.parts,filename:co(r,n),chunkSize:i.chunkSize,attempt:void 0}),\"fallback\"===n.intelligent&&(i.intelligentOverride=!0),f()):(s+=1,a.retries[e]=s,n.onRetry&&n.onRetry({location:e,parts:a.parts,filename:co(r,n),attempt:s}),f())});return f(c)},a.status=Po,[4,f(fo(e))];case 1:return h=E.sent().body,e.params=h,m=ko(e,function(t){return u(w,void 0,void 0,function(){var r,o,i,s,u,l;return c(this,function(c){switch(c.label){case 0:return[4,so(t,e)];case 1:if(0===(r=c.sent()).size)return[2,Promise.reject(new Error(\"Upload aborted due to empty chunk.\"))];o=\"upload part \"+(r.number+1),a.parts[r.number]=r,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,xo(r,e)];case 3:return i=c.sent(),s=i.headers.etag,206===i.status?(u=new Error(\"Intelligent part failed to commit\"),[2,d(o,function(){return m(r)},u,r)]):(r.loaded=r.size,So(r),n.intelligent||s?[2,s]:[2,Promise.reject(new Error(\"Response from S3 is missing ETag header.\"))]);case 4:return l=c.sent(),[2,d(o,function(){return m(r)},l,r)];case 5:return[2]}})})}),y=Math.ceil(r.size/n.partSize),v=function(e,t,r){void 0===r&&(r=1);for(var a=[];e<t;e+=r)a.push(e);return a}(0,y).map(function(t){return function(e,t){return{buffer:null,chunks:[],chunkSize:t.config.intelligentChunkSize?t.config.intelligentChunkSize:(r=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(r.substr(0,4))?1048576:8388608),intelligentOverride:!1,loaded:0,number:e,request:null,size:0};var r}(t,e)}),g=Promise.all(v.map(Lt(n.concurrency,m))),o(n.onProgress),[4,f(g)];case 2:return b=E.sent(),P=ko(e,function(){return u(w,void 0,void 0,function(){var t,o;return c(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,vo(b,e)];case 1:return 202===(t=s.sent()).status?[2,new Promise(function(e){setTimeout(function(){return e(P())},1e3)})]:(a.status=wo,i(n.onProgress),r.buffer&&(r.buffer=null),t.body&&t.body.error&&t.body.error.text?[2,Promise.reject(new Error(\"File upload error: \"+t.body.error.text))]:[2,t.body]);case 2:return o=s.sent(),[2,d(\"complete\",P,o)];case 3:return[2]}})})}),[2,f(P())]}})})}({file:t,config:s({host:e.urls.uploadApiUrl,apikey:e.apikey,policy:v,signature:g,partSize:6291456,concurrency:3,progressInterval:1e3,retry:10,retryFactor:2,retryMaxTime:15e3,customName:h,mimetype:r.mimetype,store:{workflows:m.workflows,store_location:m.location,store_region:m.region,store_container:m.container,store_path:m.path,store_access:m.access},timeout:12e4},y),state:{parts:{},progressTick:null,previousPayload:null,retries:{},status:bo}},n)})},Fo=function(e,t,r){if(!t||\"string\"!=typeof t)throw new Error(\"A valid Filestack handle or storage alias is required for preview\");Mt(\"preview\",[{name:\"id\",type:it},{name:\"css\",type:it}],r);var a=Qt(r),n=function(e,t,r,a){var n=s({},r),o=a&&a.policy||e.policy,i=a&&a.signature||e.signature,u=i&&o,c=[e.urls.cdnUrl],l=n.css&&encodeURIComponent('\"'+n.css+'\"'),p=l?\"preview=css:\"+l:\"preview\";return-1!==t.indexOf(\"src:\")?c.push(e.apikey+\"/\"+p):c.push(p),u&&c.push(\"security=policy:\"+o+\",signature:\"+i),c.push(t),c.join(\"/\")}(e,t,a);if(a.id){var o=a.id,i=document.createElement(\"iframe\"),u=document.getElementById(o);if(i.src=n,i.width=\"100%\",i.height=\"100%\",!u)throw new Error('DOM Element with id \"'+o+'\" not found.');return u.appendChild(i)}return window.open(n,t)},Ao=function(){function e(e,t){this.cache=!1,this.session=e,this.cloudApiUrl=e.urls.cloudApiUrl,t&&t.sessionCache&&(this.cache=t.sessionCache)}return Object.defineProperty(e.prototype,\"token\",{get:function(){if(this.cache){var e=localStorage.getItem(\"__fs_picker_token\");if(e)return e}return this._token},set:function(e){this.cache&&localStorage.setItem(\"__fs_picker_token\",e),this._token=e},enumerable:!0,configurable:!0}),e.prototype.prefetch=function(){var e={apikey:this.session.apikey};return Ct(\"get\",this.cloudApiUrl+\"/prefetch\").query(e).then(function(e){return e.body})},e.prototype.list=function(e,t){var r=this;void 0===t&&(t={});var a={apikey:this.session.apikey,clouds:e,flow:\"web\",token:this.token};return this.session.policy&&this.session.signature&&(a.policy=this.session.policy,a.signature=this.session.signature),new Promise(function(e,n){var o=Ct(\"post\",r.cloudApiUrl+\"/folder/list\").send(a).end(function(t,a){t?n(t):(a.body&&a.body.token&&(r.token=a.body.token),e(a.body))});t.cancel=function(){o.abort(),n(new Error(\"Cancelled\"))}})},e.prototype.store=function(e,t,r,a,n){var o,i=this;void 0===r&&(r={}),void 0===a&&(a={}),void 0===n&&(n={}),void 0===r.location&&(r.location=\"s3\");var s={apikey:this.session.apikey,token:this.token,flow:\"web\",clouds:(o={},o[e]={path:t,store:Qt(r)},o)};return\"customsource\"===e&&a.customSourcePath&&(s.clouds.customsource.customSourcePath=a.customSourcePath),\"customsource\"===e&&a.customSourceContainer&&(s.clouds.customsource.customSourceContainer=a.customSourceContainer),this.session.policy&&this.session.signature&&(s.policy=this.session.policy,s.signature=this.session.signature),new Promise(function(t,r){var a=Ct(\"post\",i.cloudApiUrl+\"/store/\").send(s).end(function(a,n){a?r(a):(n.body&&n.body.token&&(i.token=n.body.token),n.body&&n.body[e]?t(n.body[e]):t(n.body))});n.cancel=function(){a.abort(),r(new Error(\"Cancelled\"))}})},e.prototype.link=function(e,t,r,a){var n,o=this;void 0===r&&(r={}),void 0===a&&(a={});var i={apikey:this.session.apikey,token:this.token,flow:\"web\",clouds:(n={},n[e]={path:t},n)};return\"customsource\"===e&&r.customSourcePath&&(i.clouds.customsource.customSourcePath=r.customSourcePath),\"customsource\"===e&&r.customSourceContainer&&(i.clouds.customsource.customSourceContainer=r.customSourceContainer),this.session.policy&&this.session.signature&&(i.policy=this.session.policy,i.signature=this.session.signature),new Promise(function(t,r){var n=Ct(\"post\",o.cloudApiUrl+\"/link/\").send(i).end(function(a,n){a?r(a):(n.body&&n.body.token&&(o.token=n.body.token),n.body[e]?t(n.body[e]):t(n.body))});a.cancel=function(){n.abort(),r(new Error(\"Cancelled\"))}})},e.prototype.logout=function(e){var t,r=this,a={apikey:this.session.apikey,flow:\"web\",token:this.token};return e?a.clouds=((t={})[e]={},t):this.cache&&localStorage.removeItem(\"__fs_picker_token\"),new Promise(function(e,t){Ct(\"post\",r.cloudApiUrl+\"/auth/logout/\").send(a).end(function(a,n){a?t(a):(n.body&&n.body.token&&(r.token=n.body.token),e(n.body))})})},e.prototype.metadata=function(e){var t=this,r={apikey:this.session.apikey,url:e};return this.session.policy&&this.session.signature&&(r.policy=this.session.policy,r.signature=this.session.signature),new Promise(function(e,a){Ct(\"post\",t.cloudApiUrl+\"/metadata\").send(r).end(function(t,r){t?a(t):e(r.body)})})},e.prototype.tokInit=function(e){var t=this;if(\"video\"!==e&&\"audio\"!==e)throw new Error(\"Type must be one of video or audio.\");return new Promise(function(r,a){return Ct(\"post\",t.cloudApiUrl+\"/recording/\"+e+\"/init\").end(function(e,t){e?a(e):r(t)})})},e.prototype.tokStart=function(e,t,r){var a=this;if(\"video\"!==e&&\"audio\"!==e)throw new Error(\"Type must be one of video or audio.\");var n={apikey:t,session_id:r};return new Promise(function(t,r){return Ct(\"post\",a.cloudApiUrl+\"/recording/\"+e+\"/start\").send(n).end(function(e,a){e?r(e):t(a)})})},e.prototype.tokStop=function(e,t,r,a){var n=this;if(\"video\"!==e&&\"audio\"!==e)throw new Error(\"Type must be one of video or audio.\");var o={apikey:t,session_id:r,archive_id:a};return new Promise(function(t,r){return Ct(\"post\",n.cloudApiUrl+\"/recording/\"+e+\"/stop\").send(o).end(function(e,a){e?r(e):t(a)})})},e}(),Do=\"function\"==typeof Symbol&&\"symbol\"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":o(e)},Io=(Yn=void 0,\"object\"===(\"undefined\"==typeof window?\"undefined\":Do(window))&&((Yn=window.filestackInternals)||(Yn={},window.filestackInternals=Yn),Yn.loader||(Yn.loader={modules:{}})),Yn),$o=Io&&Io.loader.modules,Ro=function(e,t){var r=$o[e];if(r||($o[e]={},r=$o[e]),r.instance)return Promise.resolve(r.instance);if(r.promise)return r.promise;var a=new Promise(function(a,n){!function o(){\"complete\"===document.readyState?function(){r.resolvePromise=a;var o=document.createElement(\"script\");o.src=e,o.onerror=n,t&&(o.id=t),document.body.appendChild(o)}():setTimeout(o,50)}()});return r.promise=a,a},To=\"__filestack-picker-module\";!function(e){e.cw=\"CW\",e.ccw=\"CCW\"}(Wn||(Wn={})),function(e){e.inline=\"inline\",e.overlay=\"overlay\",e.dropPane=\"dropPane\"}(eo||(eo={}));var Co=function(){function e(e,t){this._initialized=this.loadModule(e,t)}return e.prototype.open=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().open()];case 2:return e.sent(),[2]}})})},e.prototype.crop=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this._initialized];case 1:return[4,t.sent().crop(e)];case 2:return t.sent(),[2]}})})},e.prototype.close=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().close()];case 2:return e.sent(),[2]}})})},e.prototype.cancel=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._initialized];case 1:return[4,e.sent().cancel()];case 2:return e.sent(),[2]}})})},e.prototype.loadModule=function(e,t){return u(this,void 0,void 0,function(){var r;return c(this,function(a){switch(a.label){case 0:return r=e.session.urls.pickerUrl,[4,Ro(r,To)];case 1:return[2,new(a.sent())(e,t)]}})})},e}(),zo=function(){function e(e,t){var r=this;if(!e||\"string\"!=typeof e||0===e.length)throw new Error(\"An apikey is required to initialize the Filestack client\");var n=a.urls;if(this.session={apikey:e,urls:n},t){var o=t.cname,i=t.security;if(i&&(!i.policy||!i.signature))throw new Error(\"Both policy and signature are required for client security\");if(i&&i.policy&&i.signature&&(this.session.policy=i.policy,this.session.signature=i.signature),o){this.session.urls=Vt(this.session.urls,o);var s=/filestackapi.com|filestackcontent.com/i;this.session.cname=o,Object.keys(n).forEach(function(e){r.session.urls[e]=n[e].replace(s,o)})}}this.cloud=new Ao(this.session,t)}return e.prototype.logout=function(e){return this.cloud.logout(e)},e.prototype.metadata=function(e,t,r){return function(e,t,r,a){if(!t||\"string\"!=typeof t)throw new Error(\"A valid Filestack handle is required for metadata\");Mt(\"metadata\",[{name:\"size\",type:rt},{name:\"mimetype\",type:rt},{name:\"filename\",type:rt},{name:\"width\",type:rt},{name:\"height\",type:rt},{name:\"uploaded\",type:rt},{name:\"writeable\",type:rt},{name:\"cloud\",type:rt},{name:\"sourceUrl\",type:rt},{name:\"md5\",type:rt},{name:\"sha1\",type:rt},{name:\"sha224\",type:rt},{name:\"sha256\",type:rt},{name:\"sha384\",type:rt},{name:\"sha512\",type:rt},{name:\"location\",type:rt},{name:\"path\",type:rt},{name:\"container\",type:rt},{name:\"exif\",type:rt}],r);var n=s({},r);n.source_url=n.sourceUrl,n.policy=a&&a.policy||e.policy,n.signature=a&&a.signature||e.signature;var o=e.urls.fileApiUrl+\"/\"+t+\"/metadata\";return new Promise(function(e,r){Ft(o).query(Qt(n)).end(function(a,n){if(a)return r(a);e(s({},n.body,{handle:t}))})})}(this.session,e,t,r)},e.prototype.picker=function(e){return function(e,t){return new Co(e,t)}(this,e)},e.prototype.preview=function(e,t){return Fo(this.session,e,t)},e.prototype.remove=function(e,t){return Bt(this.session,e,!1,t)},e.prototype.removeMetadata=function(e,t){return Bt(this.session,e,!0,t)},e.prototype.storeURL=function(e,t,r,a){return function(e,t,r,a,n){if(!t||\"string\"!=typeof t)throw new Error(\"url is required for storeURL\");e.policy=n&&n.policy||e.policy,e.signature=n&&n.signature||e.signature;var o=new Zn(t,e.apikey);return o.setCname(e.cname),(e.urls.cdnUrl.indexOf(\"localhost\")>-1||e.urls.cdnUrl.indexOf(\"badurl\")>-1)&&o.setCustomDomain(e.urls.cdnUrl),e.policy&&e.signature&&o.security({policy:e.policy,signature:e.signature}),o.store(r),new Promise(function(e,t){var r=Ft(o.toString());return a&&(a.cancel=function(){r.abort(),t(new Error(\"Upload cancelled\"))}),r.then(function(t){if(t.body&&t.body.url){var r=t.body.url.split(\"/\").pop(),a=s({},t.body,{handle:r,mimetype:t.body.type});return e(a)}return e(t.body)}).catch(function(e){t(e)})})}(this.session,e,t,r,a)},e.prototype.retrieve=function(e,t,r){return function(e,t,r,a){if(void 0===r&&(r={}),!t||0===t.length||\"string\"!=typeof t)throw new Error(\"File handle is required\");Mt(\"retrieveOptions\",[{name:\"metadata\",type:rt},{name:\"head\",type:rt},{name:\"dl\",type:rt},{name:\"cache\",type:rt},{name:\"extension\",type:it}],r);var n=s({},r);n.key=e.apikey,n.policy=a&&a.policy||e.policy,n.signature=a&&a.signature||e.signature;var o,i,u=Ut.get,c=Nt.blob;if(n.head&&(u=Ut.head,c=Nt.json,delete n.head),n.extension&&n.extension.length&&(o=n.extension,delete n.extension),n.metadata){if(u===Ut.head)throw new Error(\"Head and metadata options cannot be used together\");c=Nt.json,i=n.metadata,delete n.metadata}var l=e.urls.fileApiUrl+\"/\"+t+(o?\"+\"+o:\"\")+(i?\"/metadata\":\"\");return new Promise(function(e,t){Tt[u](l).query(n).responseType(c).end(function(r,a){return r?t(r):u===Ut.head?e(a.headers):void e(a.body)})})}(this.session,e,t,r)},e.prototype.transform=function(e,t,r){return void 0===r&&(r=!1),Gn(this.session,e,t,r)},e.prototype.upload=function(e,t,r,a,n){return jo(this.session,e,t,r,a,n)},e}(),qo=function(e,t){return new zo(e,t)},Uo=\"1.14.6\"}.call(this,r(\"yLpj\"))}}]);"}
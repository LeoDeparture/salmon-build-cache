{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"2d31\"],{\"/Mxf\":function(e,t){function r(t,a){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,a)}e.exports=r},\"0yDM\":function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p={actions:c.default.object,player:c.default.object,className:c.default.string},v=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleClick\",value:function(){var e=this.props,t=e.actions;e.player.paused?t.play():t.pause()}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.player,a=t.className,n=r.paused?\"Play\":\"Pause\";return f.default.createElement(\"button\",{ref:function(t){e.button=t},className:(0,h.default)(a,{\"video-react-play-control\":!0,\"video-react-control\":!0,\"video-react-button\":!0,\"video-react-paused\":r.paused,\"video-react-playing\":!r.paused}),type:\"button\",tabIndex:\"0\",onClick:this.handleClick},f.default.createElement(\"span\",{className:\"video-react-control-text\"},n))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName=\"PlayToggle\"},\"1uat\":function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"MlIO\"),function(){var e=a,t=e.lib.Hasher,r=e.x64,n=r.Word,i=r.WordArray,o=e.algo;function s(){return n.create.apply(n,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var d=o.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,a=r[0],n=r[1],i=r[2],o=r[3],s=r[4],d=r[5],c=r[6],f=r[7],h=a.high,p=a.low,v=n.high,g=n.low,y=i.high,m=i.low,b=o.high,E=o.low,_=s.high,S=s.low,T=d.high,k=d.low,A=c.high,R=c.low,w=f.high,P=f.low,D=h,C=p,O=v,L=g,I=y,x=m,M=b,F=E,N=_,j=S,B=T,U=k,G=A,K=R,H=w,V=P,q=0;q<80;q++){var W=u[q];if(q<16)var z=W.high=0|e[t+2*q],Y=W.low=0|e[t+2*q+1];else{var X=u[q-15],Q=X.high,J=X.low,Z=(Q>>>1|J<<31)^(Q>>>8|J<<24)^Q>>>7,$=(J>>>1|Q<<31)^(J>>>8|Q<<24)^(J>>>7|Q<<25),ee=u[q-2],te=ee.high,re=ee.low,ae=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ne=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=u[q-7],oe=ie.high,se=ie.low,le=u[q-16],ue=le.high,de=le.low;z=(z=(z=Z+oe+((Y=$+se)>>>0<$>>>0?1:0))+ae+((Y+=ne)>>>0<ne>>>0?1:0))+ue+((Y+=de)>>>0<de>>>0?1:0),W.high=z,W.low=Y}var ce,fe=N&B^~N&G,he=j&U^~j&K,pe=D&O^D&I^O&I,ve=C&L^C&x^L&x,ge=(D>>>28|C<<4)^(D<<30|C>>>2)^(D<<25|C>>>7),ye=(C>>>28|D<<4)^(C<<30|D>>>2)^(C<<25|D>>>7),me=(N>>>14|j<<18)^(N>>>18|j<<14)^(N<<23|j>>>9),be=(j>>>14|N<<18)^(j>>>18|N<<14)^(j<<23|N>>>9),Ee=l[q],_e=Ee.high,Se=Ee.low,Te=H+me+((ce=V+be)>>>0<V>>>0?1:0),ke=ye+ve;H=G,V=K,G=B,K=U,B=N,U=j,N=M+(Te=(Te=(Te=Te+fe+((ce+=he)>>>0<he>>>0?1:0))+_e+((ce+=Se)>>>0<Se>>>0?1:0))+z+((ce+=Y)>>>0<Y>>>0?1:0))+((j=F+ce|0)>>>0<F>>>0?1:0)|0,M=I,F=x,I=O,x=L,O=D,L=C,D=Te+(ge+pe+(ke>>>0<ye>>>0?1:0))+((C=ce+ke|0)>>>0<ce>>>0?1:0)|0}p=a.low=p+C,a.high=h+D+(p>>>0<C>>>0?1:0),g=n.low=g+L,n.high=v+O+(g>>>0<L>>>0?1:0),m=i.low=m+x,i.high=y+I+(m>>>0<x>>>0?1:0),E=o.low=E+F,o.high=b+M+(E>>>0<F>>>0?1:0),S=s.low=S+j,s.high=_+N+(S>>>0<j>>>0?1:0),k=d.low=k+U,d.high=T+B+(k>>>0<U>>>0?1:0),R=c.low=R+K,c.high=A+G+(R>>>0<K>>>0?1:0),P=f.low=P+V,f.high=w+H+(P>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[30+(a+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(a+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(d),e.HmacSHA512=t._createHmacHelper(d)}(),a.SHA512)},\"3nJo\":function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.OPERATE:return(0,n.default)({},e,{count:e.count+1,operation:(0,n.default)({},e.operation,t.operation)});default:return e}};var n=a(r(\"jTYr\")),i=r(\"we7k\"),o={count:0,operation:{action:\"\",source:\"\"}}},\"3y9D\":function(e,t,r){var a,n,i,o,s,l,u,d;e.exports=(a=r(\"Ib8C\"),i=(n=a).lib,o=i.WordArray,s=i.Hasher,l=n.algo,u=[],d=l.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,a=r[0],n=r[1],i=r[2],o=r[3],s=r[4],l=0;l<80;l++){if(l<16)u[l]=0|e[t+l];else{var d=u[l-3]^u[l-8]^u[l-14]^u[l-16];u[l]=d<<1|d>>>31}var c=(a<<5|a>>>27)+s+u[l];c+=l<20?1518500249+(n&i|~n&o):l<40?1859775393+(n^i^o):l<60?(n&i|n&o|i&o)-1894007588:(n^i^o)-899497514,s=o,o=i,i=n<<30|n>>>2,n=a,a=c}r[0]=r[0]+a|0,r[1]=r[1]+n|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(a+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(d),n.HmacSHA1=s._createHmacHelper(d),a.SHA1)},\"4FqI\":function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h={player:c.default.object,children:c.default.any},p=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleClick\",value:function(e){e.preventDefault()}},{key:\"render\",value:function(){var e=this.props.children;return f.default.createElement(\"div\",{className:\"video-react-menu\",onClick:this.handleClick},f.default.createElement(\"div\",{className:\"video-react-menu-content\"},e))}}]),t}(f.Component);t.default=p,p.propTypes=h,p.displayName=\"Popup\"},\"4b3c\":function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=(0,a(r(\"8nKf\")).default)(\"forward\");n.displayName=\"ForwardControl\";var i=n;t.default=i},\"54lq\":function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p={actions:c.default.object,player:c.default.object,className:c.default.string},v=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleClick\",value:function(){var e=this.props,t=e.player;e.actions.toggleFullscreen(t)}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.player,a=t.className;return f.default.createElement(\"button\",{className:(0,h.default)(a,{\"video-react-icon-fullscreen-exit\":r.isFullscreen,\"video-react-icon-fullscreen\":!r.isFullscreen},\"video-react-fullscreen-control video-react-control video-react-button video-react-icon\"),ref:function(t){e.button=t},type:\"button\",tabIndex:\"0\",onClick:this.handleClick},f.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Non-Fullscreen\"))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName=\"FullscreenToggle\"},\"56F6\":function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.USER_ACTIVATE:return(0,n.default)({},e,{userActivity:t.activity});case o.PLAYER_ACTIVATE:return(0,n.default)({},e,{isActive:t.activity});case o.FULLSCREEN_CHANGE:return(0,n.default)({},e,{isFullscreen:!!t.isFullscreen});case i.SEEKING_TIME:return(0,n.default)({},e,{seekingTime:t.time});case i.END_SEEKING:return(0,n.default)({},e,{seekingTime:0});case i.LOAD_START:return(0,n.default)({},e,t.videoProps,{hasStarted:!1,ended:!1});case i.CAN_PLAY:return(0,n.default)({},e,t.videoProps,{waiting:!1});case i.WAITING:return(0,n.default)({},e,t.videoProps,{waiting:!0});case i.CAN_PLAY_THROUGH:case i.PLAYING:return(0,n.default)({},e,t.videoProps,{waiting:!1});case i.PLAY:return(0,n.default)({},e,t.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case i.PAUSE:return(0,n.default)({},e,t.videoProps,{paused:!0});case i.END:return(0,n.default)({},e,t.videoProps,{ended:!0});case i.SEEKING:return(0,n.default)({},e,t.videoProps,{seeking:!0});case i.SEEKED:return(0,n.default)({},e,t.videoProps,{seeking:!1});case i.ERROR:return(0,n.default)({},e,t.videoProps,{error:\"UNKNOWN ERROR\",ended:!0});case i.DURATION_CHANGE:case i.TIME_UPDATE:case i.VOLUME_CHANGE:case i.PROGRESS_CHANGE:case i.RATE_CHANGE:case i.SUSPEND:case i.ABORT:case i.EMPTIED:case i.STALLED:case i.LOADED_META_DATA:case i.LOADED_DATA:case i.RESIZE:return(0,n.default)({},e,t.videoProps);case i.ACTIVATE_TEXT_TRACK:return(0,n.default)({},e,{activeTextTrack:t.textTrack});default:return e}};var n=a(r(\"jTYr\")),i=r(\"INgg\"),o=r(\"we7k\"),s={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1,activeTextTrack:null}},\"5Udi\":function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r.apply(this,arguments)}e.exports=r},\"5hvy\":function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"MlIO\"),function(e){var t=a,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.x64.Word,s=t.algo,l=[],u=[],d=[];!function(){for(var e=1,t=0,r=0;r<24;r++){l[e+5*t]=(r+1)*(r+2)/2%64;var a=(2*e+3*t)%5;e=t%5,t=a}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var n=1,i=0;i<24;i++){for(var s=0,c=0,f=0;f<7;f++){if(1&n){var h=(1<<f)-1;h<32?c^=1<<h:s^=1<<h-32}128&n?n=n<<1^113:n<<=1}d[i]=o.create(s,c)}}();var c=[];!function(){for(var e=0;e<25;e++)c[e]=o.create()}();var f=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,a=this.blockSize/2,n=0;n<a;n++){var i=e[t+2*n],o=e[t+2*n+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(P=r[n]).high^=o,P.low^=i}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var h=0,p=0,v=0;v<5;v++)h^=(P=r[f+5*v]).high,p^=P.low;var g=c[f];g.high=h,g.low=p}for(f=0;f<5;f++){var y=c[(f+4)%5],m=c[(f+1)%5],b=m.high,E=m.low;for(h=y.high^(b<<1|E>>>31),p=y.low^(E<<1|b>>>31),v=0;v<5;v++)(P=r[f+5*v]).high^=h,P.low^=p}for(var _=1;_<25;_++){var S=(P=r[_]).high,T=P.low,k=l[_];k<32?(h=S<<k|T>>>32-k,p=T<<k|S>>>32-k):(h=T<<k-32|S>>>64-k,p=S<<k-32|T>>>64-k);var A=c[u[_]];A.high=h,A.low=p}var R=c[0],w=r[0];for(R.high=w.high,R.low=w.low,f=0;f<5;f++)for(v=0;v<5;v++){var P=r[_=f+5*v],D=c[_],C=c[(f+1)%5+5*v],O=c[(f+2)%5+5*v];P.high=D.high^~C.high&O.high,P.low=D.low^~C.low&O.low}P=r[0];var L=d[s];P.high^=L.high,P.low^=L.low}},_doFinalize:function(){var t=this._data,r=t.words,a=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;r[a>>>5]|=1<<24-a%32,r[(e.ceil((a+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,u=[],d=0;d<l;d++){var c=o[d],f=c.high,h=c.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u.push(h),u.push(f)}return new n.init(u,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),a.SHA3)},\"6IEp\":function(e,t,r){var a=r(\"iRmt\");e.exports=function(e,t){if(null==e)return{};var r,n,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}},\"8nKf\":function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h={actions:c.default.object,className:c.default.string,seconds:c.default.oneOf([5,10,30])},p={seconds:10};t.default=function(e){var t=function(t){function r(e,t){var a;return(0,i.default)(this,r),(a=(0,s.default)(this,(0,l.default)(r).call(this,e,t))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(r,t),(0,o.default)(r,[{key:\"handleClick\",value:function(){var t=this.props,r=t.actions,a=t.seconds;\"forward\"===e?r.forward(a):r.replay(a)}},{key:\"render\",value:function(){var t=this,r=this.props,a=r.seconds,n=r.className,i=[\"video-react-control\",\"video-react-button\",\"video-react-icon\"];return i.push(\"video-react-icon-\".concat(e,\"-\").concat(a),\"video-react-\".concat(e,\"-control\")),n&&i.push(n),f.default.createElement(\"button\",{ref:function(e){t.button=e},className:i.join(\" \"),type:\"button\",onClick:this.handleClick},f.default.createElement(\"span\",{className:\"video-react-control-text\"},\"\".concat(e,\" \").concat(a,\" seconds\")))}}]),r}(f.Component);return t.propTypes=h,t.defaultProps=p,t}},\"9OqN\":function(e,t,r){var a,n,i;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.mode.CTR=(n=a.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,a=r.blockSize,n=this._iv,i=this._counter;n&&(i=this._counter=n.slice(0),this._iv=void 0);var o=i.slice(0);r.encryptBlock(o,0),i[a-1]=i[a-1]+1|0;for(var s=0;s<a;s++)e[t+s]^=o[s]}}),n.Decryptor=i,n),a.mode.CTR)},ALsQ:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.mode.CFB=function(){var e=a.lib.BlockCipherMode.extend();function t(e,t,r,a){var n=this._iv;if(n){var i=n.slice(0);this._iv=void 0}else i=this._prevBlock;a.encryptBlock(i,0);for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var a=this._cipher,n=a.blockSize;t.call(this,e,r,n,a),this._prevBlock=e.slice(r,r+n)}}),e.Decryptor=e.extend({processBlock:function(e,r){var a=this._cipher,n=a.blockSize,i=e.slice(r,r+n);t.call(this,e,r,n,a),this._prevBlock=i}}),e}(),a.mode.CFB)},ANjH:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__DO_NOT_USE__ActionTypes\",function(){return i}),r.d(t,\"applyMiddleware\",function(){return v}),r.d(t,\"bindActionCreators\",function(){return c}),r.d(t,\"combineReducers\",function(){return u}),r.d(t,\"compose\",function(){return p}),r.d(t,\"createStore\",function(){return s});var a=r(\"bCCX\"),n=function(){return Math.random().toString(36).substring(7).split(\"\").join(\".\")},i={INIT:\"@@redux/INIT\"+n(),REPLACE:\"@@redux/REPLACE\"+n(),PROBE_UNKNOWN_ACTION:function(){return\"@@redux/PROBE_UNKNOWN_ACTION\"+n()}};function o(e){if(\"object\"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var n;if(\"function\"==typeof t&&\"function\"==typeof r||\"function\"==typeof r&&\"function\"==typeof arguments[3])throw new Error(\"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.\");if(\"function\"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if(\"function\"!=typeof r)throw new Error(\"Expected the enhancer to be a function.\");return r(s)(e,t)}if(\"function\"!=typeof e)throw new Error(\"Expected the reducer to be a function.\");var l=e,u=t,d=[],c=d,f=!1;function h(){c===d&&(c=d.slice())}function p(){if(f)throw new Error(\"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.\");return u}function v(e){if(\"function\"!=typeof e)throw new Error(\"Expected the listener to be a function.\");if(f)throw new Error(\"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.\");var t=!0;return h(),c.push(e),function(){if(t){if(f)throw new Error(\"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.\");t=!1,h();var r=c.indexOf(e);c.splice(r,1)}}}function g(e){if(!o(e))throw new Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(void 0===e.type)throw new Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(f)throw new Error(\"Reducers may not dispatch actions.\");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=d=c,r=0;r<t.length;r++){(0,t[r])()}return e}return g({type:i.INIT}),(n={dispatch:g,subscribe:v,getState:p,replaceReducer:function(e){if(\"function\"!=typeof e)throw new Error(\"Expected the nextReducer to be a function.\");l=e,g({type:i.REPLACE})}})[a.a]=function(){var e,t=v;return(e={subscribe:function(e){if(\"object\"!=typeof e||null===e)throw new TypeError(\"Expected the observer to be an object.\");function r(){e.next&&e.next(p())}return r(),{unsubscribe:t(r)}}})[a.a]=function(){return this},e},n}function l(e,t){var r=t&&t.type;return\"Given \"+(r&&'action \"'+String(r)+'\"'||\"an action\")+', reducer \"'+e+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),r={},a=0;a<t.length;a++){var n=t[a];0,\"function\"==typeof e[n]&&(r[n]=e[n])}var o,s=Object.keys(r);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:i.INIT}))throw new Error('Reducer \"'+t+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");if(void 0===r(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer \"'+t+\"\\\" returned undefined when probed with a random type. Don't try to handle \"+i.INIT+' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(u){o=u}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var a=!1,n={},i=0;i<s.length;i++){var u=s[i],d=r[u],c=e[u],f=d(c,t);if(void 0===f){var h=l(u,t);throw new Error(h)}n[u]=f,a=a||f!==c}return a?n:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function c(e,t){if(\"function\"==typeof e)return d(e,t);if(\"object\"!=typeof e||null===e)throw new Error(\"bindActionCreators expected an object or a function, instead received \"+(null===e?\"null\":typeof e)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');var r={};for(var a in e){var n=e[a];\"function\"==typeof n&&(r[a]=d(n,t))}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),a=function(){throw new Error(\"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.\")},n={getState:r.getState,dispatch:function(){return a.apply(void 0,arguments)}},i=t.map(function(e){return e(n)});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r,{dispatch:a=p.apply(void 0,i)(r.dispatch)})}}}},AZ0a:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"5Udi\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=n(r(\"u0Ef\")),u=n(r(\"amh1\")),d=n(r(\"Eb1A\")),c=n(r(\"rvd0\")),f=n(r(\"17x9\")),h=a(r(\"q1tI\")),p=n(r(\"TSYQ\")),v=n(r(\"QJtQ\")),g=n(r(\"Qrqe\")),y={player:f.default.object,actions:f.default.object,vertical:f.default.bool,className:f.default.string,alwaysShowVolume:f.default.bool},m=function(e){function t(e,r){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e,r))).state={active:!1},a.handleClick=a.handleClick.bind((0,d.default)(a)),a.handleFocus=a.handleFocus.bind((0,d.default)(a)),a.handleBlur=a.handleBlur.bind((0,d.default)(a)),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"handleClick\",value:function(){var e=this.props,t=e.player;e.actions.mute(!t.muted)}},{key:\"handleFocus\",value:function(){this.setState({active:!0})}},{key:\"handleBlur\",value:function(){this.setState({active:!1})}},{key:\"render\",value:function(){var e=this.props,t=e.vertical,r=e.player,a=e.className,n=!t,o=this.volumeLevel;return h.default.createElement(v.default,{className:(0,p.default)(a,{\"video-react-volume-menu-button-vertical\":t,\"video-react-volume-menu-button-horizontal\":!t,\"video-react-vol-muted\":r.muted,\"video-react-vol-0\":0===o&&!r.muted,\"video-react-vol-1\":1===o,\"video-react-vol-2\":2===o,\"video-react-vol-3\":3===o,\"video-react-slider-active\":this.props.alwaysShowVolume||this.state.active,\"video-react-lock-showing\":this.props.alwaysShowVolume||this.state.active},\"video-react-volume-menu-button\"),onClick:this.handleClick,inline:n},h.default.createElement(g.default,(0,i.default)({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:\"volumeLevel\",get:function(){var e=this.props.player,t=e.volume,r=e.muted,a=3;return 0===t||r?a=0:t<.33?a=1:t<.67&&(a=2),a}}]),t}(h.Component);m.propTypes=y,m.defaultProps={vertical:!1},m.displayName=\"VolumeMenuButton\";var b=m;t.default=b},CN1e:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},CXId:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}},DGqw:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p=n(r(\"U3K2\")),v={player:c.default.object,actions:c.default.object,rates:c.default.array,className:c.default.string},g=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleSelectItem=a.handleSelectItem.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleSelectItem\",value:function(e){var t=this.props,r=t.rates,a=t.actions;e>=0&&e<r.length&&a.changeRate(r[e])}},{key:\"render\",value:function(){var e=this.props,t=e.rates,r=e.player,a=t.map(function(e){return{label:\"\".concat(e,\"x\"),value:e}}),n=t.indexOf(r.playbackRate)||0;return f.default.createElement(p.default,{className:(0,h.default)(\"video-react-playback-rate\",this.props.className),onSelectItem:this.handleSelectItem,items:a,selectedIndex:n},f.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Playback Rate\"),f.default.createElement(\"div\",{className:\"video-react-playback-rate-value\"},\"\".concat(r.playbackRate.toFixed(2),\"x\")))}}]),t}(f.Component);g.propTypes=v,g.defaultProps={rates:[2,1.5,1.25,1,.5,.25]},g.displayName=\"PlaybackRateMenuButton\";var y=g;t.default=y},DPUQ:function(e,t,r){var a=r(\"QVHq\"),n=r(\"CXId\"),i=r(\"W5eO\");e.exports=function(e){return a(e)||n(e)||i()}},DeZD:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p={item:c.default.object,index:c.default.number,activateIndex:c.default.number,onSelectItem:c.default.func},v=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleClick\",value:function(){var e=this.props,t=e.index;(0,e.onSelectItem)(t)}},{key:\"render\",value:function(){var e=this.props,t=e.item,r=e.index,a=e.activateIndex;return f.default.createElement(\"li\",{className:(0,h.default)({\"video-react-menu-item\":!0,\"video-react-selected\":r===a}),role:\"menuitem\",onClick:this.handleClick},t.label,f.default.createElement(\"span\",{className:\"video-react-control-text\"}))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName=\"MenuItem\"},E4JC:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"ETIr\"),r(\"cv67\"),r(\"K3mO\"),r(\"OLod\"),function(){var e=a,t=e.lib.StreamCipher,r=e.algo,n=[],i=[],o=[],s=r.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var a=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)l.call(this);for(r=0;r<8;r++)n[r]^=a[r+4&7];if(t){var i=t.words,o=i[0],s=i[1],u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),d=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=u>>>16|4294901760&d,f=d<<16|65535&u;for(n[0]^=u,n[1]^=c,n[2]^=d,n[3]^=f,n[4]^=u,n[5]^=c,n[6]^=d,n[7]^=f,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var a=0;a<4;a++)n[a]=16711935&(n[a]<<8|n[a]>>>24)|4278255360&(n[a]<<24|n[a]>>>8),e[t+a]^=n[a]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var a=e[r]+t[r],n=65535&a,s=a>>>16,l=((n*n>>>17)+n*s>>>15)+s*s,u=((4294901760&a)*a|0)+((65535&a)*a|0);o[r]=l^u}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.Rabbit=t._createHelper(s)}(),a.Rabbit)},ELcG:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),\n/** @preserve\n\t(c) 2012 by Cédric Mesnil. All rights reserved.\n\n\tRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n\t    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\t    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t*/\nfunction(e){var t=a,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,s=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=n.create([0,1518500249,1859775393,2400959708,2840853838]),f=n.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=i.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var a=t+r,n=e[a];e[a]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var i,o,h,E,_,S,T,k,A,R,w,P=this._hash.words,D=c.words,C=f.words,O=s.words,L=l.words,I=u.words,x=d.words;for(S=i=P[0],T=o=P[1],k=h=P[2],A=E=P[3],R=_=P[4],r=0;r<80;r+=1)w=i+e[t+O[r]]|0,w+=r<16?p(o,h,E)+D[0]:r<32?v(o,h,E)+D[1]:r<48?g(o,h,E)+D[2]:r<64?y(o,h,E)+D[3]:m(o,h,E)+D[4],w=(w=b(w|=0,I[r]))+_|0,i=_,_=E,E=b(h,10),h=o,o=w,w=S+e[t+L[r]]|0,w+=r<16?m(T,k,A)+C[0]:r<32?y(T,k,A)+C[1]:r<48?g(T,k,A)+C[2]:r<64?v(T,k,A)+C[3]:p(T,k,A)+C[4],w=(w=b(w|=0,x[r]))+R|0,S=R,R=A,A=b(k,10),k=T,T=w;w=P[1]+h+A|0,P[1]=P[2]+E+R|0,P[2]=P[3]+_+S|0,P[3]=P[4]+i+T|0,P[4]=P[0]+o+k|0,P[0]=w},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,a=8*e.sigBytes;t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var n=this._hash,i=n.words,o=0;o<5;o++){var s=i[o];i[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return n},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function g(e,t,r){return(e|~t)^r}function y(e,t,r){return e&r|t&~r}function m(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(h),t.HmacRIPEMD160=i._createHmacHelper(h)}(Math),a.RIPEMD160)},ETIr:function(e,t,r){var a,n,i;e.exports=(a=r(\"Ib8C\"),i=(n=a).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,a=this._map;e.clamp();for(var n=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)n.push(a.charAt(o>>>6*(3-s)&63));var l=a.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join(\"\")},parse:function(e){var t=e.length,r=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var n=0;n<r.length;n++)a[r.charCodeAt(n)]=n}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var a=[],n=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,l=r[e.charCodeAt(o)]>>>6-o%4*2;a[n>>>2]|=(s|l)<<24-n%4*8,n++}return i.create(a,n)}(e,t,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"},a.enc.Base64)},EVUy:function(e,t,r){\"use strict\";function a(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=document,a=r.body,n=r.documentElement,i=n.clientLeft||a.clientLeft||0,o=window.pageXOffset||a.scrollLeft,s=t.left+o-i,l=n.clientTop||a.clientTop||0,u=window.pageYOffset||a.scrollTop,d=t.top+u-l;return{left:Math.round(s),top:Math.round(d)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.findElPosition=a,t.getPointerPosition=function(e,t){var r={},n=a(e),i=e.offsetWidth,o=e.offsetHeight,s=n.top,l=n.left,u=t.pageY,d=t.pageX;t.changedTouches&&(d=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY);return r.y=Math.max(0,Math.min(1,(s-u+o)/o)),r.x=Math.max(0,Math.min(1,(d-l)/i)),r},t.blurNode=function(e){e&&e.blur&&e.blur()},t.focusNode=function(e){e&&e.focus&&e.focus()},t.hasClass=function(e,t){for(var r=e.className.split(\" \"),a=0;a<r.length;a++)if(r[a].toLowerCase()===t.toLowerCase())return!0;return!1}},Eb1A:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},Edwz:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"jTYr\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=n(r(\"u0Ef\")),u=n(r(\"amh1\")),d=n(r(\"Eb1A\")),c=n(r(\"rvd0\")),f=n(r(\"17x9\")),h=a(r(\"q1tI\")),p=n(r(\"TSYQ\")),v=r(\"tJTW\"),g={actions:f.default.object,player:f.default.object,children:f.default.any,startTime:f.default.number,loop:f.default.bool,muted:f.default.bool,autoPlay:f.default.bool,playsInline:f.default.bool,src:f.default.string,poster:f.default.string,className:f.default.string,preload:f.default.oneOf([\"auto\",\"metadata\",\"none\"]),crossOrigin:f.default.string,onLoadStart:f.default.func,onWaiting:f.default.func,onCanPlay:f.default.func,onCanPlayThrough:f.default.func,onPlaying:f.default.func,onEnded:f.default.func,onSeeking:f.default.func,onSeeked:f.default.func,onPlay:f.default.func,onPause:f.default.func,onProgress:f.default.func,onDurationChange:f.default.func,onError:f.default.func,onSuspend:f.default.func,onAbort:f.default.func,onEmptied:f.default.func,onStalled:f.default.func,onLoadedMetadata:f.default.func,onLoadedData:f.default.func,onTimeUpdate:f.default.func,onRateChange:f.default.func,onVolumeChange:f.default.func,onResize:f.default.func},y=function(e){function t(e){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e))).video=null,r.play=r.play.bind((0,d.default)(r)),r.pause=r.pause.bind((0,d.default)(r)),r.seek=r.seek.bind((0,d.default)(r)),r.forward=r.forward.bind((0,d.default)(r)),r.replay=r.replay.bind((0,d.default)(r)),r.toggleFullscreen=r.toggleFullscreen.bind((0,d.default)(r)),r.getProperties=r.getProperties.bind((0,d.default)(r)),r.renderChildren=r.renderChildren.bind((0,d.default)(r)),r.handleLoadStart=r.handleLoadStart.bind((0,d.default)(r)),r.handleCanPlay=r.handleCanPlay.bind((0,d.default)(r)),r.handleCanPlayThrough=r.handleCanPlayThrough.bind((0,d.default)(r)),r.handlePlay=r.handlePlay.bind((0,d.default)(r)),r.handlePlaying=r.handlePlaying.bind((0,d.default)(r)),r.handlePause=r.handlePause.bind((0,d.default)(r)),r.handleEnded=r.handleEnded.bind((0,d.default)(r)),r.handleWaiting=r.handleWaiting.bind((0,d.default)(r)),r.handleSeeking=r.handleSeeking.bind((0,d.default)(r)),r.handleSeeked=r.handleSeeked.bind((0,d.default)(r)),r.handleFullscreenChange=r.handleFullscreenChange.bind((0,d.default)(r)),r.handleError=r.handleError.bind((0,d.default)(r)),r.handleSuspend=r.handleSuspend.bind((0,d.default)(r)),r.handleAbort=r.handleAbort.bind((0,d.default)(r)),r.handleEmptied=r.handleEmptied.bind((0,d.default)(r)),r.handleStalled=r.handleStalled.bind((0,d.default)(r)),r.handleLoadedMetaData=r.handleLoadedMetaData.bind((0,d.default)(r)),r.handleLoadedData=r.handleLoadedData.bind((0,d.default)(r)),r.handleTimeUpdate=r.handleTimeUpdate.bind((0,d.default)(r)),r.handleRateChange=r.handleRateChange.bind((0,d.default)(r)),r.handleVolumeChange=r.handleVolumeChange.bind((0,d.default)(r)),r.handleDurationChange=r.handleDurationChange.bind((0,d.default)(r)),r.handleProgress=(0,v.throttle)(r.handleProgress.bind((0,d.default)(r)),250),r.handleKeypress=r.handleKeypress.bind((0,d.default)(r)),r.handleTextTrackChange=r.handleTextTrackChange.bind((0,d.default)(r)),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"componentDidMount\",value:function(){this.forceUpdate(),this.video&&this.video.textTracks&&(this.video.textTracks.onaddtrack=this.handleTextTrackChange,this.video.textTracks.onremovetrack=this.handleTextTrackChange)}},{key:\"getProperties\",value:function(){var e=this;return this.video?v.mediaProperties.reduce(function(t,r){return t[r]=e.video[r],t},{}):null}},{key:\"handleTextTrackChange\",value:function(){var e=this.props,t=e.actions,r=e.player;if(this.video&&this.video.textTracks){var a=Array.from(this.video.textTracks).find(function(e){return\"showing\"===e.mode});a!==r.activeTextTrack&&t.activateTextTrack(a)}}},{key:\"play\",value:function(){var e=this.video.play();void 0!==e&&e.catch(function(){}).then(function(){})}},{key:\"pause\",value:function(){var e=this.video.pause();void 0!==e&&e.catch(function(){}).then(function(){})}},{key:\"load\",value:function(){this.video.load()}},{key:\"addTextTrack\",value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:\"canPlayType\",value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:\"togglePlay\",value:function(){this.video.paused?this.play():this.pause()}},{key:\"seek\",value:function(e){try{this.video.currentTime=e}catch(t){}}},{key:\"forward\",value:function(e){this.seek(this.video.currentTime+e)}},{key:\"replay\",value:function(e){this.forward(-e)}},{key:\"toggleFullscreen\",value:function(){var e=this.props,t=e.player;e.actions.toggleFullscreen(t)}},{key:\"handleLoadStart\",value:function(){var e=this.props,t=e.actions,r=e.onLoadStart;t.handleLoadStart(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleCanPlay\",value:function(){var e=this.props,t=e.actions,r=e.onCanPlay;t.handleCanPlay(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleCanPlayThrough\",value:function(){var e=this.props,t=e.actions,r=e.onCanPlayThrough;t.handleCanPlayThrough(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handlePlaying\",value:function(){var e=this.props,t=e.actions,r=e.onPlaying;t.handlePlaying(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handlePlay\",value:function(){var e=this.props,t=e.actions,r=e.onPlay;t.handlePlay(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handlePause\",value:function(){var e=this.props,t=e.actions,r=e.onPause;t.handlePause(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleDurationChange\",value:function(){var e=this.props,t=e.actions,r=e.onDurationChange;t.handleDurationChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleProgress\",value:function(){var e=this.props,t=e.actions,r=e.onProgress;this.video&&t.handleProgressChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleEnded\",value:function(){var e=this.props,t=e.loop,r=e.player,a=e.actions,n=e.onEnded;t?(this.seek(0),this.play()):r.paused||this.pause(),a.handleEnd(this.getProperties()),n&&n.apply(void 0,arguments)}},{key:\"handleWaiting\",value:function(){var e=this.props,t=e.actions,r=e.onWaiting;t.handleWaiting(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleSeeking\",value:function(){var e=this.props,t=e.actions,r=e.onSeeking;t.handleSeeking(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleSeeked\",value:function(){var e=this.props,t=e.actions,r=e.onSeeked;t.handleSeeked(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleFullscreenChange\",value:function(){}},{key:\"handleSuspend\",value:function(){var e=this.props,t=e.actions,r=e.onSuspend;t.handleSuspend(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleAbort\",value:function(){var e=this.props,t=e.actions,r=e.onAbort;t.handleAbort(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleEmptied\",value:function(){var e=this.props,t=e.actions,r=e.onEmptied;t.handleEmptied(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleStalled\",value:function(){var e=this.props,t=e.actions,r=e.onStalled;t.handleStalled(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleLoadedMetaData\",value:function(){var e=this.props,t=e.actions,r=e.onLoadedMetadata,a=e.startTime;a&&a>0&&(this.video.currentTime=a),t.handleLoadedMetaData(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleLoadedData\",value:function(){var e=this.props,t=e.actions,r=e.onLoadedData;t.handleLoadedData(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleTimeUpdate\",value:function(){var e=this.props,t=e.actions,r=e.onTimeUpdate;t.handleTimeUpdate(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleRateChange\",value:function(){var e=this.props,t=e.actions,r=e.onRateChange;t.handleRateChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleVolumeChange\",value:function(){var e=this.props,t=e.actions,r=e.onVolumeChange;t.handleVolumeChange(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleError\",value:function(){var e=this.props,t=e.actions,r=e.onError;t.handleError(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleResize\",value:function(){var e=this.props,t=e.actions,r=e.onResize;t.handleResize(this.getProperties()),r&&r.apply(void 0,arguments)}},{key:\"handleKeypress\",value:function(){}},{key:\"renderChildren\",value:function(){var e=this,t=(0,i.default)({},this.props,{video:this.video});return this.video?h.default.Children.toArray(this.props.children).filter(v.isVideoChild).map(function(r){var a;if(\"string\"==typeof r.type){if(\"source\"===r.type){var n=(a=(0,i.default)({},r.props)).onError;a.onError=function(){n&&n.apply(void 0,arguments),e.handleError.apply(e,arguments)}}}else a=t;return h.default.cloneElement(r,a)}):null}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.loop,a=t.poster,n=t.preload,i=t.src,o=t.autoPlay,s=t.playsInline,l=t.muted,u=t.crossOrigin,d=t.videoId;return h.default.createElement(\"video\",{className:(0,p.default)(\"video-react-video\",this.props.className),id:d,crossOrigin:u,ref:function(t){e.video=t},muted:l,preload:n,loop:r,playsInline:s,autoPlay:o,poster:a,src:i,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange,tabIndex:\"-1\"},this.renderChildren())}},{key:\"playbackRate\",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:\"muted\",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:\"volume\",get:function(){return this.video.volume},set:function(e){e>1&&(e=1),e<0&&(e=0),this.video.volume=e}},{key:\"videoWidth\",get:function(){return this.video.videoWidth}},{key:\"videoHeight\",get:function(){return this.video.videoHeight}}]),t}(h.Component);t.default=y,y.propTypes=g,y.displayName=\"Video\"},\"F+F2\":function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),function(){if(\"function\"==typeof ArrayBuffer){var e=a.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||\"undefined\"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,a=[],n=0;n<r;n++)a[n>>>2]|=e[n]<<24-n%4*8;t.call(this,a,r)}else t.apply(this,arguments)}).prototype=e}}(),a.lib.WordArray)},FcgA:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"6IEp\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=n(r(\"u0Ef\")),u=n(r(\"amh1\")),d=n(r(\"Eb1A\")),c=n(r(\"rvd0\")),f=n(r(\"17x9\")),h=a(r(\"q1tI\")),p=n(r(\"TSYQ\")),v=n(r(\"zHIc\")),g=n(r(\"0yDM\")),y=n(r(\"4b3c\")),m=n(r(\"UXv2\")),b=n(r(\"54lq\")),E=n(r(\"Na29\")),_=n(r(\"HI9P\")),S=n(r(\"GdU9\")),T=n(r(\"ruMa\")),k=n(r(\"AZ0a\")),A=n(r(\"DGqw\")),R=r(\"tJTW\"),w={children:f.default.any,autoHide:f.default.bool,autoHideTime:f.default.number,disableDefaultControls:f.default.bool,disableCompletely:f.default.bool,className:f.default.string},P=function(e){function t(e){var r;return(0,o.default)(this,t),(r=(0,l.default)(this,(0,u.default)(t).call(this,e))).getDefaultChildren=r.getDefaultChildren.bind((0,d.default)(r)),r.getFullChildren=r.getFullChildren.bind((0,d.default)(r)),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"getDefaultChildren\",value:function(){return[h.default.createElement(g.default,{key:\"play-toggle\",order:1}),h.default.createElement(k.default,{key:\"volume-menu-button\",order:4}),h.default.createElement(_.default,{key:\"current-time-display\",order:5.1}),h.default.createElement(T.default,{key:\"time-divider\",order:5.2}),h.default.createElement(S.default,{key:\"duration-display\",order:5.3}),h.default.createElement(v.default,{key:\"progress-control\",order:6}),h.default.createElement(b.default,{key:\"fullscreen-toggle\",order:8})]}},{key:\"getFullChildren\",value:function(){return[h.default.createElement(g.default,{key:\"play-toggle\",order:1}),h.default.createElement(m.default,{key:\"replay-control\",order:2}),h.default.createElement(y.default,{key:\"forward-control\",order:3}),h.default.createElement(k.default,{key:\"volume-menu-button\",order:4}),h.default.createElement(_.default,{key:\"current-time-display\",order:5}),h.default.createElement(T.default,{key:\"time-divider\",order:6}),h.default.createElement(S.default,{key:\"duration-display\",order:7}),h.default.createElement(v.default,{key:\"progress-control\",order:8}),h.default.createElement(E.default,{key:\"remaining-time-display\",order:9}),h.default.createElement(A.default,{rates:[1,1.25,1.5,2],key:\"playback-rate\",order:10}),h.default.createElement(b.default,{key:\"fullscreen-toggle\",order:11})]}},{key:\"getChildren\",value:function(){var e=h.default.Children.toArray(this.props.children),t=this.props.disableDefaultControls?[]:this.getDefaultChildren(),r=this.props,a=(r.className,(0,i.default)(r,[\"className\"]));return(0,R.mergeAndSortChildren)(t,e,a)}},{key:\"render\",value:function(){var e=this.props,t=e.autoHide,r=e.className,a=e.disableCompletely,n=this.getChildren();return a?null:h.default.createElement(\"div\",{className:(0,p.default)(\"video-react-control-bar\",{\"video-react-control-bar-auto-hide\":t},r)},n)}}]),t}(h.Component);t.default=P,P.propTypes=w,P.defaultProps={autoHide:!0,disableCompletely:!1},P.displayName=\"ControlBar\"},GRuw:function(e,t,r){var a,n,i,o,s,l;e.exports=(a=r(\"Ib8C\"),r(\"lPiR\"),i=(n=a).lib.WordArray,o=n.algo,s=o.SHA256,l=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=s._createHelper(l),n.HmacSHA224=s._createHmacHelper(l),a.SHA224)},GdU9:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s=r(\"tJTW\"),l={player:n.default.object,className:n.default.string};function u(e){var t=e.player.duration,r=e.className,a=(0,s.formatTime)(t);return i.default.createElement(\"div\",{className:(0,o.default)(r,\"video-react-duration video-react-time-control video-react-control\")},i.default.createElement(\"div\",{className:\"video-react-duration-display\",\"aria-live\":\"off\"},i.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Duration Time \"),a))}u.propTypes=l,u.displayName=\"DurationDisplay\";var d=u;t.default=d},GuGs:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s=r(\"tJTW\");function l(e){var t=e.duration,r=e.mouseTime,a=e.className,n=e.text;if(!r.time)return null;var l=n||(0,s.formatTime)(r.time,t);return i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-mouse-display\",a),style:{left:\"\".concat(r.position,\"px\")},\"data-current-time\":l})}l.propTypes={duration:n.default.number,mouseTime:n.default.object,className:n.default.string},l.displayName=\"MouseTimeDisplay\";var u=l;t.default=u},HI9P:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s=r(\"tJTW\"),l={player:n.default.object,className:n.default.string};function u(e){var t=e.player,r=t.currentTime,a=t.duration,n=e.className,l=(0,s.formatTime)(r,a);return i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-current-time video-react-time-control video-react-control\",n)},i.default.createElement(\"div\",{className:\"video-react-current-time-display\",\"aria-live\":\"off\"},i.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Current Time \"),l))}u.propTypes=l,u.displayName=\"CurrentTimeDisplay\";var d=u;t.default=d},INgg:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.handleLoadStart=function(e){return{type:a,videoProps:e}},t.handleCanPlay=function(e){return{type:n,videoProps:e}},t.handleWaiting=function(e){return{type:i,videoProps:e}},t.handleCanPlayThrough=function(e){return{type:o,videoProps:e}},t.handlePlaying=function(e){return{type:s,videoProps:e}},t.handlePlay=function(e){return{type:l,videoProps:e}},t.handlePause=function(e){return{type:u,videoProps:e}},t.handleEnd=function(e){return{type:d,videoProps:e}},t.handleSeeking=function(e){return{type:c,videoProps:e}},t.handleSeeked=function(e){return{type:f,videoProps:e}},t.handleDurationChange=function(e){return{type:v,videoProps:e}},t.handleTimeUpdate=function(e){return{type:g,videoProps:e}},t.handleVolumeChange=function(e){return{type:y,videoProps:e}},t.handleProgressChange=function(e){return{type:m,videoProps:e}},t.handleRateChange=function(e){return{type:b,videoProps:e}},t.handleSuspend=function(e){return{type:E,videoProps:e}},t.handleAbort=function(e){return{type:_,videoProps:e}},t.handleEmptied=function(e){return{type:S,videoProps:e}},t.handleStalled=function(e){return{type:T,videoProps:e}},t.handleLoadedMetaData=function(e){return{type:k,videoProps:e}},t.handleLoadedData=function(e){return{type:A,videoProps:e}},t.handleResize=function(e){return{type:R,videoProps:e}},t.handleError=function(e){return{type:w,videoProps:e}},t.handleSeekingTime=function(e){return{type:h,time:e}},t.handleEndSeeking=function(e){return{type:p,time:e}},t.activateTextTrack=function(e){return{type:P,textTrack:e}},t.ACTIVATE_TEXT_TRACK=t.ERROR=t.RESIZE=t.LOADED_DATA=t.LOADED_META_DATA=t.STALLED=t.EMPTIED=t.ABORT=t.SUSPEND=t.RATE_CHANGE=t.PROGRESS_CHANGE=t.VOLUME_CHANGE=t.TIME_UPDATE=t.DURATION_CHANGE=t.END_SEEKING=t.SEEKING_TIME=t.SEEKED=t.SEEKING=t.END=t.PAUSE=t.PLAY=t.PLAYING=t.CAN_PLAY_THROUGH=t.WAITING=t.CAN_PLAY=t.LOAD_START=void 0;var a=\"video-react/LOAD_START\";t.LOAD_START=a;var n=\"video-react/CAN_PLAY\";t.CAN_PLAY=n;var i=\"video-react/WAITING\";t.WAITING=i;var o=\"video-react/CAN_PLAY_THROUGH\";t.CAN_PLAY_THROUGH=o;var s=\"video-react/PLAYING\";t.PLAYING=s;var l=\"video-react/PLAY\";t.PLAY=l;var u=\"video-react/PAUSE\";t.PAUSE=u;var d=\"video-react/END\";t.END=d;var c=\"video-react/SEEKING\";t.SEEKING=c;var f=\"video-react/SEEKED\";t.SEEKED=f;var h=\"video-react/SEEKING_TIME\";t.SEEKING_TIME=h;var p=\"video-react/END_SEEKING\";t.END_SEEKING=p;var v=\"video-react/DURATION_CHANGE\";t.DURATION_CHANGE=v;var g=\"video-react/TIME_UPDATE\";t.TIME_UPDATE=g;var y=\"video-react/VOLUME_CHANGE\";t.VOLUME_CHANGE=y;var m=\"video-react/PROGRESS_CHANGE\";t.PROGRESS_CHANGE=m;var b=\"video-react/RATE_CHANGE\";t.RATE_CHANGE=b;var E=\"video-react/SUSPEND\";t.SUSPEND=E;var _=\"video-react/ABORT\";t.ABORT=_;var S=\"video-react/EMPTIED\";t.EMPTIED=S;var T=\"video-react/STALLED\";t.STALLED=T;var k=\"video-react/LOADED_META_DATA\";t.LOADED_META_DATA=k;var A=\"video-react/LOADED_DATA\";t.LOADED_DATA=A;var R=\"video-react/RESIZE\";t.RESIZE=R;var w=\"video-react/ERROR\";t.ERROR=w;var P=\"video-react/ACTIVATE_TEXT_TRACK\";t.ACTIVATE_TEXT_TRACK=P},Ib8C:function(e,t,r){var a;e.exports=(a=a||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},n=a.lib={},i=n.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty(\"init\")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty(\"toString\")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,a=this.sigBytes,n=e.sigBytes;if(this.clamp(),a%4)for(var i=0;i<n;i++){var o=r[i>>>2]>>>24-i%4*8&255;t[a+i>>>2]|=o<<24-(a+i)%4*8}else for(var i=0;i<n;i+=4)t[a+i>>>2]=r[i>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,a=[],n=function(t){var t=t,r=987654321,a=4294967295;return function(){var n=((r=36969*(65535&r)+(r>>16)&a)<<16)+(t=18e3*(65535&t)+(t>>16)&a)&a;return n/=4294967296,(n+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var s=n(4294967296*(r||e.random()));r=987654071*s(),a.push(4294967296*s()|0)}return new o.init(a,t)}}),s=a.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,a=[],n=0;n<r;n++){var i=t[n>>>2]>>>24-n%4*8&255;a.push((i>>>4).toString(16)),a.push((15&i).toString(16))}return a.join(\"\")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new o.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,a=[],n=0;n<r;n++){var i=t[n>>>2]>>>24-n%4*8&255;a.push(String.fromCharCode(i))}return a.join(\"\")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a++)r[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new o.init(r,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw new Error(\"Malformed UTF-8 data\")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},c=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){\"string\"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,a=r.words,n=r.sigBytes,i=this.blockSize,s=4*i,l=n/s,u=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*i,d=e.min(4*u,n);if(u){for(var c=0;c<u;c+=i)this._doProcessBlock(a,c);var f=a.splice(0,u);r.sigBytes-=d}return new o.init(f,d)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(n.Hasher=c.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),a)},K3mO:function(e,t,r){var a,n,i,o,s,l,u,d;e.exports=(a=r(\"Ib8C\"),r(\"3y9D\"),r(\"WYAk\"),i=(n=a).lib,o=i.Base,s=i.WordArray,l=n.algo,u=l.MD5,d=l.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,a=r.hasher.create(),n=s.create(),i=n.words,o=r.keySize,l=r.iterations;i.length<o;){u&&a.update(u);var u=a.update(e).finalize(t);a.reset();for(var d=1;d<l;d++)u=a.finalize(u),a.reset();n.concat(u)}return n.sigBytes=4*o,n}}),n.EvpKDF=function(e,t,r){return d.create(r).compute(e,t)},a.EvpKDF)},KmYQ:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1;!(t[r>>>2]>>>24-r%4*8&255);)r--;e.sigBytes=r+1}},a.pad.ZeroPadding)},LgmY:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"CN1e\")),i=a(r(\"DPUQ\")),o=a(r(\"U0Iy\")),s=a(r(\"dQE1\")),l=a(r(\"u0Ef\")),u=a(r(\"amh1\")),d=a(r(\"Eb1A\")),c=a(r(\"rvd0\")),f=r(\"q1tI\"),h=a(r(\"17x9\")),p=r(\"EVUy\"),v={clickable:h.default.bool,dblclickable:h.default.bool,manager:h.default.object,actions:h.default.object,player:h.default.object,shortcuts:h.default.array},g=function(e){function t(e,r){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e,r))).defaultShortcuts=[{keyCode:32,handle:a.togglePlay},{keyCode:75,handle:a.togglePlay},{keyCode:70,handle:a.toggleFullscreen},{keyCode:37,handle:function(e,t){e.hasStarted&&t.replay(5,{action:\"replay-5\",source:\"shortcut\"})}},{keyCode:74,handle:function(e,t){e.hasStarted&&t.replay(10,{action:\"replay-10\",source:\"shortcut\"})}},{keyCode:39,handle:function(e,t){e.hasStarted&&t.forward(5,{action:\"forward-5\",source:\"shortcut\"})}},{keyCode:76,handle:function(e,t){e.hasStarted&&t.forward(10,{action:\"forward-10\",source:\"shortcut\"})}},{keyCode:36,handle:function(e,t){e.hasStarted&&t.seek(0)}},{keyCode:35,handle:function(e,t){e.hasStarted&&t.seek(e.duration)}},{keyCode:38,handle:function(e,t){var r=e.volume+.05;r>1&&(r=1),t.changeVolume(r,{action:\"volume-up\",source:\"shortcut\"})}},{keyCode:40,handle:function(e,t){var r=e.volume-.05;r<0&&(r=0);var a=r>0?\"volume-down\":\"volume-off\";t.changeVolume(r,{action:a,source:\"shortcut\"})}},{keyCode:190,shift:!0,handle:function(e,t){var r=e.playbackRate;r>=1.5?r=2:r>=1.25?r=1.5:r>=1?r=1.25:r>=.5?r=1:r>=.25?r=.5:r>=0&&(r=.25),t.changeRate(r,{action:\"fast-forward\",source:\"shortcut\"})}},{keyCode:188,shift:!0,handle:function(e,t){var r=e.playbackRate;r<=.5?r=.25:r<=1?r=.5:r<=1.25?r=1:r<=1.5?r=1.25:r<=2&&(r=1.5),t.changeRate(r,{action:\"fast-rewind\",source:\"shortcut\"})}}],a.shortcuts=(0,i.default)(a.defaultShortcuts),a.mergeShortcuts=a.mergeShortcuts.bind((0,d.default)(a)),a.handleKeyPress=a.handleKeyPress.bind((0,d.default)(a)),a.handleClick=a.handleClick.bind((0,d.default)(a)),a.handleDoubleClick=a.handleDoubleClick.bind((0,d.default)(a)),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"componentDidMount\",value:function(){this.mergeShortcuts(),document.addEventListener(\"keydown\",this.handleKeyPress),document.addEventListener(\"click\",this.handleClick),document.addEventListener(\"dblclick\",this.handleDoubleClick)}},{key:\"componentDidUpdate\",value:function(e){e.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.handleKeyPress),document.removeEventListener(\"click\",this.handleClick),document.removeEventListener(\"dblclick\",this.handleDoubleClick)}},{key:\"mergeShortcuts\",value:function(){var e=function(e){var t=e.keyCode,r=void 0===t?0:t,a=e.ctrl,n=void 0!==a&&a,i=e.shift,o=void 0!==i&&i,s=e.alt,l=void 0!==s&&s;return\"\".concat(r,\":\").concat(n,\":\").concat(o,\":\").concat(l)},t=this.defaultShortcuts.reduce(function(t,r){return Object.assign(t,(0,n.default)({},e(r),r))},{}),r=(this.props.shortcuts||[]).reduce(function(t,r){var a=r.keyCode,i=r.handle;return a&&\"function\"==typeof i?Object.assign(t,(0,n.default)({},e(r),r)):t},t),a=function(e){var t=0;return[\"ctrl\",\"shift\",\"alt\"].forEach(function(r){e[r]&&t++}),t};this.shortcuts=Object.keys(r).map(function(e){return r[e]}).sort(function(e,t){return a(t)-a(e)})}},{key:\"togglePlay\",value:function(e,t){e.paused?t.play({action:\"play\",source:\"shortcut\"}):t.pause({action:\"pause\",source:\"shortcut\"})}},{key:\"toggleFullscreen\",value:function(e,t){t.toggleFullscreen(e)}},{key:\"handleKeyPress\",value:function(e){var t=this.props,r=t.player,a=t.actions;if(r.isActive&&(!document.activeElement||!((0,p.hasClass)(document.activeElement,\"video-react-control\")||(0,p.hasClass)(document.activeElement,\"video-react-menu-button-active\")||(0,p.hasClass)(document.activeElement,\"video-react-big-play-button\")))){var n=e.keyCode||e.which,i=e.ctrlKey||e.metaKey,o=e.shiftKey,s=e.altKey,l=this.shortcuts.filter(function(e){return!(!e.keyCode||e.keyCode-n!=0)&&!(void 0!==e.ctrl&&e.ctrl!==i||void 0!==e.shift&&e.shift!==o||void 0!==e.alt&&e.alt!==s)})[0];l&&(l.handle(r,a),e.preventDefault())}}},{key:\"canBeClicked\",value:function(e,t){return!(!e.isActive||\"VIDEO\"!==t.target.nodeName||4!==e.readyState)}},{key:\"handleClick\",value:function(e){var t=this.props,r=t.player,a=t.actions,n=t.clickable;this.canBeClicked(r,e)&&n&&this.togglePlay(r,a)}},{key:\"handleDoubleClick\",value:function(e){var t=this.props,r=t.player,a=t.actions,n=t.dblclickable;this.canBeClicked(r,e)&&n&&this.toggleFullscreen(r,a)}},{key:\"render\",value:function(){return null}}]),t}(f.Component);t.default=g,g.propTypes=v,g.defaultProps={clickable:!0,dblclickable:!0},g.displayName=\"Shortcut\"},MlIO:function(e,t,r){var a,n,i,o,s,l;e.exports=(a=r(\"Ib8C\"),i=(n=a).lib,o=i.Base,s=i.WordArray,(l=n.x64={}).Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),l.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],a=0;a<t;a++){var n=e[a];r.push(n.high),r.push(n.low)}return s.create(r,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),r=t.length,a=0;a<r;a++)t[a]=t[a].clone();return e}}),a)},N6Op:function(e,t,r){\"use strict\";r.r(t);var a=r(\"0iUn\"),n=r(\"sLSF\"),i=r(\"MI3g\"),o=r(\"a7VT\"),s=r(\"AT/M\"),l=r(\"Tit0\"),u=r(\"vYYK\"),d=r(\"m/Pd\"),c=r.n(d),f=r(\"nOHt\"),h=r.n(f),p=r(\"q1tI\"),v=r.n(p),g=r(\"vOnD\"),y=r(\"udzn\"),m=r(\"ulZh\"),b=r.n(m),E=function(e){function t(e,r){var n;return Object(a.default)(this,t),(n=Object(i.default)(this,Object(o.default)(t).call(this,e,r))).hls=new b.a,n}return Object(l.default)(t,e),Object(n.default)(t,[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.src,r=e.video;b.a.isSupported()&&(this.hls.loadSource(t),this.hls.attachMedia(r))}},{key:\"componentWillUnmount\",value:function(){this.hls&&this.hls.destroy()}},{key:\"render\",value:function(){return v.a.createElement(\"source\",{src:this.props.src,type:this.props.type||\"application/x-mpegURL\"})}}]),t}(p.Component),_=r(\"NFKh\"),S=function(e){function t(e){var r;return Object(a.default)(this,t),r=Object(i.default)(this,Object(o.default)(t).call(this,e)),Object(u.a)(Object(s.default)(r),\"componentDidMount\",function(){var e=h.a.query.id,t=_.AES.decrypt(decodeURIComponent(e),\"zw-secret\").toString(_.enc.Utf8);t&&r.setState({url:\"https://\"+t})}),Object(u.a)(Object(s.default)(r),\"onRightClickPlayer\",function(e){e.preventDefault()}),r.state={url:\"\"},r}return Object(l.default)(t,e),Object(n.default)(t,[{key:\"render\",value:function(){var e=this.state.url;return e?v.a.createElement(T,{onContextMenu:this.onRightClickPlayer},v.a.createElement(c.a,null,v.a.createElement(\"link\",{rel:\"stylesheet\",href:\"/static/css/video-react.css\"}),v.a.createElement(\"link\",{rel:\"stylesheet\",href:\"/static/css/normalize.css\"})),v.a.createElement(y.Player,{fluid:!1,height:\"100%\",autoPlay:!1},v.a.createElement(E,{isVideoChild:!0,src:e}),v.a.createElement(y.BigPlayButton,{position:\"center\"}),v.a.createElement(y.LoadingSpinner,null))):null}}]),t}(v.a.Component),T=g.c.div.withConfig({displayName:\"videoPlayer__MainWrapper\",componentId:\"xkogrl-0\"})([\"position:relative;display:block;width:100%;height:100vh;min-height:640px;\"]);r.d(t,\"default\",function(){return S})},NFKh:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"MlIO\"),r(\"F+F2\"),r(\"qM6L\"),r(\"ETIr\"),r(\"cv67\"),r(\"3y9D\"),r(\"lPiR\"),r(\"GRuw\"),r(\"1uat\"),r(\"uGsb\"),r(\"5hvy\"),r(\"ELcG\"),r(\"WYAk\"),r(\"e7zE\"),r(\"K3mO\"),r(\"OLod\"),r(\"ALsQ\"),r(\"9OqN\"),r(\"qu8F\"),r(\"S6kV\"),r(\"gb/T\"),r(\"qBft\"),r(\"oRuE\"),r(\"jO9C\"),r(\"KmYQ\"),r(\"uGxW\"),r(\"bQjk\"),r(\"wZgz\"),r(\"pA7S\"),r(\"w7YG\"),r(\"E4JC\"),r(\"PVpz\"),a)},Na29:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s=r(\"tJTW\"),l={player:n.default.object,className:n.default.string};function u(e){var t=e.player,r=t.currentTime,a=t.duration,n=e.className,l=a-r,u=(0,s.formatTime)(l);return i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-remaining-time video-react-time-control video-react-control\",n)},i.default.createElement(\"div\",{className:\"video-react-remaining-time-display\",\"aria-live\":\"off\"},i.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Remaining Time \"),\"-\".concat(u)))}u.propTypes=l,u.displayName=\"RemainingTimeDisplay\";var d=u;t.default=d},OLod:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"K3mO\"),void(a.lib.Cipher||function(e){var t=a,r=t.lib,n=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,s=t.enc,l=(s.Utf8,s.Base64),u=t.algo,d=u.EvpKDF,c=r.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return\"string\"==typeof e?T:E}return function(t){return{encrypt:function(r,a,n){return e(a).encrypt(t,r,a,n)},decrypt:function(r,a,n){return e(a).decrypt(t,r,a,n)}}}}()}),f=(r.StreamCipher=c.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),t.mode={}),h=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=f.CBC=function(){var t=h.extend();function r(t,r,a){var n=this._iv;if(n){var i=n;this._iv=e}else var i=this._prevBlock;for(var o=0;o<a;o++)t[r+o]^=i[o]}return t.Encryptor=t.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize;r.call(this,e,t,n),a.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),t.Decryptor=t.extend({processBlock:function(e,t){var a=this._cipher,n=a.blockSize,i=e.slice(t,t+n);a.decryptBlock(e,t),r.call(this,e,t,n),this._prevBlock=i}}),t}(),v=t.pad={},g=v.Pkcs7={pad:function(e,t){for(var r=4*t,a=r-e.sigBytes%r,n=a<<24|a<<16|a<<8|a,o=[],s=0;s<a;s+=4)o.push(n);var l=i.create(o,a);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},y=(r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:p,padding:g}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var a=r.createEncryptor;else{var a=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==a?this._mode.init(this,t&&t.words):(this._mode=a.call(r,this,t&&t.words),this._mode.__creator=a)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=t.format={},b=m.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var a=i.create([1398893684,1701076831]).concat(r).concat(t);else var a=t;return a.toString(l)},parse:function(e){var t=l.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var a=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return y.create({ciphertext:t,salt:a})}},E=r.SerializableCipher=n.extend({cfg:n.extend({format:b}),encrypt:function(e,t,r,a){a=this.cfg.extend(a);var n=e.createEncryptor(r,a),i=n.finalize(t),o=n.cfg;return y.create({ciphertext:i,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:a.format})},decrypt:function(e,t,r,a){a=this.cfg.extend(a),t=this._parse(t,a.format);var n=e.createDecryptor(r,a).finalize(t.ciphertext);return n},_parse:function(e,t){return\"string\"==typeof e?t.parse(e,this):e}}),_=t.kdf={},S=_.OpenSSL={execute:function(e,t,r,a){a||(a=i.random(8));var n=d.create({keySize:t+r}).compute(e,a),o=i.create(n.words.slice(t),4*r);return n.sigBytes=4*t,y.create({key:n,iv:o,salt:a})}},T=r.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:S}),encrypt:function(e,t,r,a){var n=(a=this.cfg.extend(a)).kdf.execute(r,e.keySize,e.ivSize);a.iv=n.iv;var i=E.encrypt.call(this,e,t,n.key,a);return i.mixIn(n),i},decrypt:function(e,t,r,a){a=this.cfg.extend(a),t=this._parse(t,a.format);var n=a.kdf.execute(r,e.keySize,e.ivSize,t.salt);a.iv=n.iv;var i=E.decrypt.call(this,e,t,n.key,a);return i}})}()))},PVpz:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"ETIr\"),r(\"cv67\"),r(\"K3mO\"),r(\"OLod\"),function(){var e=a,t=e.lib.StreamCipher,r=e.algo,n=[],i=[],o=[],s=r.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)a[n]^=r[n+4&7];if(t){var i=t.words,o=i[0],s=i[1],u=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),d=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=u>>>16|4294901760&d,f=d<<16|65535&u;for(a[0]^=u,a[1]^=c,a[2]^=d,a[3]^=f,a[4]^=u,a[5]^=c,a[6]^=d,a[7]^=f,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var r=this._X;l.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var a=0;a<4;a++)n[a]=16711935&(n[a]<<8|n[a]>>>24)|4278255360&(n[a]<<24|n[a]>>>8),e[t+a]^=n[a]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var a=e[r]+t[r],n=65535&a,s=a>>>16,l=((n*n>>>17)+n*s>>>15)+s*s,u=((4294901760&a)*a|0)+((65535&a)*a|0);o[r]=l^u}e[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,e[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,e[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,e[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,e[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,e[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,e[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,e[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}e.RabbitLegacy=t._createHelper(s)}(),a.RabbitLegacy)},QJtQ:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=f;var n=a(r(\"5Udi\")),i=a(r(\"jTYr\")),o=a(r(\"17x9\")),s=a(r(\"q1tI\")),l=a(r(\"TSYQ\")),u=a(r(\"mJvV\")),d=a(r(\"4FqI\")),c={inline:o.default.bool,onClick:o.default.func.isRequired,onFocus:o.default.func,onBlur:o.default.func,className:o.default.string};function f(e){var t=e.inline,r=e.className,a=(0,i.default)({},e);return delete a.children,delete a.inline,delete a.className,s.default.createElement(u.default,(0,n.default)({className:(0,l.default)(r,{\"video-react-menu-button-inline\":!!t,\"video-react-menu-button-popup\":!t},\"video-react-control video-react-button video-react-menu-button\")},a),s.default.createElement(d.default,e))}f.propTypes=c,f.defaultProps={inline:!0},f.displayName=\"PopupButton\"},QVHq:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},Qrqe:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"5Udi\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=n(r(\"u0Ef\")),u=n(r(\"amh1\")),d=n(r(\"Eb1A\")),c=n(r(\"rvd0\")),f=n(r(\"17x9\")),h=a(r(\"q1tI\")),p=n(r(\"TSYQ\")),v=n(r(\"kXlQ\")),g=n(r(\"jSMv\")),y={actions:f.default.object,player:f.default.object,className:f.default.string,onFocus:f.default.func,onBlur:f.default.func},m=function(e){function t(e,r){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e,r))).state={percentage:\"0%\"},a.handleMouseMove=a.handleMouseMove.bind((0,d.default)(a)),a.handlePercentageChange=a.handlePercentageChange.bind((0,d.default)(a)),a.checkMuted=a.checkMuted.bind((0,d.default)(a)),a.getPercent=a.getPercent.bind((0,d.default)(a)),a.stepForward=a.stepForward.bind((0,d.default)(a)),a.stepBack=a.stepBack.bind((0,d.default)(a)),a.handleFocus=a.handleFocus.bind((0,d.default)(a)),a.handleBlur=a.handleBlur.bind((0,d.default)(a)),a.handleClick=a.handleClick.bind((0,d.default)(a)),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"componentDidMount\",value:function(){}},{key:\"getPercent\",value:function(){var e=this.props.player;return e.muted?0:e.volume}},{key:\"checkMuted\",value:function(){var e=this.props,t=e.player,r=e.actions;t.muted&&r.mute(!1)}},{key:\"handleMouseMove\",value:function(e){var t=this.props.actions;this.checkMuted();var r=this.slider.calculateDistance(e);t.changeVolume(r)}},{key:\"stepForward\",value:function(){var e=this.props,t=e.player,r=e.actions;this.checkMuted(),r.changeVolume(t.volume+.1)}},{key:\"stepBack\",value:function(){var e=this.props,t=e.player,r=e.actions;this.checkMuted(),r.changeVolume(t.volume-.1)}},{key:\"handleFocus\",value:function(e){this.props.onFocus&&this.props.onFocus(e)}},{key:\"handleBlur\",value:function(e){this.props.onBlur&&this.props.onBlur(e)}},{key:\"handlePercentageChange\",value:function(e){e!==this.state.percentage&&this.setState({percentage:e})}},{key:\"handleClick\",value:function(e){e.stopPropagation()}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.player,a=t.className,n=(100*r.volume).toFixed(2);return h.default.createElement(v.default,(0,i.default)({ref:function(t){e.slider=t},label:\"volume level\",valuenow:n,valuetext:\"\".concat(n,\"%\"),onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:(0,p.default)(a,\"video-react-volume-bar video-react-slider-bar\")}),h.default.createElement(g.default,this.props))}}]),t}(h.Component);m.propTypes=y,m.displayName=\"VolumeBar\";var b=m;t.default=b},RKA9:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/videos\",function(){var e=r(\"N6Op\");return{page:e.default||e}}])},S6kV:function(e,t,r){var a,n,i;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.mode.OFB=(n=a.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(e,t){var r=this._cipher,a=r.blockSize,n=this._iv,i=this._keystream;n&&(i=this._keystream=n.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var o=0;o<a;o++)e[t+o]^=i[o]}}),n.Decryptor=i,n),a.mode.OFB)},U0Iy:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}},U3K2:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p=n(r(\"o4RB\")),v=n(r(\"DeZD\")),g=n(r(\"mJvV\")),y={inline:c.default.bool,items:c.default.array,className:c.default.string,onSelectItem:c.default.func,children:c.default.any,selectedIndex:c.default.number},m=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).state={active:!1,activateIndex:e.selectedIndex||0},a.commitSelection=a.commitSelection.bind((0,u.default)(a)),a.activateMenuItem=a.activateMenuItem.bind((0,u.default)(a)),a.handleClick=a.handleClick.bind((0,u.default)(a)),a.renderMenu=a.renderMenu.bind((0,u.default)(a)),a.handleFocus=a.handleFocus.bind((0,u.default)(a)),a.handleBlur=a.handleBlur.bind((0,u.default)(a)),a.handleUpArrow=a.handleUpArrow.bind((0,u.default)(a)),a.handleDownArrow=a.handleDownArrow.bind((0,u.default)(a)),a.handleEscape=a.handleEscape.bind((0,u.default)(a)),a.handleReturn=a.handleReturn.bind((0,u.default)(a)),a.handleTab=a.handleTab.bind((0,u.default)(a)),a.handleKeyPress=a.handleKeyPress.bind((0,u.default)(a)),a.handleSelectItem=a.handleSelectItem.bind((0,u.default)(a)),a.handleIndexChange=a.handleIndexChange.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"componentDidUpdate\",value:function(e){e.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:\"commitSelection\",value:function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)}},{key:\"activateMenuItem\",value:function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)}},{key:\"handleIndexChange\",value:function(e){(0,this.props.onSelectItem)(e)}},{key:\"handleClick\",value:function(){this.setState(function(e){return{active:!e.active}})}},{key:\"handleFocus\",value:function(){document.addEventListener(\"keydown\",this.handleKeyPress)}},{key:\"handleBlur\",value:function(){this.setState({active:!1}),document.removeEventListener(\"keydown\",this.handleKeyPress)}},{key:\"handleUpArrow\",value:function(e){var t=this.props.items;if(this.state.active){e.preventDefault();var r=this.state.activateIndex-1;r<0&&(r=t.length?t.length-1:0),this.activateMenuItem(r)}}},{key:\"handleDownArrow\",value:function(e){var t=this.props.items;if(this.state.active){e.preventDefault();var r=this.state.activateIndex+1;r>=t.length&&(r=0),this.activateMenuItem(r)}}},{key:\"handleTab\",value:function(e){this.state.active&&(e.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:\"handleReturn\",value:function(e){e.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:\"handleEscape\",value:function(){this.setState({active:!1,activateIndex:0})}},{key:\"handleKeyPress\",value:function(e){27===e.which?this.handleEscape(e):9===e.which?this.handleTab(e):13===e.which?this.handleReturn(e):38===e.which?this.handleUpArrow(e):40===e.which&&this.handleDownArrow(e)}},{key:\"handleSelectItem\",value:function(e){this.commitSelection(e)}},{key:\"renderMenu\",value:function(){var e=this;if(!this.state.active)return null;var t=this.props.items;return f.default.createElement(p.default,null,t.map(function(t,r){return f.default.createElement(v.default,{item:t,index:r,onSelectItem:e.handleSelectItem,activateIndex:e.state.activateIndex,key:\"item-\".concat(r++)})}))}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.inline,a=t.className;return f.default.createElement(g.default,{className:(0,h.default)(a,{\"video-react-menu-button-inline\":!!r,\"video-react-menu-button-popup\":!r,\"video-react-menu-button-active\":this.state.active},\"video-react-control video-react-button video-react-menu-button\"),role:\"button\",tabIndex:\"0\",ref:function(t){e.menuButton=t},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),t}(f.Component);t.default=m,m.propTypes=y,m.displayName=\"MenuButton\"},UXv2:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=(0,a(r(\"8nKf\")).default)(\"replay\");n.displayName=\"ReplayControl\";var i=n;t.default=i},W5eO:function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},WYAk:function(e,t,r){var a,n,i,o,s,l,u;e.exports=(a=r(\"Ib8C\"),i=(n=a).lib,o=i.Base,s=n.enc,l=s.Utf8,u=n.algo,void(u.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,\"string\"==typeof t&&(t=l.parse(t));var r=e.blockSize,a=4*r;t.sigBytes>a&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),i=this._iKey=t.clone(),o=n.words,s=i.words,u=0;u<r;u++)o[u]^=1549556828,s[u]^=909522486;n.sigBytes=i.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);t.reset();var a=t.finalize(this._oKey.clone().concat(r));return a}})))},X2cd:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=l;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s={player:n.default.object,className:n.default.string};function l(e){var t=e.player,r=e.className;return t.error?null:i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-loading-spinner\",r)})}l.propTypes=s,l.displayName=\"LoadingSpinner\"},YXxW:function(e,t){function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(t){return\"function\"==typeof Symbol&&\"symbol\"===r(Symbol.iterator)?e.exports=a=function(e){return r(e)}:e.exports=a=function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":r(e)},a(t)}e.exports=a},amh1:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},bQjk:function(e,t,r){var a,n,i,o;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),i=(n=a).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},a.format.Hex)},cv67:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),function(e){var t=a,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var a=t+r,n=e[a];e[a]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var i=this._hash.words,o=e[t+0],l=e[t+1],h=e[t+2],p=e[t+3],v=e[t+4],g=e[t+5],y=e[t+6],m=e[t+7],b=e[t+8],E=e[t+9],_=e[t+10],S=e[t+11],T=e[t+12],k=e[t+13],A=e[t+14],R=e[t+15],w=i[0],P=i[1],D=i[2],C=i[3];w=u(w,P,D,C,o,7,s[0]),C=u(C,w,P,D,l,12,s[1]),D=u(D,C,w,P,h,17,s[2]),P=u(P,D,C,w,p,22,s[3]),w=u(w,P,D,C,v,7,s[4]),C=u(C,w,P,D,g,12,s[5]),D=u(D,C,w,P,y,17,s[6]),P=u(P,D,C,w,m,22,s[7]),w=u(w,P,D,C,b,7,s[8]),C=u(C,w,P,D,E,12,s[9]),D=u(D,C,w,P,_,17,s[10]),P=u(P,D,C,w,S,22,s[11]),w=u(w,P,D,C,T,7,s[12]),C=u(C,w,P,D,k,12,s[13]),D=u(D,C,w,P,A,17,s[14]),w=d(w,P=u(P,D,C,w,R,22,s[15]),D,C,l,5,s[16]),C=d(C,w,P,D,y,9,s[17]),D=d(D,C,w,P,S,14,s[18]),P=d(P,D,C,w,o,20,s[19]),w=d(w,P,D,C,g,5,s[20]),C=d(C,w,P,D,_,9,s[21]),D=d(D,C,w,P,R,14,s[22]),P=d(P,D,C,w,v,20,s[23]),w=d(w,P,D,C,E,5,s[24]),C=d(C,w,P,D,A,9,s[25]),D=d(D,C,w,P,p,14,s[26]),P=d(P,D,C,w,b,20,s[27]),w=d(w,P,D,C,k,5,s[28]),C=d(C,w,P,D,h,9,s[29]),D=d(D,C,w,P,m,14,s[30]),w=c(w,P=d(P,D,C,w,T,20,s[31]),D,C,g,4,s[32]),C=c(C,w,P,D,b,11,s[33]),D=c(D,C,w,P,S,16,s[34]),P=c(P,D,C,w,A,23,s[35]),w=c(w,P,D,C,l,4,s[36]),C=c(C,w,P,D,v,11,s[37]),D=c(D,C,w,P,m,16,s[38]),P=c(P,D,C,w,_,23,s[39]),w=c(w,P,D,C,k,4,s[40]),C=c(C,w,P,D,o,11,s[41]),D=c(D,C,w,P,p,16,s[42]),P=c(P,D,C,w,y,23,s[43]),w=c(w,P,D,C,E,4,s[44]),C=c(C,w,P,D,T,11,s[45]),D=c(D,C,w,P,R,16,s[46]),w=f(w,P=c(P,D,C,w,h,23,s[47]),D,C,o,6,s[48]),C=f(C,w,P,D,m,10,s[49]),D=f(D,C,w,P,A,15,s[50]),P=f(P,D,C,w,g,21,s[51]),w=f(w,P,D,C,T,6,s[52]),C=f(C,w,P,D,p,10,s[53]),D=f(D,C,w,P,_,15,s[54]),P=f(P,D,C,w,l,21,s[55]),w=f(w,P,D,C,b,6,s[56]),C=f(C,w,P,D,R,10,s[57]),D=f(D,C,w,P,y,15,s[58]),P=f(P,D,C,w,k,21,s[59]),w=f(w,P,D,C,v,6,s[60]),C=f(C,w,P,D,S,10,s[61]),D=f(D,C,w,P,h,15,s[62]),P=f(P,D,C,w,E,21,s[63]),i[0]=i[0]+w|0,i[1]=i[1]+P|0,i[2]=i[2]+D|0,i[3]=i[3]+C|0},_doFinalize:function(){var t=this._data,r=t.words,a=8*this._nDataBytes,n=8*t.sigBytes;r[n>>>5]|=128<<24-n%32;var i=e.floor(a/4294967296),o=a;r[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var d=l[u];l[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,a,n,i,o){var s=e+(t&r|~t&a)+n+o;return(s<<i|s>>>32-i)+t}function d(e,t,r,a,n,i,o){var s=e+(t&a|r&~a)+n+o;return(s<<i|s>>>32-i)+t}function c(e,t,r,a,n,i,o){var s=e+(t^r^a)+n+o;return(s<<i|s>>>32-i)+t}function f(e,t,r,a,n,i,o){var s=e+(r^(t|~a))+n+o;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(l),t.HmacMD5=i._createHmacHelper(l)}(Math),a.MD5)},dQE1:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}},e7zE:function(e,t,r){var a,n,i,o,s,l,u,d,c;e.exports=(a=r(\"Ib8C\"),r(\"3y9D\"),r(\"WYAk\"),i=(n=a).lib,o=i.Base,s=i.WordArray,l=n.algo,u=l.SHA1,d=l.HMAC,c=l.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,a=d.create(r.hasher,e),n=s.create(),i=s.create([1]),o=n.words,l=i.words,u=r.keySize,c=r.iterations;o.length<u;){var f=a.update(t).finalize(i);a.reset();for(var h=f.words,p=h.length,v=f,g=1;g<c;g++){v=a.finalize(v),a.reset();for(var y=v.words,m=0;m<p;m++)h[m]^=y[m]}n.concat(f),l[0]++}return n.sigBytes=4*u,n}}),n.PBKDF2=function(e,t,r){return c.create(r).compute(e,t)},a.PBKDF2)},\"gb/T\":function(e,t,r){var a,n;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.mode.ECB=((n=a.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),n.Decryptor=n.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),n),a.mode.ECB)},iAfH:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"jTYr\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=r(\"ANjH\"),u=n(r(\"ulZL\")),d=a(r(\"we7k\")),c=a(r(\"INgg\")),f=function(){function e(t){(0,o.default)(this,e),this.store=t||(0,l.createStore)(u.default),this.video=null,this.rootElement=null}return(0,s.default)(e,[{key:\"getActions\",value:function(){var e=this,t=this.store.dispatch,r=(0,i.default)({},d,c);return Object.keys(r).filter(function(e){return\"function\"==typeof r[e]}).reduce(function(a,n){var i;return a[n]=(i=r[n],function(){var r=i.apply(e,arguments);void 0!==r&&t(r)}),a},{})}},{key:\"getState\",value:function(){return this.store.getState()}},{key:\"subscribeToStateChange\",value:function(e,t){t||(t=this.getState.bind(this));var r=t();return this.store.subscribe(function(){var a=t();if(a!==r){var n=r;r=a,e(a,n)}})}},{key:\"subscribeToOperationStateChange\",value:function(e){var t=this;return this.subscribeToStateChange(e,function(){return t.getState().operation})}},{key:\"subscribeToPlayerStateChange\",value:function(e){var t=this;return this.subscribeToStateChange(e,function(){return t.getState().player})}}]),e}();t.default=f},iRmt:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}},jO9C:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.pad.Iso97971={pad:function(e,t){e.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(e,t)},unpad:function(e){a.pad.ZeroPadding.unpad(e),e.sigBytes--}},a.pad.Iso97971)},jSMv:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s={percentage:n.default.string,vertical:n.default.bool,className:n.default.string};function l(e){var t=e.percentage,r=e.vertical,a=e.className,n={};return r?n.height=t:n.width=t,i.default.createElement(\"div\",{className:(0,o.default)(a,\"video-react-volume-level\"),style:n},i.default.createElement(\"span\",{className:\"video-react-control-text\"}))}l.propTypes=s,l.defaultProps={percentage:\"100%\",vertical:!1},l.displayName=\"VolumeLevel\";var u=l;t.default=u},jTYr:function(e,t,r){var a=r(\"CN1e\");e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);\"function\"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){a(e,t,r[t])})}return e}},kXlQ:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p=a(r(\"EVUy\")),v={className:c.default.string,onMouseDown:c.default.func,onMouseMove:c.default.func,stepForward:c.default.func,stepBack:c.default.func,sliderActive:c.default.func,sliderInactive:c.default.func,onMouseUp:c.default.func,onFocus:c.default.func,onBlur:c.default.func,onClick:c.default.func,getPercent:c.default.func,vertical:c.default.bool,children:c.default.node,label:c.default.string,valuenow:c.default.string,valuetext:c.default.string},g=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleMouseDown=a.handleMouseDown.bind((0,u.default)(a)),a.handleMouseMove=a.handleMouseMove.bind((0,u.default)(a)),a.handleMouseUp=a.handleMouseUp.bind((0,u.default)(a)),a.handleFocus=a.handleFocus.bind((0,u.default)(a)),a.handleBlur=a.handleBlur.bind((0,u.default)(a)),a.handleClick=a.handleClick.bind((0,u.default)(a)),a.handleKeyPress=a.handleKeyPress.bind((0,u.default)(a)),a.stepForward=a.stepForward.bind((0,u.default)(a)),a.stepBack=a.stepBack.bind((0,u.default)(a)),a.calculateDistance=a.calculateDistance.bind((0,u.default)(a)),a.getProgress=a.getProgress.bind((0,u.default)(a)),a.renderChildren=a.renderChildren.bind((0,u.default)(a)),a.state={active:!1},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"mousemove\",this.handleMouseMove,!0),document.removeEventListener(\"mouseup\",this.handleMouseUp,!0),document.removeEventListener(\"touchmove\",this.handleMouseMove,!0),document.removeEventListener(\"touchend\",this.handleMouseUp,!0),document.removeEventListener(\"keydown\",this.handleKeyPress,!0)}},{key:\"getProgress\",value:function(){var e=this.props.getPercent;if(!e)return 0;var t=e();return(\"number\"!=typeof t||t<0||t===1/0)&&(t=0),t}},{key:\"handleMouseDown\",value:function(e){var t=this.props.onMouseDown;document.addEventListener(\"mousemove\",this.handleMouseMove,!0),document.addEventListener(\"mouseup\",this.handleMouseUp,!0),document.addEventListener(\"touchmove\",this.handleMouseMove,!0),document.addEventListener(\"touchend\",this.handleMouseUp,!0),this.setState({active:!0}),this.props.sliderActive&&this.props.sliderActive(e),this.handleMouseMove(e),t&&t(e)}},{key:\"handleMouseMove\",value:function(e){var t=this.props.onMouseMove;t&&t(e)}},{key:\"handleMouseUp\",value:function(e){e.preventDefault();var t=this.props.onMouseUp;document.removeEventListener(\"mousemove\",this.handleMouseMove,!0),document.removeEventListener(\"mouseup\",this.handleMouseUp,!0),document.removeEventListener(\"touchmove\",this.handleMouseMove,!0),document.removeEventListener(\"touchend\",this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(e),t&&t(e)}},{key:\"handleFocus\",value:function(e){document.addEventListener(\"keydown\",this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(e)}},{key:\"handleBlur\",value:function(e){document.removeEventListener(\"keydown\",this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(e)}},{key:\"handleClick\",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:\"handleKeyPress\",value:function(e){37===e.which||40===e.which?(e.preventDefault(),e.stopPropagation(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),e.stopPropagation(),this.stepForward())}},{key:\"stepForward\",value:function(){this.props.stepForward&&this.props.stepForward()}},{key:\"stepBack\",value:function(){this.props.stepBack&&this.props.stepBack()}},{key:\"calculateDistance\",value:function(e){var t=this.slider,r=p.getPointerPosition(t,e);return this.props.vertical?r.y:r.x}},{key:\"renderChildren\",value:function(){var e=this.getProgress(),t=\"\".concat((100*e).toFixed(2),\"%\");return f.default.Children.map(this.props.children,function(r){return f.default.cloneElement(r,{progress:e,percentage:t})})}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.vertical,a=t.label,n=t.valuenow,i=t.valuetext;return f.default.createElement(\"div\",{className:(0,h.default)(this.props.className,{\"video-react-slider-vertical\":r,\"video-react-slider-horizontal\":!r,\"video-react-sliding\":this.state.active},\"video-react-slider\"),ref:function(t){e.slider=t},tabIndex:\"0\",role:\"slider\",onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,\"aria-label\":a||\"\",\"aria-valuenow\":n||\"\",\"aria-valuetext\":i||\"\",\"aria-valuemin\":0,\"aria-valuemax\":100},this.renderChildren())}}]),t}(f.Component);t.default=g,g.propTypes=v,g.displayName=\"Slider\"},lFXq:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},lPiR:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),function(e){var t=a,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var r=e.sqrt(t),a=2;a<=r;a++)if(!(t%a))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var a=2,n=0;n<64;)t(a)&&(n<8&&(s[n]=r(e.pow(a,.5))),l[n]=r(e.pow(a,1/3)),n++),a++}();var u=[],d=o.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,a=r[0],n=r[1],i=r[2],o=r[3],s=r[4],d=r[5],c=r[6],f=r[7],h=0;h<64;h++){if(h<16)u[h]=0|e[t+h];else{var p=u[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[h-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[h]=v+u[h-7]+y+u[h-16]}var m=a&n^a&i^n&i,b=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),E=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&c)+l[h]+u[h];f=c,c=d,d=s,s=o+E|0,o=i,i=n,n=a,a=E+(b+m)|0}r[0]=r[0]+a|0,r[1]=r[1]+n|0,r[2]=r[2]+i|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0,r[5]=r[5]+d|0,r[6]=r[6]+c|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,r=t.words,a=8*this._nDataBytes,n=8*t.sigBytes;return r[n>>>5]|=128<<24-n%32,r[14+(n+64>>>9<<4)]=e.floor(a/4294967296),r[15+(n+64>>>9<<4)]=a,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(d),t.HmacSHA256=i._createHmacHelper(d)}(Math),a.SHA256)},la5V:function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}},mJvV:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"5Udi\")),o=n(r(\"jTYr\")),s=n(r(\"U0Iy\")),l=n(r(\"dQE1\")),u=n(r(\"u0Ef\")),d=n(r(\"amh1\")),c=n(r(\"Eb1A\")),f=n(r(\"rvd0\")),h=n(r(\"17x9\")),p=a(r(\"q1tI\")),v=n(r(\"TSYQ\")),g={tagName:h.default.string,onClick:h.default.func.isRequired,onFocus:h.default.func,onBlur:h.default.func,className:h.default.string},y=function(e){function t(e,r){var a;return(0,s.default)(this,t),(a=(0,u.default)(this,(0,d.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,c.default)(a)),a.handleFocus=a.handleFocus.bind((0,c.default)(a)),a.handleBlur=a.handleBlur.bind((0,c.default)(a)),a.handleKeypress=a.handleKeypress.bind((0,c.default)(a)),a}return(0,f.default)(t,e),(0,l.default)(t,[{key:\"handleKeypress\",value:function(e){32!==e.which&&13!==e.which||(e.preventDefault(),this.handleClick(e))}},{key:\"handleClick\",value:function(e){(0,this.props.onClick)(e)}},{key:\"handleFocus\",value:function(e){document.addEventListener(\"keydown\",this.handleKeypress),this.props.onFocus&&this.props.onFocus(e)}},{key:\"handleBlur\",value:function(e){document.removeEventListener(\"keydown\",this.handleKeypress),this.props.onBlur&&this.props.onBlur(e)}},{key:\"render\",value:function(){var e=this.props.tagName,t=(0,o.default)({},this.props);return delete t.tagName,delete t.className,p.default.createElement(e,(0,i.default)({className:(0,v.default)(this.props.className),role:\"button\",tabIndex:\"0\",onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},t))}}]),t}(p.Component);t.default=y,y.propTypes=g,y.defaultProps={tagName:\"div\"},y.displayName=\"ClickableComponent\"},o4RB:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h={children:c.default.any},p=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleClick\",value:function(e){e.preventDefault()}},{key:\"render\",value:function(){return f.default.createElement(\"div\",{className:\"video-react-menu video-react-lock-showing\",role:\"presentation\",onClick:this.handleClick},f.default.createElement(\"ul\",{className:\"video-react-menu-content\"},this.props.children))}}]),t}(f.Component);t.default=p,p.propTypes=h,p.displayName=\"Menu\"},oRuE:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.pad.Iso10126={pad:function(e,t){var r=4*t,n=r-e.sigBytes%r;e.concat(a.lib.WordArray.random(n-1)).concat(a.lib.WordArray.create([n<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Iso10126)},pA7S:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"ETIr\"),r(\"cv67\"),r(\"K3mO\"),r(\"OLod\"),function(){var e=a,t=e.lib,r=t.WordArray,n=t.BlockCipher,i=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=i.DES=n.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var a=o[r]-1;t[r]=e[a>>>5]>>>31-a%32&1}for(var n=this._subKeys=[],i=0;i<16;i++){var u=n[i]=[],d=l[i];for(r=0;r<24;r++)u[r/6|0]|=t[(s[r]-1+d)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(s[r+24]-1+d)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var c=this._invSubKeys=[];for(r=0;r<16;r++)c[r]=n[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var a=0;a<16;a++){for(var n=r[a],i=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=u[l][((o^n[l])&d[l])>>>0];this._lBlock=o,this._rBlock=i^s}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function h(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=n._createHelper(c);var p=i.TripleDES=n.extend({_doReset:function(){var e=this._key.words;this._des1=c.createEncryptor(r.create(e.slice(0,2))),this._des2=c.createEncryptor(r.create(e.slice(2,4))),this._des3=c.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=n._createHelper(p)}(),a.TripleDES)},\"q+t5\":function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=u;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s=r(\"tJTW\"),l={currentTime:n.default.number,duration:n.default.number,percentage:n.default.string,className:n.default.string};function u(e){var t=e.currentTime,r=e.duration,a=e.percentage,n=e.className;return i.default.createElement(\"div\",{\"data-current-time\":(0,s.formatTime)(t,r),className:(0,o.default)(\"video-react-play-progress video-react-slider-bar\",n),style:{width:a}},i.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Progress: \".concat(a)))}u.propTypes=l,u.displayName=\"PlayProgressBar\"},qBft:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,a=4*t,n=a-r%a,i=r+n-1;e.clamp(),e.words[i>>>2]|=n<<24-i%4*8,e.sigBytes+=n},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.pad.Ansix923)},qM6L:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),function(){var e=a,t=e.lib.WordArray,r=e.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,a=[],n=0;n<r;n+=2){var i=t[n>>>2]>>>16-n%4*8&65535;a.push(String.fromCharCode(i))}return a.join(\"\")},parse:function(e){for(var r=e.length,a=[],n=0;n<r;n++)a[n>>>1]|=e.charCodeAt(n)<<16-n%2*16;return t.create(a,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,a=[],i=0;i<r;i+=2){var o=n(t[i>>>2]>>>16-i%4*8&65535);a.push(String.fromCharCode(o))}return a.join(\"\")},parse:function(e){for(var r=e.length,a=[],i=0;i<r;i++)a[i>>>1]|=n(e.charCodeAt(i)<<16-i%2*16);return t.create(a,2*r)}}}(),a.enc.Utf16)},qdLH:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=void 0;var a=\"undefined\"!=typeof window&&window.navigator?window.navigator.userAgent:\"\",n=/iPad/i.test(a);t.IS_IPAD=n;var i=/iPhone/i.test(a)&&!n;t.IS_IPHONE=i;var o=/iPod/i.test(a);t.IS_IPOD=o;var s=i||n||o;t.IS_IOS=s},qu8F:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),\n/** @preserve\n\t * Counter block mode compatible with  Dr Brian Gladman fileenc.c\n\t * derived from CryptoJS.mode.CTR\n\t * Jan Hruby jhruby.web@gmail.com\n\t */\na.mode.CTRGladman=function(){var e=a.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,a=255&e;255===t?(t=0,255===r?(r=0,255===a?a=0:++a):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=a}else e+=1<<24;return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var a=this._cipher,n=a.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(o);var s=o.slice(0);a.encryptBlock(s,0);for(var l=0;l<n;l++)e[r+l]^=s[l]}});return e.Decryptor=r,e}(),a.mode.CTRGladman)},rsAN:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=l;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s={duration:n.default.number,buffered:n.default.object,className:n.default.string};function l(e){var t=e.buffered,r=e.duration,a=e.className;if(!t||!t.length)return null;var n=t.end(t.length-1),s={};function l(e,t){var r=e/t||0;return\"\".concat(100*(r>=1?1:r),\"%\")}n>r&&(n=r),s.width=l(n,r);for(var u=[],d=0;d<t.length;d++){var c=t.start(d),f=t.end(d),h=i.default.createElement(\"div\",{style:{left:l(c,n),width:l(f-c,n)},key:\"part-\".concat(d)});u.push(h)}return 0===u.length&&(u=null),i.default.createElement(\"div\",{style:s,className:(0,o.default)(\"video-react-load-progress\",a)},i.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Loaded: 0%\"),u)}l.propTypes=s,l.displayName=\"LoadProgressBar\"},ruMa:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=l;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s={separator:n.default.string,className:n.default.string};function l(e){var t=e.separator,r=e.className,a=t||\"/\";return i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-time-control video-react-time-divider\",r),dir:\"ltr\"},i.default.createElement(\"div\",null,i.default.createElement(\"span\",null,a)))}l.propTypes=s,l.displayName=\"TimeDivider\"},rvd0:function(e,t,r){var a=r(\"/Mxf\");e.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}},rzyQ:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"U0Iy\")),i=a(r(\"dQE1\")),o=new(function(){function e(){(0,n.default)(this,e)}return(0,i.default)(e,[{key:\"request\",value:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:\"exit\",value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:\"addEventListener\",value:function(e){document.addEventListener(\"fullscreenchange\",e),document.addEventListener(\"webkitfullscreenchange\",e),document.addEventListener(\"mozfullscreenchange\",e),document.addEventListener(\"MSFullscreenChange\",e)}},{key:\"removeEventListener\",value:function(e){document.removeEventListener(\"fullscreenchange\",e),document.removeEventListener(\"webkitfullscreenchange\",e),document.removeEventListener(\"mozfullscreenchange\",e),document.removeEventListener(\"MSFullscreenChange\",e)}},{key:\"isFullscreen\",get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:\"enabled\",get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),e}());t.default=o},tJTW:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.formatTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=Math.floor(e%60),a=Math.floor(e/60%60),n=Math.floor(e/3600),i=Math.floor(t/60%60),o=Math.floor(t/3600);(l(e)||e===1/0)&&(n=\"-\",a=\"-\",r=\"-\");return n=n>0||o>0?\"\".concat(n,\":\"):\"\",a=\"\".concat((n||i>=10)&&a<10?\"0\".concat(a):a,\":\"),r=r<10?\"0\".concat(r):r,n+a+r},t.isVideoChild=function(e){if(e.props&&e.props.isVideoChild)return!0;return\"source\"===e.type||\"track\"===e.type},t.mergeAndSortChildren=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=s.default.Children.toArray(t),l=(r.order,(0,o.default)(r,[\"order\"]));return n.filter(function(e){return!e.props.disabled}).concat(e.filter(function(e){return!u(n,function(t){return d(t,e)})})).map(function(t){var r=u(e,function(e){return d(e,t)}),a=r?r.props:{},n=(0,i.default)({},l,a,t.props),o=s.default.cloneElement(t,n,t.props.children);return o}).sort(function(e,t){return(e.props.order||a)-(t.props.order||a)})},t.deprecatedWarning=function(e,t){console.warn(\"WARNING: \".concat(e,\" will be deprecated soon! Please use \").concat(t,\" instead.\"))},t.throttle=function(e,t){var r=arguments,a=!1;return function(){a||(e.apply(void 0,(0,n.default)(r)),a=!0,setTimeout(function(){a=!1},t))}},t.mediaProperties=void 0;var n=a(r(\"DPUQ\")),i=a(r(\"jTYr\")),o=a(r(\"6IEp\")),s=a(r(\"q1tI\")),l=Number.isNaN||function(e){return e!=e};var u=function(e,t){return e.filter(t)[0]},d=function(e,t){var r=e.type,a=t.type;return\"string\"==typeof r||\"string\"==typeof a?r===a:\"function\"==typeof r&&\"function\"==typeof a&&r.displayName===a.displayName};t.mediaProperties=[\"error\",\"src\",\"srcObject\",\"currentSrc\",\"crossOrigin\",\"networkState\",\"preload\",\"buffered\",\"readyState\",\"seeking\",\"currentTime\",\"duration\",\"paused\",\"defaultPlaybackRate\",\"playbackRate\",\"played\",\"seekable\",\"ended\",\"autoplay\",\"loop\",\"mediaGroup\",\"controller\",\"controls\",\"volume\",\"muted\",\"defaultMuted\",\"audioTracks\",\"videoTracks\",\"textTracks\",\"width\",\"height\",\"videoWidth\",\"videoHeight\",\"poster\"]},tPgb:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=a(r(\"17x9\")),i=a(r(\"q1tI\")),o=a(r(\"TSYQ\")),s={poster:n.default.string,player:n.default.object,actions:n.default.object,className:n.default.string};function l(e){var t=e.poster,r=e.player,a=e.actions,n=e.className;return!t||r.hasStarted?null:i.default.createElement(\"div\",{className:(0,o.default)(\"video-react-poster\",n),style:{backgroundImage:'url(\"'.concat(t,'\")')},onClick:function(){r.paused&&a.play()}})}l.propTypes=s,l.displayName=\"PosterImage\";var u=l;t.default=u},u0Ef:function(e,t,r){var a=r(\"YXxW\"),n=r(\"Eb1A\");e.exports=function(e,t){return!t||\"object\"!==a(t)&&\"function\"!=typeof t?n(e):t}},uGsb:function(e,t,r){var a,n,i,o,s,l,u,d;e.exports=(a=r(\"Ib8C\"),r(\"MlIO\"),r(\"1uat\"),i=(n=a).x64,o=i.Word,s=i.WordArray,l=n.algo,u=l.SHA512,d=l.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=u._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=u._createHelper(d),n.HmacSHA384=u._createHmacHelper(d),a.SHA384)},uGxW:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"OLod\"),a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding)},udzn:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"Player\",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,\"Video\",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,\"BigPlayButton\",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,\"LoadingSpinner\",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,\"PosterImage\",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,\"Slider\",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,\"Bezel\",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,\"Shortcut\",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,\"ControlBar\",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,\"PlayToggle\",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,\"ForwardControl\",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,\"ReplayControl\",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,\"FullscreenToggle\",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,\"ProgressControl\",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,\"SeekBar\",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,\"PlayProgressBar\",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,\"LoadProgressBar\",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,\"MouseTimeDisplay\",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,\"VolumeMenuButton\",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,\"PlaybackRateMenuButton\",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,\"PlaybackRate\",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,\"ClosedCaptionButton\",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,\"RemainingTimeDisplay\",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,\"CurrentTimeDisplay\",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,\"DurationDisplay\",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,\"TimeDivider\",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,\"MenuButton\",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,\"playerReducer\",{enumerable:!0,get:function(){return x.playerReducer}}),Object.defineProperty(t,\"operationReducer\",{enumerable:!0,get:function(){return x.operationReducer}}),t.videoActions=t.playerActions=void 0;var i=n(r(\"vcz5\")),o=n(r(\"Edwz\")),s=n(r(\"vu4D\")),l=n(r(\"X2cd\")),u=n(r(\"tPgb\")),d=n(r(\"kXlQ\")),c=n(r(\"zFvY\")),f=n(r(\"LgmY\")),h=n(r(\"FcgA\")),p=n(r(\"0yDM\")),v=n(r(\"4b3c\")),g=n(r(\"UXv2\")),y=n(r(\"54lq\")),m=n(r(\"zHIc\")),b=n(r(\"xFFL\")),E=n(r(\"q+t5\")),_=n(r(\"rsAN\")),S=n(r(\"GuGs\")),T=n(r(\"AZ0a\")),k=n(r(\"DGqw\")),A=n(r(\"wXLL\")),R=n(r(\"yYHT\")),w=n(r(\"Na29\")),P=n(r(\"HI9P\")),D=n(r(\"GdU9\")),C=n(r(\"ruMa\")),O=n(r(\"U3K2\")),L=a(r(\"we7k\"));t.playerActions=L;var I=a(r(\"INgg\"));t.videoActions=I;var x=r(\"ulZL\")},ulZL:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{player:(0,n.default)(e.player,t),operation:(0,i.default)(e.operation,t)}},t.operationReducer=t.playerReducer=void 0;var n=a(r(\"56F6\")),i=a(r(\"3nJo\"));var o=n.default;t.playerReducer=o;var s=i.default;t.operationReducer=s},ulZh:function(e,t,r){var a;\"undefined\"!=typeof window&&(a=function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/dist/\",r(r.s=\"./src/hls.js\")}({\"./node_modules/eventemitter3/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/eventemitter3/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a=Object.prototype.hasOwnProperty,n=\"~\";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,a,i){if(\"function\"!=typeof r)throw new TypeError(\"The listener must be a function\");var s=new o(r,a||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)a.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,d=this._events[s],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,i),!0;case 6:return d.fn.call(d.context,t,r,a,i,o),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var f,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(c-1);f<c;f++)l[f-1]=arguments[f];d[u].fn.apply(d[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return l(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||l(this,i);else{for(var s=0,u=[],d=o.length;s<d;s++)(o[s].fn!==t||a&&!o[s].once||r&&o[s].context!==r)&&u.push(o[s]);u.length?this._events[i]=1===u.length?u[0]:u:l(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&l(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u},\"./node_modules/node-libs-browser/node_modules/events/events.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return\"function\"==typeof e}function n(e){return\"object\"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,l,u;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw d.context=t,d}if(i(r=this._events[e]))return!1;if(a(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(n(r))for(s=Array.prototype.slice.call(arguments,1),o=(u=r.slice()).length,l=0;l<o;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!a(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,a(t.listener)?t.listener:t),this._events[e]?n(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,n(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!a(t))throw TypeError(\"listener must be a function\");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var r,i,o,s;if(!a(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||a(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(n(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(a(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},\"./node_modules/url-toolkit/src/url-toolkit.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var a,n,i,o,s;a=/^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/,n=/^([^\\/?#]*)(.*)$/,i=/(?:\\/|^)\\.(?=\\/)/g,o=/(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var a=s.parseURL(e);if(!a)throw new Error(\"Error trying to parse base URL.\");return a.path=s.normalizePath(a.path),s.buildURLFromParts(a)}var i=s.parseURL(t);if(!i)throw new Error(\"Error trying to parse relative URL.\");if(i.scheme)return r.alwaysNormalize?(i.path=s.normalizePath(i.path),s.buildURLFromParts(i)):t;var o=s.parseURL(e);if(!o)throw new Error(\"Error trying to parse base URL.\");if(!o.netLoc&&o.path&&\"/\"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path=\"/\");var u={scheme:o.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=o.netLoc,\"/\"!==i.path[0]))if(i.path){var d=o.path,c=d.substring(0,d.lastIndexOf(\"/\")+1)+i.path;u.path=s.normalizePath(c)}else u.path=o.path,i.params||(u.params=o.params,i.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(i.path):i.path),s.buildURLFromParts(u)},parseURL:function(e){var t=a.exec(e);return t?{scheme:t[1]||\"\",netLoc:t[2]||\"\",path:t[3]||\"\",params:t[4]||\"\",query:t[5]||\"\",fragment:t[6]||\"\"}:null},normalizePath:function(e){for(e=e.split(\"\").reverse().join(\"\").replace(i,\"\");e.length!==(e=e.replace(o,\"\")).length;);return e.split(\"\").reverse().join(\"\")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},\"./node_modules/webworkify-webpack/index.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/webworkify-webpack/index.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function a(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"/\",r.oe=function(e){throw console.error(e),e};var a=r(r.s=ENTRY_MODULE);return a.default||a}var n=\"[\\\\.|\\\\-|\\\\+|\\\\w|/|@]+\",i=\"\\\\((/\\\\*.*?\\\\*/)?s?.*?(\"+n+\").*?\\\\)\";function o(e){return(e+\"\").replace(/[.?*+^$[\\]\\\\(){}|-]/g,\"\\\\$&\")}function s(e,t,a){var s={};s[a]=[];var l=t.toString(),u=l.match(/^function\\s?\\(\\w+,\\s*\\w+,\\s*(\\w+)\\)/);if(!u)return s;for(var d,c=u[1],f=new RegExp(\"(\\\\\\\\n|\\\\W)\"+o(c)+i,\"g\");d=f.exec(l);)\"dll-reference\"!==d[3]&&s[a].push(d[3]);for(f=new RegExp(\"\\\\(\"+o(c)+'\\\\(\"(dll-reference\\\\s('+n+'))\"\\\\)\\\\)'+i,\"g\");d=f.exec(l);)e[d[2]]||(s[a].push(d[1]),e[d[2]]=r(d[1]).m),s[d[2]]=s[d[2]]||[],s[d[2]].push(d[4]);for(var h,p=Object.keys(s),v=0;v<p.length;v++)for(var g=0;g<s[p[v]].length;g++)h=s[p[v]][g],isNaN(1*h)||(s[p[v]][g]=1*s[p[v]][g]);return s}function l(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}e.exports=function(e,t){t=t||{};var n={main:r.m},i=t.all?{main:Object.keys(n.main)}:function(e,t){for(var r={main:[t]},a={main:[]},n={main:{}};l(r);)for(var i=Object.keys(r),o=0;o<i.length;o++){var u=i[o],d=r[u].pop();if(n[u]=n[u]||{},!n[u][d]&&e[u][d]){n[u][d]=!0,a[u]=a[u]||[],a[u].push(d);for(var c=s(e,e[u][d],u),f=Object.keys(c),h=0;h<f.length;h++)r[f[h]]=r[f[h]]||[],r[f[h]]=r[f[h]].concat(c[f[h]])}}return a}(n,e),o=\"\";Object.keys(i).filter(function(e){return\"main\"!==e}).forEach(function(e){for(var t=0;i[e][t];)t++;i[e].push(t),n[e][t]=\"(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })\",o=o+\"var \"+e+\" = (\"+a.toString().replace(\"ENTRY_MODULE\",JSON.stringify(t))+\")({\"+i[e].map(function(t){return JSON.stringify(t)+\": \"+n[e][t].toString()}).join(\",\")+\"});\\n\"}),o=o+\"new ((\"+a.toString().replace(\"ENTRY_MODULE\",JSON.stringify(e))+\")({\"+i.main.map(function(e){return JSON.stringify(e)+\": \"+n.main[e].toString()}).join(\",\")+\"}))(self);\";var u=new window.Blob([o],{type:\"text/javascript\"});if(t.bare)return u;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(d);return c.objectURL=d,c}},\"./src/config.js\":\n/*!***********************!*\\\n  !*** ./src/config.js ***!\n  \\***********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./controller/abr-controller */\"./src/controller/abr-controller.js\"),n=r(/*! ./controller/buffer-controller */\"./src/controller/buffer-controller.js\"),i=r(/*! ./controller/cap-level-controller */\"./src/controller/cap-level-controller.js\"),o=r(/*! ./controller/fps-controller */\"./src/controller/fps-controller.js\"),s=r(/*! ./utils/xhr-loader */\"./src/utils/xhr-loader.js\"),l=r(/*! ./controller/audio-track-controller */\"./src/controller/audio-track-controller.js\"),u=r(/*! ./controller/audio-stream-controller */\"./src/controller/audio-stream-controller.js\"),d=r(/*! ./utils/cues */\"./src/utils/cues.js\"),c=r(/*! ./controller/timeline-controller */\"./src/controller/timeline-controller.js\"),f=r(/*! ./controller/subtitle-track-controller */\"./src/controller/subtitle-track-controller.js\"),h=r(/*! ./controller/subtitle-stream-controller */\"./src/controller/subtitle-stream-controller.js\"),p=r(/*! ./controller/eme-controller */\"./src/controller/eme-controller.js\"),v=r(/*! ./utils/mediakeys-helper */\"./src/utils/mediakeys-helper.js\");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:a.default,bufferController:n.default,capLevelController:i.default,fpsController:o.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:v.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=f.default,t.hlsDefaultConfig.timelineController=c.default,t.hlsDefaultConfig.cueHandler=d,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label=\"English\",t.hlsDefaultConfig.captionsTextTrack1LanguageCode=\"en\",t.hlsDefaultConfig.captionsTextTrack2Label=\"Spanish\",t.hlsDefaultConfig.captionsTextTrack2LanguageCode=\"es\",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=p.default},\"./src/controller/abr-controller.js\":\n/*!******************************************!*\\\n  !*** ./src/controller/abr-controller.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),l=r(/*! ../errors */\"./src/errors.js\"),u=r(/*! ../utils/logger */\"./src/utils/logger.js\"),d=r(/*! ../utils/ewma-bandwidth-estimator */\"./src/utils/ewma-bandwidth-estimator.js\"),c=window.performance,f=function(t){function r(e){var r=t.call(this,e,i.default.FRAG_LOADING,i.default.FRAG_LOADED,i.default.FRAG_BUFFERED,i.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return n(r,t),r.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},r.prototype.onFragLoading=function(e){var t=e.frag;if(\"main\"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,a=r.config,n=t.level,i=void 0,o=void 0;r.levels[n].details.live?(i=a.abrEwmaFastLive,o=a.abrEwmaSlowLive):(i=a.abrEwmaFastVoD,o=a.abrEwmaSlowVoD),this._bwEstimator=new d.default(r,o,i,a.abrEwmaDefaultEstimate)}},r.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var a=r.loader,n=e.minAutoLevel;if(!a||a.stats&&a.stats.aborted)return u.logger.warn(\"frag loader destroy or aborted, disarm abandonRules\"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=a.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var l=c.now()-o.trequest,d=Math.abs(t.playbackRate);if(l>500*r.duration/d){var f=e.levels,h=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/l),p=f[r.level],v=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,g=o.total?o.total:Math.max(o.loaded,Math.round(r.duration*v/8)),y=t.currentTime,m=(g-o.loaded)/h,b=(s.BufferHelper.bufferInfo(t,y,e.config.maxBufferHole).end-y)/d;if(b<2*r.duration/d&&m>b){var E=void 0,_=void 0;for(_=r.level-1;_>n;_--){var S=f[_].realBitrate?Math.max(f[_].realBitrate,f[_].bitrate):f[_].bitrate;if((E=r.duration*S/(6.4*h))<b)break}E<m&&(u.logger.warn(\"loading too slow, abort fragment loading and switch to level \"+_+\":fragLoadedDelay[\"+_+\"]<fragLoadedDelay[\"+(r.level-1)+\"];bufferStarvationDelay:\"+E.toFixed(1)+\"<\"+m.toFixed(1)+\":\"+b.toFixed(1)),e.nextLoadLevel=_,this._bwEstimator.sample(l,o.loaded),a.abort(),this.clearTimer(),e.trigger(i.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:o}))}}}}},r.prototype.onFragLoaded=function(t){var r=t.frag;if(\"main\"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=this.hls.levels[r.level],n=(a.loaded?a.loaded.bytes:0)+t.stats.loaded,i=(a.loaded?a.loaded.duration:0)+t.frag.duration;a.loaded={bytes:n,duration:i},a.realBitrate=Math.round(8*n/i)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},r.prototype.onFragBuffered=function(t){var r=t.stats,a=t.frag;if(!0!==r.aborted&&\"main\"===a.type&&e.isFinite(a.sn)&&(!a.bitrateTest||r.tload===r.tbuffered)){var n=r.tparsed-r.trequest;u.logger.log(\"latency/loading/parsing/append/kbps:\"+Math.round(r.tfirst-r.trequest)+\"/\"+Math.round(r.tload-r.tfirst)+\"/\"+Math.round(r.tparsed-r.tload)+\"/\"+Math.round(r.tbuffered-r.tparsed)+\"/\"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(n,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),a.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},r.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(r.prototype,\"nextAutoLevel\",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"_nextABRAutoLevel\",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,a=e.config,n=e.minAutoLevel,i=e.media,o=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,d=i?i.currentTime:0,c=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():a.abrEwmaDefaultEstimate,h=(s.BufferHelper.bufferInfo(i,d,a.maxBufferHole).end-d)/c,p=this._findBestLevel(o,l,f,n,t,h,a.abrBandWidthFactor,a.abrBandWidthUpFactor,r);if(p>=0)return p;u.logger.trace(\"rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering\");var v=l?Math.min(l,a.maxStarvationDelay):a.maxStarvationDelay,g=a.abrBandWidthFactor,y=a.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m)v=(l?Math.min(l,a.maxLoadingDelay):a.maxLoadingDelay)-m,u.logger.trace(\"bitrate test took \"+Math.round(1e3*m)+\"ms, set first fragment max fetchDuration to \"+Math.round(1e3*v)+\" ms\"),g=y=1}return p=this._findBestLevel(o,l,f,n,t,h+v,g,y,r),Math.max(p,0)},enumerable:!0,configurable:!0}),r.prototype._findBestLevel=function(e,t,r,a,n,i,o,s,l){for(var d=n;d>=a;d--){var c=l[d];if(c){var f=c.details,h=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,v=void 0;v=d<=e?o*r:s*r;var g=l[d].realBitrate?Math.max(l[d].realBitrate,l[d].bitrate):l[d].bitrate,y=g*h/v;if(u.logger.trace(\"level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: \"+d+\"/\"+Math.round(v)+\"/\"+g+\"/\"+h+\"/\"+i+\"/\"+y),v>g&&(!y||p&&!this.bitrateTestDelay||y<i))return d}}return-1},r}(o.default);t.default=f}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/audio-stream-controller.js\":\n/*!***************************************************!*\\\n  !*** ./src/controller/audio-stream-controller.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../utils/binary-search */\"./src/utils/binary-search.js\"),o=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),s=r(/*! ../demux/demuxer */\"./src/demux/demuxer.js\"),l=r(/*! ../events */\"./src/events.js\"),u=r(/*! ./level-helper */\"./src/controller/level-helper.js\"),d=r(/*! ../utils/time-ranges */\"./src/utils/time-ranges.js\"),c=r(/*! ../errors */\"./src/errors.js\"),f=r(/*! ../utils/logger */\"./src/utils/logger.js\"),h=r(/*! ../utils/discontinuities */\"./src/utils/discontinuities.js\"),p=r(/*! ./fragment-tracker */\"./src/controller/fragment-tracker.js\"),v=r(/*! ../loader/fragment */\"./src/loader/fragment.js\"),g=r(/*! ./base-stream-controller */\"./src/controller/base-stream-controller.js\"),y=window.performance,m=function(t){function r(e,r){var a=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return a.fragmentTracker=r,a.config=e.config,a.audioCodecSwap=!1,a._state=g.State.STOPPED,a.initPTS=[],a.waitingFragment=null,a.videoTrackCC=null,a}return n(r,t),r.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,a=e.initPTS;\"main\"===t&&(this.initPTS[r]=a,this.videoTrackCC=r,f.logger.log(\"InitPTS for cc: \"+r+\" found from video track: \"+a),this.state===g.State.WAITING_INIT_PTS&&this.tick())},r.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(f.logger.log(\"audio:override startPosition with lastCurrentTime @\"+t.toFixed(3)),this.state=g.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=g.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=g.State.STOPPED},Object.defineProperty(r.prototype,\"state\",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log(\"audio stream:\"+t+\"->\"+e)}},enumerable:!0,configurable:!0}),r.prototype.doTick=function(){var t,r,a,n=this.hls,s=n.config;switch(this.state){case g.State.ERROR:case g.State.PAUSED:case g.State.BUFFER_FLUSHING:break;case g.State.STARTING:this.state=g.State.WAITING_TRACK,this.loadedmetadata=!1;break;case g.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var d=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,v=o.BufferHelper.bufferInfo(d,t,s.maxBufferHole),m=o.BufferHelper.bufferInfo(c,t,s.maxBufferHole),b=v.len,E=v.end,_=this.fragPrevious,S=Math.min(s.maxBufferLength,s.maxMaxBufferLength),T=Math.max(S,m.len),k=this.audioSwitch,A=this.trackId;if((b<T||k)&&A<u.length){if(void 0===(a=u[A].details)){this.state=g.State.WAITING_TRACK;break}if(!k&&this._streamEnded(v,a))return this.hls.trigger(l.default.BUFFER_EOS,{type:\"audio\"}),void(this.state=g.State.ENDED);var R=a.fragments,w=R.length,P=R[0].start,D=R[w-1].start+R[w-1].duration,C=void 0;if(k)if(a.live&&!a.PTSKnown)f.logger.log(\"switching audiotrack, live stream, unknown PTS,load first fragment\"),E=0;else if(E=t,a.PTSKnown&&t<P){if(!(v.end>P||v.nextStart))return;f.logger.log(\"alt audio track ahead of main track, seek to start of alt audio track\"),this.media.currentTime=P+.05}if(a.initSegment&&!a.initSegment.data)C=a.initSegment;else if(E<=P){if(C=R[0],null!==this.videoTrackCC&&C.cc!==this.videoTrackCC&&(C=h.findFragWithCC(R,this.videoTrackCC)),a.live&&C.loadIdx&&C.loadIdx===this.fragLoadIdx){var O=v.nextStart?v.nextStart:P;return f.logger.log(\"no alt audio available @currentTime:\"+this.media.currentTime+\", seeking @\"+(O+.05)),void(this.media.currentTime=O+.05)}}else{var L=void 0,I=s.maxFragLookUpTolerance,x=_?R[_.sn-R[0].sn+1]:void 0,M=function(e){var t=Math.min(I,e.duration);return e.start+e.duration-t<=E?1:e.start-t>E&&e.start?-1:0};E<D?(E>D-I&&(I=0),L=x&&!M(x)?x:i.default.search(R,M)):L=R[w-1],L&&(C=L,P=L.start,_&&C.level===_.level&&C.sn===_.sn&&(C.sn<a.endSN?(C=R[C.sn+1-a.startSN],f.logger.log(\"SN just loaded, load next one: \"+C.sn)):C=null))}C&&(C.encrypted?(f.logger.log(\"Loading key for \"+C.sn+\" of [\"+a.startSN+\" ,\"+a.endSN+\"],track \"+A),this.state=g.State.KEY_LOADING,n.trigger(l.default.KEY_LOADING,{frag:C})):(f.logger.log(\"Loading \"+C.sn+\", cc: \"+C.cc+\" of [\"+a.startSN+\" ,\"+a.endSN+\"],track \"+A+\", currentTime:\"+t+\",bufferEnd:\"+E.toFixed(3)),this.fragCurrent=C,(k||this.fragmentTracker.getState(C)===p.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(C.sn)&&(this.nextLoadPosition=C.start+C.duration),n.trigger(l.default.FRAG_LOADING,{frag:C}),this.state=g.State.FRAG_LOADING)))}break;case g.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=g.State.IDLE);break;case g.State.FRAG_LOADING_WAITING_RETRY:var F=y.now(),N=this.retryDate,j=(d=this.media)&&d.seeking;(!N||F>=N||j)&&(f.logger.log(\"audioStreamController: retryDate reached, switch back to IDLE state\"),this.state=g.State.IDLE);break;case g.State.WAITING_INIT_PTS:var B=this.videoTrackCC;if(void 0===this.initPTS[B])break;var U=this.waitingFragment;if(U){var G=U.frag.cc;B!==G?(r=this.tracks[this.trackId]).details&&r.details.live&&(f.logger.warn(\"Waiting fragment CC (\"+G+\") does not match video track CC (\"+B+\")\"),this.waitingFragment=null,this.state=g.State.IDLE):(this.state=g.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=g.State.IDLE;break;case g.State.STOPPED:case g.State.FRAG_LOADING:case g.State.PARSING:case g.State.PARSED:case g.State.ENDED:}},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\"seeking\",this.onvseeking),t.addEventListener(\"ended\",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(f.logger.log(\"MSE detaching and video ended, reset startPosition\"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener(\"seeking\",this.onvseeking),e.removeEventListener(\"ended\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onAudioTracksUpdated=function(e){f.logger.log(\"audio tracks updated\"),this.tracks=e.audioTracks},r.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=g.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=g.State.IDLE),this.tick()},r.prototype.onAudioTrackLoaded=function(t){var r=t.details,a=t.id,n=this.tracks[a],i=r.totalduration,o=0;if(f.logger.log(\"track \"+a+\" loaded [\"+r.startSN+\",\"+r.endSN+\"],duration:\"+i),r.live){var s=n.details;s&&r.fragments.length>0?(u.mergeDetails(s,r),o=r.fragments[0].start,r.PTSKnown?f.logger.log(\"live audio playlist sliding:\"+o.toFixed(3)):f.logger.log(\"live audio playlist - outdated PTS, unknown sliding\")):(r.PTSKnown=!1,f.logger.log(\"live audio playlist - first load, unknown sliding\"))}else r.PTSKnown=!1;if(n.details=r,!this.startFragRequested){if(-1===this.startPosition){var l=r.startTimeOffset;e.isFinite(l)?(f.logger.log(\"start time offset found in playlist, adjust startPosition to \"+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===g.State.WAITING_TRACK&&(this.state=g.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===g.State.KEY_LOADING&&(this.state=g.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===g.State.FRAG_LOADING&&t&&\"audio\"===r.type&&r.level===t.level&&r.sn===t.sn){var a=this.tracks[this.trackId],n=a.details,i=n.totalduration,o=t.level,u=t.sn,d=t.cc,c=this.config.defaultAudioCodec||a.audioCodec||\"mp4a.40.2\",h=this.stats=e.stats;if(\"initSegment\"===u)this.state=g.State.IDLE,h.tparsed=h.tbuffered=y.now(),n.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:h,frag:t,id:\"audio\"}),this.tick();else{this.state=g.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,\"audio\"));var p=this.initPTS[d],v=n.initSegment?n.initSegment.data:[];if(n.initSegment||void 0!==p){this.pendingBuffering=!0,f.logger.log(\"Demuxing \"+u+\" of [\"+n.startSN+\" ,\"+n.endSN+\"],track \"+o);this.demuxer.push(e.payload,v,c,null,t,i,!1,p)}else f.logger.log(\"unknown video PTS for continuity counter \"+d+\", waiting for video PTS before demuxing audio frag \"+u+\" of [\"+n.startSN+\" ,\"+n.endSN+\"],track \"+o),this.waitingFragment=e,this.state=g.State.WAITING_INIT_PTS}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&\"audio\"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===g.State.PARSING){var a=e.tracks,n=void 0;if(a.video&&delete a.video,n=a.audio){n.levelCodec=n.codec,n.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,a),f.logger.log(\"audio track:audio,container:\"+n.container+\",codecs[level/parsed]=[\"+n.levelCodec+\"/\"+n.codec+\"]\");var i=n.initSegment;if(i){var o={type:\"audio\",data:i,parent:\"audio\",content:\"initSegment\"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,o))}this.tick()}}},r.prototype.onFragParsingData=function(t){var r=this,a=this.fragCurrent,n=t.frag;if(a&&\"audio\"===t.id&&\"audio\"===t.type&&n.sn===a.sn&&n.level===a.level&&this.state===g.State.PARSING){var i=this.trackId,o=this.tracks[i],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+a.duration,t.endDTS=t.startDTS+a.duration),a.addElementaryStream(v.default.ElementaryStreamTypes.AUDIO),f.logger.log(\"parsed \"+t.type+\",PTS:[\"+t.startPTS.toFixed(3)+\",\"+t.endPTS.toFixed(3)+\"],DTS:[\"+t.startDTS.toFixed(3)+\"/\"+t.endDTS.toFixed(3)+\"],nb:\"+t.nb),u.updateFragPTSDTS(o.details,a,t.startPTS,t.endPTS);var d=this.audioSwitch,h=this.media,p=!1;if(d&&h)if(h.readyState){var y=h.currentTime;f.logger.log(\"switching audio track : currentTime:\"+y),y>=t.startPTS&&(f.logger.log(\"switching audio track : flushing all audio\"),this.state=g.State.BUFFER_FLUSHING,s.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:\"audio\"}),p=!0,this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i}))}else this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i});var m=this.pendingData;if(!m)return f.logger.warn(\"Apparently attempt to enqueue media payload without codec initialization data upfront\"),void s.trigger(l.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:\"audio\",content:\"data\"})}),!p&&m.length&&(m.forEach(function(e){r.state===g.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(l.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&\"audio\"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===g.State.PARSING&&(this.stats.tparsed=y.now(),this.state=g.State.PARSED,this._checkAppendedParsed())},r.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},r.prototype.onBufferAppended=function(e){if(\"audio\"===e.parent){var t=this.state;t!==g.State.PARSING&&t!==g.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==g.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=y.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:\"audio\"});var a=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log(\"audio buffered : \"+d.default.toString(a.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=g.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag;if(!r||\"audio\"===r.type)switch(t.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var a=t.frag;if(a&&\"audio\"!==a.type)break;if(!t.fatal){var n=this.fragLoadError;if(n?n++:n=1,n<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=n;var i=Math.min(Math.pow(2,n-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);f.logger.warn(\"AudioStreamController: frag loading failed, retry in \"+i+\" ms\"),this.retryDate=y.now()+i,this.state=g.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error(\"AudioStreamController: \"+t.details+\" reaches max retry, redispatch as fatal ...\"),t.fatal=!0,this.state=g.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==g.State.ERROR&&(this.state=t.fatal?g.State.ERROR:g.State.IDLE,f.logger.warn(\"AudioStreamController: \"+t.details+\" while loading frag, now switching to \"+this.state+\" state ...\"));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if(\"audio\"===t.parent&&(this.state===g.State.PARSING||this.state===g.State.PARSED)){var s,u=this.mediaBuffer,d=this.media.currentTime;if(u&&o.BufferHelper.isBuffered(u,d)&&o.BufferHelper.isBuffered(u,d+.5))(s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,f.logger.warn(\"AudioStreamController: reduce max buffer length to \"+s.maxMaxBufferLength+\"s\")),this.state=g.State.IDLE;else f.logger.warn(\"AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer\"),this.fragCurrent=null,this.state=g.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:\"audio\"})}}},r.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log(\"AudioStreamController: appending pending audio data after buffer flushed\"),t.forEach(function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=g.State.PARSED):(this.state=g.State.IDLE,this.fragPrevious=null,this.tick())},r}(g.default);t.default=m}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/audio-track-controller.js\":\n/*!**************************************************!*\\\n  !*** ./src/controller/audio-track-controller.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../task-loop */\"./src/task-loop.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=r(/*! ../errors */\"./src/errors.js\"),u=function(e){function t(t){var r=e.call(this,t,i.default.MANIFEST_LOADING,i.default.MANIFEST_PARSED,i.default.AUDIO_TRACK_LOADED,i.default.AUDIO_TRACK_SWITCHED,i.default.LEVEL_LOADED,i.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return n(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(i.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn(\"Invalid audio track id:\",e.id);else{if(s.logger.log(\"audioTrack \"+e.id+\" loaded\"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn(\"Network failure on audio-track id:\",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,\"audioTracks\",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"audioTrack\",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug(\"Same id as current audio-track passed, and track details available -> no-op\");else if(e<0||e>=this.tracks.length)s.logger.warn(\"Invalid id passed to audio-track controller\");else{var t=this.tracks[e];s.logger.log(\"Now switching to audio-track index \"+e),this.clearInterval(),this._trackId=e;var r=t.url,a=t.type,n=t.id;this.hls.trigger(i.default.AUDIO_TRACK_SWITCHING,{id:n,type:a,url:r}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],a=null;if(r&&(a=r.name),this._selectDefaultTrack){var n=t.filter(function(e){return e.default});n.length?t=n:s.logger.warn(\"No default audio tracks defined\")}var o=!1,u=function(){t.forEach(function(t){o||e.audioGroupId&&t.groupId!==e.audioGroupId||a&&a!==t.name||(e._setAudioTrack(t.id),o=!0)})};u(),o||(a=null,u()),o||(s.logger.error(\"No track found for running audio group-ID: \"+this.audioGroupId),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;s.logger.log(\"loading audio-track playlist for id: \"+r),this.hls.trigger(i.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log(\"trying to update audio-track \"+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,a=t.language,n=t.groupId;s.logger.warn(\"Loading failed on audio track id: \"+e+\", group-id: \"+n+', name/language: \"'+r+'\" / \"'+a+'\"');for(var i=e,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===r){i=o;break}}i!==e?(s.logger.log(\"Attempting audio-track fallback id:\",i,\"group-id:\",this.tracks[i].groupId),this._setAudioTrack(i)):s.logger.warn('No fallback audio-track found for name/language: \"'+r+'\" / \"'+a+'\"')},t}(o.default);t.default=u},\"./src/controller/base-stream-controller.js\":\n/*!**************************************************!*\\\n  !*** ./src/controller/base-stream-controller.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../task-loop */\"./src/task-loop.js\"),o=r(/*! ./fragment-tracker */\"./src/controller/fragment-tracker.js\"),s=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\");t.State={STOPPED:\"STOPPED\",STARTING:\"STARTING\",IDLE:\"IDLE\",PAUSED:\"PAUSED\",KEY_LOADING:\"KEY_LOADING\",FRAG_LOADING:\"FRAG_LOADING\",FRAG_LOADING_WAITING_RETRY:\"FRAG_LOADING_WAITING_RETRY\",WAITING_TRACK:\"WAITING_TRACK\",PARSING:\"PARSING\",PARSED:\"PARSED\",BUFFER_FLUSHING:\"BUFFER_FLUSHING\",ENDED:\"ENDED\",ERROR:\"ERROR\",WAITING_INIT_PTS:\"WAITING_INIT_PTS\",WAITING_LEVEL:\"WAITING_LEVEL\"};var u=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return n(a,r),a.prototype.doTick=function(){},a.prototype.startLoad=function(){},a.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},a.prototype._streamEnded=function(e,t){var r=this.fragCurrent,a=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var n=a.getState(r);return n===o.FragmentState.PARTIAL||n===o.FragmentState.OK}return!1},a.prototype.onMediaSeeking=function(){var r=this.config,a=this.media,n=this.mediaBuffer,i=this.state,o=a?a.currentTime:null,u=s.BufferHelper.bufferInfo(n||a,o,this.config.maxBufferHole);if(e.isFinite(o)&&l.logger.log(\"media seeking to \"+o.toFixed(3)),i===t.State.FRAG_LOADING){var d=this.fragCurrent;if(0===u.len&&d){var c=r.maxFragLookUpTolerance,f=d.start-c,h=d.start+d.duration+c;o<f||o>h?(d.loader&&(l.logger.log(\"seeking outside of buffer while fragment load in progress, cancel fragment load\"),d.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log(\"seeking outside of buffer but within currently loaded fragment range\")}}else i===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);a&&(this.lastCurrentTime=o),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=o),this.tick()},a.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},a.prototype.onHandlerDestroying=function(){this.stopLoad(),r.prototype.onHandlerDestroying.call(this)},a.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},a}(i.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/buffer-controller.js\":\n/*!*********************************************!*\\\n  !*** ./src/controller/buffer-controller.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=r(/*! ../errors */\"./src/errors.js\"),u=r(/*! ../utils/mediasource-helper */\"./src/utils/mediasource-helper.js\").getMediaSource(),d=function(t){function r(e){var r=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_RESET,i.default.BUFFER_APPENDING,i.default.BUFFER_CODECS,i.default.BUFFER_EOS,i.default.BUFFER_FLUSHING,i.default.LEVEL_PTS_UPDATED,i.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return n(r,t),r.prototype.destroy=function(){o.default.prototype.destroy.call(this)},r.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if(\"audio\"===t&&r&&\"audio/mpeg\"===r.container){var a=this.sourceBuffer.audio;if(Math.abs(a.timestampOffset-e.start)>.1){var n=a.updating;try{a.abort()}catch(i){s.logger.warn(\"can not abort audio buffer: \"+i)}n?this.audioTimestampOffset=e.start:(s.logger.warn(\"change mpeg audio timestamp offset from \"+a.timestampOffset+\" to \"+e.start),a.timestampOffset=e.start)}}},r.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+\" bufferCodec event(s) expected\")},r.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener(\"sourceopen\",this.onmso),r.addEventListener(\"sourceended\",this.onmse),r.addEventListener(\"sourceclose\",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},r.prototype.onMediaDetaching=function(){s.logger.log(\"media source detaching\");var e=this.mediaSource;if(e){if(\"open\"===e.readyState)try{e.endOfStream()}catch(t){s.logger.warn(\"onMediaDetaching:\"+t.message+\" while calling endOfStream\")}e.removeEventListener(\"sourceopen\",this.onmso),e.removeEventListener(\"sourceended\",this.onmse),e.removeEventListener(\"sourceclose\",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute(\"src\"),this.media.load()):s.logger.warn(\"media.src was changed by a third party - skip cleanup\")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(i.default.MEDIA_DETACHED)},r.prototype.onMediaSourceOpen=function(){s.logger.log(\"media source opened\"),this.hls.trigger(i.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener(\"sourceopen\",this.onmso),this.checkPendingTracks()},r.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.prototype.onMediaSourceClose=function(){s.logger.log(\"media source closed\")},r.prototype.onMediaSourceEnded=function(){s.logger.log(\"media source ended\")},r.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn(\"change mpeg audio timestamp offset from \"+e.timestampOffset+\" to \"+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0),a={},n=this.sourceBuffer;for(var o in n)a[o]=n[o].buffered;this.hls.trigger(i.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:a}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},r.prototype.onSBUpdateError=function(e){s.logger.error(\"sourceBuffer error:\",e),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener(\"updateend\",this.onsbue),r.removeEventListener(\"error\",this.onsbe)}catch(a){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(r){t.pendingTracks[r]=e[r]});var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&\"open\"===r.readyState&&this.checkPendingTracks()}},r.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var a in e)if(!t[a]){var n=e[a],o=n.levelCodec||n.codec,u=n.container+\";codecs=\"+o;s.logger.log(\"creating sourceBuffer(\"+u+\")\");try{var d=t[a]=r.addSourceBuffer(u);d.addEventListener(\"updateend\",this.onsbue),d.addEventListener(\"error\",this.onsbe),this.tracks[a]={codec:o,container:n.container},n.buffer=d}catch(c){s.logger.error(\"error while trying to add sourceBuffer:\"+c.message),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:c,mimeType:u})}}this.hls.trigger(i.default.BUFFER_CREATED,{tracks:e})},r.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.prototype.onBufferAppendFail=function(e){s.logger.error(\"sourceBuffer error:\",e.event),this.hls.trigger(i.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var a in t)r&&a!==r||t[a].ended||(t[a].ended=!0,s.logger.log(a+\" sourceBuffer now EOS\"));this.checkEos()},r.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&\"open\"===t.readyState){for(var r in e){var a=e[r];if(!a.ended)return;if(a.updating)return void(this._needsEos=!0)}s.logger.log(\"all media data are available, signal endOfStream() to MediaSource and stop loading fragment\");try{t.endOfStream()}catch(n){s.logger.warn(\"exception while calling mediaSource.endOfStream()\")}this._needsEos=!1}else this._needsEos=!1},r.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},r.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,a=Object.keys(r),n=t-Math.max(e,this._levelTargetDuration),i=a.length-1;i>=0;i--){var o=a[i],s=r[o].buffered;s.length>0&&n>s.start(0)&&this.removeBufferRange(o,r[o],0,n)}}},r.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},r.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&\"open\"===this.mediaSource.readyState){for(var a in this.sourceBuffer)if(!0===this.sourceBuffer[a].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(s.logger.log(\"Media Source duration is set to Infinity\"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log(\"Updating Media Source duration to \"+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var a in r)t+=r[a].buffered.length}catch(n){s.logger.error(\"error while accessing sourceBuffer.buffered\")}this.appended=t,this.hls.trigger(i.default.BUFFER_FLUSHED)}},r.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void s.logger.error(\"trying to append although a media error occured, flush segment and abort\");if(this.appending)return;if(t&&t.length){var a=t.shift();try{var n=r[a.type];n?n.updating?t.unshift(a):(n.ended=!1,this.parent=a.parent,n.appendBuffer(a.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(u){s.logger.error(\"error while trying to append buffer:\"+u.message),t.unshift(a);var o={type:l.ErrorTypes.MEDIA_ERROR,parent:a.parent};22!==u.code?(this.appendError?this.appendError++:this.appendError=1,o.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log(\"fail \"+e.config.appendErrorMaxRetry+\" times to append segment in sourceBuffer\"),this.segments=[],o.fatal=!0,e.trigger(i.default.ERROR,o)):(o.fatal=!1,e.trigger(i.default.ERROR,o))):(this.segments=[],o.details=l.ErrorDetails.BUFFER_FULL_ERROR,o.fatal=!1,e.trigger(i.default.ERROR,o))}}}},r.prototype.flushBuffer=function(e,t,r){var a,n=this.sourceBuffer;if(Object.keys(n).length){if(s.logger.log(\"flushBuffer,pos/start/end: \"+this.media.currentTime.toFixed(3)+\"/\"+e+\"/\"+t),this.flushBufferCounter<this.appended){for(var i in n)if(!r||i===r){if((a=n[i]).ended=!1,a.updating)return s.logger.warn(\"cannot flush, sb updating in progress\"),!1;if(this.removeBufferRange(i,a,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn(\"abort flushing too many retries\");s.logger.log(\"buffer flushed\")}return!0},r.prototype.removeBufferRange=function(e,t,r,a){try{for(var n=0;n<t.buffered.length;n++){var i=t.buffered.start(n),o=t.buffered.end(n),l=Math.max(i,r),u=Math.min(o,a);if(Math.min(u,o)-l>.5)return s.logger.log(\"sb remove \"+e+\" [\"+l+\",\"+u+\"], of [\"+i+\",\"+o+\"], pos:\"+this.media.currentTime),t.remove(l,u),!0}}catch(d){s.logger.warn(\"removeBufferRange failed\",d)}return!1},r}(o.default);t.default=d}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/cap-level-controller.js\":\n/*!************************************************!*\\\n  !*** ./src/controller/cap-level-controller.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=function(t){function r(r){var a=t.call(this,r,i.default.FPS_DROP_LEVEL_CAPPING,i.default.MEDIA_ATTACHING,i.default.MANIFEST_PARSED,i.default.BUFFER_CODECS,i.default.MEDIA_DETACHING)||this;return a.autoLevelCapping=e.POSITIVE_INFINITY,a.firstLevel=null,a.levels=[],a.media=null,a.restrictedLevels=[],a.timer=null,a}return n(r,t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onLevelsUpdated=function(e){this.levels=e.levels},r.prototype.onMediaDetaching=function(){this._stopCapping()},r.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},r.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var a=this.levels.filter(function(a,n){return r.isLevelAllowed(n,t.restrictedLevels)&&n<=e});return r.getMaxLevelByMediaSize(a,this.mediaWidth,this.mediaHeight)},r.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(r.prototype,\"mediaWidth\",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"mediaHeight\",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r,\"contentScaleFactor\",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(t){}return e},enumerable:!0,configurable:!0}),r.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var a,n,i=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(a=s,!(n=e[o+1])||a.width!==n.width||a.height!==n.height)){i=o;break}}return i},r}(r(/*! ../event-handler */\"./src/event-handler.js\").default);t.default=o}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/eme-controller.js\":\n/*!******************************************!*\\\n  !*** ./src/controller/eme-controller.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../event-handler */\"./src/event-handler.js\"),o=r(/*! ../events */\"./src/events.js\"),s=r(/*! ../errors */\"./src/errors.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=window.XMLHttpRequest,d=\"com.widevine.alpha\",c=\"com.microsoft.playready\",f=function(e){function t(t){var r=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return n(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case d:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system \"'+e+'\"'),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,r){var a=this,n=function(e,t,r){switch(e){case d:return function(e,t,r){var a={videoCapabilities:[]};return t.forEach(function(e){a.videoCapabilities.push({contentType:'video/mp4; codecs=\"'+e+'\"'})}),[a]}(0,r);default:throw Error(\"Unknown key-system: \"+e)}}(e,0,r);n?(l.logger.log(\"Requesting encrypted media key-system access\"),this.requestMediaKeySystemAccess(e,n).then(function(t){a._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){l.logger.error('Failed to obtain key-system \"'+e+'\" access:',t)})):l.logger.warn(\"Can not create config for key-system (maybe because platform is not supported):\",e)},Object.defineProperty(t.prototype,\"requestMediaKeySystemAccess\",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error(\"No requestMediaKeySystemAccess function configured\");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;l.logger.log('Access for key-system \"'+e+'\" obtained');var a={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(a),t.createMediaKeys().then(function(t){a.mediaKeys=t,l.logger.log('Media-keys created for key-system \"'+e+'\"'),r._onMediaKeysCreated()}).catch(function(e){l.logger.error(\"Failed to create media-keys:\",e)})},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},t.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log(\"New key-system session \"+e.sessionId),e.addEventListener(\"message\",function(r){t._onKeySessionMessage(e,r.message)},!1)},t.prototype._onKeySessionMessage=function(e,t){l.logger.log(\"Got EME message event, creating license request\"),this._requestLicense(t,function(t){l.logger.log(\"Received license data, updating key-session\"),e.update(t)})},t.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using \"'+e+'\" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error(\"Fatal: Media is encrypted but no CDM access or no keys have been obtained yet\"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log(\"Setting keys for encrypted media\"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error(\"Fatal: Media is encrypted but not any key-system access has been obtained yet\"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn(\"Key-Session already initialized but requested again\");else{var r=t.mediaKeysSession;r||(l.logger.error(\"Fatal: Media is encrypted but no key-session existing\"),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var a=this._mediaEncryptionInitDataType,n=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for \"'+a+'\" init data type'),t.mediaKeysSessionInitialized=!0,r.generateRequest(a,n).then(function(){l.logger.debug(\"Key-session generation succeeded\")}).catch(function(t){l.logger.error(\"Error generating key-session request:\",t),e.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},t.prototype._createLicenseXhr=function(e,t,r){var a=new u,n=this._licenseXhrSetup;try{if(n)try{n(a,e)}catch(i){a.open(\"POST\",e,!0),n(a,e)}a.readyState||a.open(\"POST\",e,!0)}catch(i){return l.logger.error(\"Error setting up key-system license XHR\",i),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return a.responseType=\"arraybuffer\",a.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,a,e,t,r),a},t.prototype._onLicenseRequestReadyStageChange=function(e,t,r,a){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log(\"License request succeeded\"),a(e.response);else{if(l.logger.error(\"License Request XHR failed (\"+t+\"). Status: \"+e.status+\" (\"+e.statusText+\")\"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var n=3-this._requestLicenseFailureCount+1;return l.logger.warn(\"Retrying license request, \"+n+\" attempts left\"),void this._requestLicense(r,a)}this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===c?l.logger.error(\"PlayReady is not supported (yet)\"):e.mediaKeySystemDomain===d?r=t:l.logger.error(\"Unsupported key-system:\",e.mediaKeySystemDomain),r},t.prototype._requestLicense=function(e,t){l.logger.log(\"Requesting content license for key-system\");var r=this._mediaKeysList[0];if(!r)return l.logger.error(\"Fatal error: Media is encrypted but no key-system access has been obtained yet\"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var a=this.getLicenseServerUrl(r.mediaKeySystemDomain),n=this._createLicenseXhr(a,e,t);l.logger.log(\"Sending license request to URL: \"+a),n.send(this._generateLicenseRequestChallenge(r,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener(\"encrypted\",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),r=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(d,t,r)}},t}(i.default);t.default=f},\"./src/controller/fps-controller.js\":\n/*!******************************************!*\\\n  !*** ./src/controller/fps-controller.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=window.performance,u=function(e){function t(t){return e.call(this,t,i.default.MEDIA_ATTACHING)||this}return n(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&(\"function\"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var a=l.now();if(t){if(this.lastTime){var n=a-this.lastTime,o=r-this.lastDroppedFrames,u=t-this.lastDecodedFrames,d=1e3*o/n,c=this.hls;if(c.trigger(i.default.FPS_DROP,{currentDropped:o,currentDecoded:u,totalDroppedFrames:r}),d>0&&o>c.config.fpsDroppedMonitoringThreshold*u){var f=c.currentLevel;s.logger.warn(\"drop FPS ratio greater than max allowed value for currentLevel: \"+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(i.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,c.streamController.nextLevelSwitch())}}this.lastTime=a,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(o.default);t.default=u},\"./src/controller/fragment-finders.js\":\n/*!********************************************!*\\\n  !*** ./src/controller/fragment-finders.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/binary-search */\"./src/utils/binary-search.js\");function n(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var a=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-a<=e?1:r.start-a>e&&r.start?-1:0}function i(e,t,r){var a=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-a>e}t.findFragmentByPDT=function(t,r,a){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;a=a||0;for(var n=0;n<t.length;++n){var o=t[n];if(i(r,a,o))return o}return null},t.findFragmentByPTS=function(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var o=e?t[e.sn-t[0].sn+1]:null;return o&&!n(r,i,o)?o:a.default.search(t,n.bind(null,r,i))},t.fragmentWithinToleranceTest=n,t.pdtWithinToleranceTest=i}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/fragment-tracker.js\":\n/*!********************************************!*\\\n  !*** ./src/controller/fragment-tracker.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../event-handler */\"./src/event-handler.js\"),o=r(/*! ../events */\"./src/events.js\");t.FragmentState={NOT_LOADED:\"NOT_LOADED\",APPENDING:\"APPENDING\",PARTIAL:\"PARTIAL\",OK:\"OK\"};var s=function(r){function a(e){var t=r.call(this,e,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return n(a,r),a.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,i.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},a.prototype.getBufferedFrag=function(e,t){var r=this.fragments,a=Object.keys(r).filter(function(a){var n=r[a];if(n.body.type!==t)return!1;if(!n.buffered)return!1;var i=n.body;return i.startPTS<=e&&e<=i.endPTS});if(0===a.length)return null;var n=a.pop();return r[n].body},a.prototype.detectEvictedFragments=function(e,t){var r,a,n=this;Object.keys(this.fragments).forEach(function(i){var o=n.fragments[i];if(!0===o.buffered){var s=o.range[e];if(s){r=s.time;for(var l=0;l<r.length;l++)if(a=r[l],!1===n.isTimeBuffered(a.startPTS,a.endPTS,t)){n.removeFragment(o.body);break}}}})},a.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),a=this.fragments[r];a&&(a.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(e.hasElementaryStream(r)){var n=t.timeRanges[r];a.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,n)}}))},a.prototype.getBufferedTimes=function(e,t,r){for(var a,n,i=[],o=!1,s=0;s<r.length;s++){if(a=r.start(s)-this.bufferPadding,n=r.end(s)+this.bufferPadding,e>=a&&t<=n){i.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<n&&t>a)i.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=a)break}return{time:i,partial:o}},a.prototype.getFragmentKey=function(e){return e.type+\"_\"+e.level+\"_\"+e.urlId+\"_\"+e.sn},a.prototype.getPartialFragment=function(e){var t,r,a,n=this,i=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=n.fragments[s];n.isPartial(l)&&(r=l.body.startPTS-n.bufferPadding,a=l.body.endPTS+n.bufferPadding,e>=r&&e<=a&&(t=Math.min(e-r,a-e),o<=t&&(i=l.body,o=t)))}),i},a.prototype.getState=function(e){var r=this.getFragmentKey(e),a=this.fragments[r],n=t.FragmentState.NOT_LOADED;return void 0!==a&&(n=a.buffered?!0===this.isPartial(a)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),n},a.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},a.prototype.isTimeBuffered=function(e,t,r){for(var a,n,i=0;i<r.length;i++){if(a=r.start(i)-this.bufferPadding,n=r.end(i)+this.bufferPadding,e>=a&&t<=n)return!0;if(t<=a)return!1}return!1},a.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},a.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)})},a.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},a.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},a.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},a.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},a}(i.default);t.FragmentTracker=s}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/gap-controller.js\":\n/*!******************************************!*\\\n  !*** ./src/controller/gap-controller.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),n=r(/*! ../errors */\"./src/errors.js\"),i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../utils/logger */\"./src/utils/logger.js\"),s=function(){function e(e,t,r,a){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=a,this.stallReported=!1}return e.prototype.poll=function(e,t){var r=this.config,n=this.media,i=n.currentTime,s=window.performance.now();if(i!==e)return this.stallReported&&(o.logger.warn(\"playback not stuck anymore @\"+i+\", after \"+Math.round(s-this.stalled)+\"ms\"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(n.ended||!n.buffered.length||n.readyState>2||n.seeking&&a.BufferHelper.isBuffered(n,i))){var l=s-this.stalled,u=a.BufferHelper.bufferInfo(n,i,r.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},e.prototype._tryFixBufferStall=function(e,t){var r=this.config,a=this.fragmentTracker,n=this.media.currentTime,i=a.getPartialFragment(n);i&&this._trySkipBufferHole(i),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn(\"Playback stalling at @\"+r.currentTime+\" due to low buffer\"),t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,a=r.currentTime,s=0,l=0;l<r.buffered.length;l++){var u=r.buffered.start(l);if(a>=s&&a<u)return r.currentTime=Math.max(u,r.currentTime+.1),o.logger.warn(\"skipping hole, adjusting currentTime from \"+a+\" to \"+r.currentTime),this.stalled=null,void t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:\"fragment loaded with buffer holes, seeking from \"+a+\" to \"+r.currentTime,frag:e});s=r.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,a=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=a+s*e.nudgeOffset;o.logger.log(\"adjust currentTime from \"+a+\" to \"+l),r.currentTime=l,t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error(\"still stuck in high buffer @\"+a+\" after \"+e.nudgeMaxRetry+\", raise fatal error\"),t.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=s},\"./src/controller/id3-track-controller.js\":\n/*!************************************************!*\\\n  !*** ./src/controller/id3-track-controller.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../demux/id3 */\"./src/demux/id3.js\"),l=r(/*! ../utils/texttrack-utils */\"./src/utils/texttrack-utils.js\"),u=function(e){function t(t){var r=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return n(t,e),t.prototype.destroy=function(){o.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(\"metadata\"===r.kind&&\"id3\"===r.label)return l.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack(\"metadata\",\"id3\")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode=\"hidden\");for(var a=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<r.length;n++){var i=s.default.getID3Frames(r[n].data);if(i){var o=r[n].pts,l=n<r.length-1?r[n+1].pts:t.endPTS;o===l&&(l+=1e-4);for(var u=0;u<i.length;u++){var d=i[u];if(!s.default.isTimeStampFrame(d)){var c=new a(o,l,\"\");c.value=d,this.id3Track.addCue(c)}}}}},t}(o.default);t.default=u},\"./src/controller/level-controller.js\":\n/*!********************************************!*\\\n  !*** ./src/controller/level-controller.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i,o=r(/*! ../events */\"./src/events.js\"),s=r(/*! ../event-handler */\"./src/event-handler.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=r(/*! ../errors */\"./src/errors.js\"),d=r(/*! ../utils/codecs */\"./src/utils/codecs.js\"),c=r(/*! ./level-helper */\"./src/controller/level-helper.js\"),f=(window.performance,function(e){function t(t){var r=e.call(this,t,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,i=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,r=[],a=[],n={},s=null,f=!1,h=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,f=f||!!e.videoCodec,h=h||!!e.audioCodec,i&&e.audioCodec&&-1!==e.audioCodec.indexOf(\"mp4a.40.34\")&&(e.audioCodec=void 0),(s=n[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,n[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(h=!0,c.addGroupId(s||e,\"audio\",t.AUDIO)),t.SUBTITLES&&c.addGroupId(s||e,\"text\",t.SUBTITLES))}),f&&h&&(r=r.filter(function(e){return!!e.videoCodec})),r=r.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||d.isCodecSupportedInMp4(t,\"audio\"))&&(!r||d.isCodecSupportedInMp4(r,\"video\"))}),e.audioTracks&&(a=e.audioTracks.filter(function(e){return!e.audioCodec||d.isCodecSupportedInMp4(e.audioCodec,\"audio\")})).forEach(function(e,t){e.id=t}),r.length>0){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var p=0;p<r.length;p++)if(r[p].bitrate===t){this._firstLevel=p,l.logger.log(\"manifest loaded,\"+r.length+\" level(s) found, first bitrate:\"+t);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:r,audioTracks:a,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:f,altAudio:a.some(function(e){return!!e.url})})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:\"no level with compatible codecs found in manifest\"})},Object.defineProperty(t.prototype,\"levels\",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"level\",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log(\"switching to level \"+e),this.currentLevelIndex=e;var a=t[e];a.level=e,r.trigger(o.default.LEVEL_SWITCHING,a)}var n=t[e],i=n.details;if(!i||i.live){var s=n.urlId;r.trigger(o.default.LEVEL_LOADING,{url:n.url[s],level:e,id:s})}}else r.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:\"invalid level idx\"})},Object.defineProperty(t.prototype,\"manualLevel\",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstLevel\",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"startLevel\",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,a=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,a=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,a)}},t.prototype.recoverLevel=function(e,t,r,a){var n,i,o,s=this,u=this.hls.config,d=e.details,c=this._levels[t];if(c.loadError++,c.fragmentError=a,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error(\"level controller, cannot recover from \"+d+\" error\"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);i=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},i),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn(\"level controller, \"+d+\", retry in \"+i+\" ms, current retry count is \"+this.levelRetryCount)}(r||a)&&((n=c.url.length)>1&&c.loadError<n?(c.urlId=(c.urlId+1)%n,c.details=void 0,l.logger.warn(\"level controller, \"+d+\" for level \"+t+\": switching to redundant URL-id \"+c.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,l.logger.warn(\"level controller, \"+d+\": switch to \"+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):a&&(l.logger.warn(\"level controller, \"+d+\": reload a fragment\"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&\"main\"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level,a=e.details;if(r===this.currentLevelIndex){var n=this._levels[r];if(n.fragmentError||(n.loadError=0,this.levelRetryCount=0),a.live){var i=c.computeReloadInterval(n.details,a,e.stats.trequest);l.logger.log(\"live playlist, reload in \"+Math.round(i)+\" ms\"),this.timer=setTimeout(function(){return t.loadLevel()},i)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var a=-1,n=0;n<r.audioGroupIds.length;n++)if(r.audioGroupIds[n]===t){a=n;break}a!==r.urlId&&(r.urlId=a,this.startLoad())}},t.prototype.loadLevel=function(){if(l.logger.debug(\"call to loadLevel\"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if(\"object\"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,a=e.url[r];l.logger.log(\"Attempt loading level index \"+t+\" with URL-id \"+r),this.hls.trigger(o.default.LEVEL_LOADING,{url:a,level:t,id:r})}}},Object.defineProperty(t.prototype,\"nextLoadLevel\",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(s.default));t.default=f},\"./src/controller/level-helper.js\":\n/*!****************************************!*\\\n  !*** ./src/controller/level-helper.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/logger */\"./src/utils/logger.js\");function n(t,r,n){var i=t[r],o=t[n],s=o.startPTS;e.isFinite(s)?n>r?(i.duration=s-i.start,i.duration<0&&a.logger.warn(\"negative duration computed for frag \"+i.sn+\",level \"+i.level+\", there should be some duration drift between playlist and fragment!\")):(o.duration=i.start-s,o.duration<0&&a.logger.warn(\"negative duration computed for frag \"+o.sn+\",level \"+o.level+\", there should be some duration drift between playlist and fragment!\")):o.start=n>r?i.start+i.duration:Math.max(i.start-o.duration,0)}function i(t,r,a,i,o,s){var l=a;if(e.isFinite(r.startPTS)){var u=Math.abs(r.startPTS-a);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(u,r.deltaPTS):r.deltaPTS=u,l=Math.max(a,r.startPTS),a=Math.min(a,r.startPTS),i=Math.max(i,r.endPTS),o=Math.min(o,r.startDTS),s=Math.max(s,r.endDTS)}var d=a-r.start;r.start=r.startPTS=a,r.maxStartPTS=l,r.endPTS=i,r.startDTS=o,r.endDTS=s,r.duration=i-a;var c,f,h,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(c=p-t.startSN,(f=t.fragments)[c]=r,h=c;h>0;h--)n(f,h,h-1);for(h=c;h<f.length-1;h++)n(f,h,h+1);return t.PTSKnown=!0,d}function o(e,t,r){if(e&&t)for(var a=Math.max(e.startSN,t.startSN)-t.startSN,n=Math.min(e.endSN,t.endSN)-t.startSN,i=t.startSN-e.startSN,o=a;o<=n;o++){var s=e.fragments[i+o],l=t.fragments[o];if(!s||!l)break;r(s,l,o)}}function s(e,t){var r=t.startSN-e.startSN,a=e.fragments,n=t.fragments;if(!(r<0||r>a.length))for(var i=0;i<n.length;i++)n[i].start+=a[r].start}t.addGroupId=function(e,t,r){switch(t){case\"audio\":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case\"text\":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=n,t.updateFragPTSDTS=i,t.mergeDetails=function(t,r){r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment);var n,l=0;if(o(t,r,function(t,a){l=t.cc-a.cc,e.isFinite(t.startPTS)&&(a.start=a.startPTS=t.startPTS,a.endPTS=t.endPTS,a.duration=t.duration,a.backtracked=t.backtracked,a.dropped=t.dropped,n=a),r.PTSKnown=!0}),r.PTSKnown){if(l){a.logger.log(\"discontinuity sliding from playlist, take drift into account\");for(var u=r.fragments,d=0;d<u.length;d++)u[d].cc+=l}n?i(r,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):s(t,r),r.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function(e,t,r){void 0===r&&(r=0);var a=-1;o(e,t,function(e,t,r){t.start=e.start,a=r});var n=t.fragments;if(a<0)n.forEach(function(e){e.start+=r});else for(var i=a+1;i<n.length;i++)n[i].start=n[i-1].start+n[i-1].duration},t.mapFragmentIntersection=o,t.adjustSliding=s,t.computeReloadInterval=function(e,t,r){var a=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),n=a/2;return e&&t.endSN===e.endSN&&(a=n),r&&(a=Math.max(n,a-(window.performance.now()-r))),Math.round(a)}}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/stream-controller.js\":\n/*!*********************************************!*\\\n  !*** ./src/controller/stream-controller.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../utils/binary-search */\"./src/utils/binary-search.js\"),o=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),s=r(/*! ../demux/demuxer */\"./src/demux/demuxer.js\"),l=r(/*! ../events */\"./src/events.js\"),u=r(/*! ./fragment-tracker */\"./src/controller/fragment-tracker.js\"),d=r(/*! ../loader/fragment */\"./src/loader/fragment.js\"),c=r(/*! ../loader/playlist-loader */\"./src/loader/playlist-loader.js\"),f=r(/*! ./level-helper */\"./src/controller/level-helper.js\"),h=r(/*! ../utils/time-ranges */\"./src/utils/time-ranges.js\"),p=r(/*! ../errors */\"./src/errors.js\"),v=r(/*! ../utils/logger */\"./src/utils/logger.js\"),g=r(/*! ../utils/discontinuities */\"./src/utils/discontinuities.js\"),y=r(/*! ./fragment-finders */\"./src/controller/fragment-finders.js\"),m=r(/*! ./gap-controller */\"./src/controller/gap-controller.js\"),b=r(/*! ./base-stream-controller */\"./src/controller/base-stream-controller.js\"),E=function(t){function r(e,r){var a=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return a.fragmentTracker=r,a.config=e.config,a.audioCodecSwap=!1,a._state=b.State.STOPPED,a.stallReported=!1,a.gapController=null,a}return n(r,t),r.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var a=r.startLevel;-1===a&&(a=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=a,this.loadedmetadata=!1}t>0&&-1===e&&(v.logger.log(\"override startPosition with lastCurrentTime @\"+t.toFixed(3)),e=t),this.state=b.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=b.State.STOPPED},r.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},r.prototype.doTick=function(){switch(this.state){case b.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case b.State.IDLE:this._doTickIdle();break;case b.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=b.State.IDLE);break;case b.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(v.logger.log(\"mediaController: retryDate reached, switch back to IDLE state\"),this.state=b.State.IDLE);break;case b.State.ERROR:case b.State.STOPPED:case b.State.FRAG_LOADING:case b.State.PARSING:case b.State.PARSED:case b.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},r.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var a;a=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var n=e.nextLoadLevel,i=this.levels[n];if(i){var s,u=i.bitrate;s=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var d=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,a,t.maxBufferHole),c=d.len;if(!(c>=s)){v.logger.trace(\"buffer length of \"+c.toFixed(3)+\" is below max of \"+s.toFixed(3)+\". checking for more payload ...\"),this.level=e.nextLoadLevel=n;var f=i.details;if(!f||f.live&&this.levelLastLoaded!==n)this.state=b.State.WAITING_LEVEL;else{if(this._streamEnded(d,f)){var h={};return this.altAudio&&(h.type=\"video\"),this.hls.trigger(l.default.BUFFER_EOS,h),void(this.state=b.State.ENDED)}this._fetchPayloadOrEos(a,d,f)}}}}},r.prototype._fetchPayloadOrEos=function(e,t,r){var a=this.fragPrevious,n=this.level,i=r.fragments,o=i.length;if(0!==o){var s,l=i[0].start,u=i[o-1].start+i[o-1].duration,d=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var c=this.config.initialLiveManifestSize;if(o<c)return void v.logger.warn(\"Can not start playback of a level, reason: not enough fragments \"+o+\" < \"+c);if(null===(s=this._ensureFragmentAtLivePoint(r,d,l,u,a,i,o)))return}else d<l&&(s=i[0]);s||(s=this._findFragment(l,a,o,i,d,u,r)),s&&(s.encrypted?(v.logger.log(\"Loading key for \"+s.sn+\" of [\"+r.startSN+\" ,\"+r.endSN+\"],level \"+n),this._loadKey(s)):(v.logger.log(\"Loading \"+s.sn+\" of [\"+r.startSN+\" ,\"+r.endSN+\"],level \"+n+\", currentTime:\"+e.toFixed(3)+\",bufferEnd:\"+d.toFixed(3)),this._loadFragment(s)))}},r.prototype._ensureFragmentAtLivePoint=function(e,t,r,a,n,o,s){var l,u=this.hls.config,d=this.media,c=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-u.maxFragLookUpTolerance,a-c)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);v.logger.log(\"buffer end: \"+t.toFixed(3)+\" is located too far from the end of live sliding playlist, reset currentTime to : \"+f.toFixed(3)),t=f,d&&d.readyState&&d.duration>f&&(d.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>a&&d&&d.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(n)if(e.hasProgramDateTime)v.logger.log(\"live playlist, switching playlist, load frag with same PDT: \"+n.programDateTime),l=y.findFragmentByPDT(o,n.endProgramDateTime,u.maxFragLookUpTolerance);else{var h=n.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=o[h-e.startSN];n.cc===p.cc&&(l=p,v.logger.log(\"live playlist, switching playlist, load frag with next SN: \"+l.sn))}l||(l=i.default.search(o,function(e){return n.cc-e.cc}))&&v.logger.log(\"live playlist, switching playlist, load frag with same CC: \"+l.sn)}l||(l=o[Math.min(s-1,Math.round(s/2))],v.logger.log(\"live playlist, switching playlist, unknown, load middle frag : \"+l.sn))}return l},r.prototype._findFragment=function(e,t,r,a,n,i,o){var s,l=this.hls.config;if(n<i){var u=n>i-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=y.findFragmentByPTS(t,a,n,u)}else s=a[r-1];if(s){var d=s.sn-o.startSN,c=t&&s.level===t.level,f=a[d-1],h=a[d+1];if(t&&s.sn===t.sn)if(c&&!s.backtracked)if(s.sn<o.endSN){var p=t.deltaPTS;p&&p>l.maxBufferHole&&t.dropped&&d?(s=f,v.logger.warn(\"SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this\")):(s=h,v.logger.log(\"SN just loaded, load next one: \"+s.sn,s))}else s=null;else s.backtracked&&(h&&h.backtracked?(v.logger.warn(\"Already backtracked from fragment \"+h.sn+\", will not backtrack to fragment \"+s.sn+\". Loading fragment \"+h.sn),s=h):(v.logger.warn(\"Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe\"),s.dropped=0,f?(s=f).backtracked=!0:d&&(s=null)))}return s},r.prototype._loadKey=function(e){this.state=b.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},r.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===u.FragmentState.NOT_LOADED||r===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,\"main\")),this.state=b.State.FRAG_LOADING):r===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(r.prototype,\"state\",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,v.logger.log(\"main stream:\"+t+\"->\"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),r.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,c.default.LevelType.MAIN)},Object.defineProperty(r.prototype,\"currentLevel\",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"nextBufferedFrag\",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),r.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(r.prototype,\"nextLevel\",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),r.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),o.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):o.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var a=e;if(a!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:a});var n=a.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:n}),this.fragPlaying=a}}},r.prototype.immediateLevelSwitch=function(){if(v.logger.log(\"immediateLevelSwitch\"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},r.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},r.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,a=void 0,n=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)a=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],s=this.fragLastKbps;a=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((n=this.getBufferedFrag(t.currentTime+a))&&(n=this.followingBufferedFrag(n))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,e.POSITIVE_INFINITY)}}},r.prototype.flushMainBuffer=function(e,t){this.state=b.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type=\"video\"),this.hls.trigger(l.default.BUFFER_FLUSHING,r)},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener(\"seeking\",this.onvseeking),t.addEventListener(\"seeked\",this.onvseeked),t.addEventListener(\"ended\",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new m.default(r,t,this.fragmentTracker,this.hls)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(v.logger.log(\"MSE detaching and video ended, reset startPosition\"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener(\"seeking\",this.onvseeking),e.removeEventListener(\"seeked\",this.onvseeked),e.removeEventListener(\"ended\",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&v.logger.log(\"media seeked to \"+r.toFixed(3)),this.tick()},r.prototype.onManifestLoading=function(){v.logger.log(\"trigger BUFFER_RESET\"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},r.prototype.onManifestParsed=function(e){var t,r=!1,a=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf(\"mp4a.40.2\")&&(r=!0),-1!==t.indexOf(\"mp4a.40.5\")&&(a=!0))}),this.audioCodecSwitch=r&&a,this.audioCodecSwitch&&v.logger.log(\"both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC\"),this.levels=e.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},r.prototype.onLevelLoaded=function(t){var r=t.details,a=t.level,n=this.levels[this.levelLastLoaded],i=this.levels[a],o=r.totalduration,s=0;if(v.logger.log(\"level \"+a+\" loaded [\"+r.startSN+\",\"+r.endSN+\"],duration:\"+o),r.live){var u=i.details;u&&r.fragments.length>0?(f.mergeDetails(u,r),s=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),r.PTSKnown&&e.isFinite(s)?v.logger.log(\"live playlist sliding:\"+s.toFixed(3)):(v.logger.log(\"live playlist - outdated PTS, unknown sliding\"),g.alignStream(this.fragPrevious,n,r))):(v.logger.log(\"live playlist - first load, unknown sliding\"),r.PTSKnown=!1,g.alignStream(this.fragPrevious,n,r))}else r.PTSKnown=!1;if(i.details=r,this.levelLastLoaded=a,this.hls.trigger(l.default.LEVEL_UPDATED,{details:r,level:a}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=r.startTimeOffset;e.isFinite(d)?(d<0&&(v.logger.log(\"negative start time offset \"+d+\", count from end of last fragment\"),d=s+o+d),v.logger.log(\"start time offset found in playlist, adjust startPosition to \"+d),this.startPosition=d):r.live?(this.startPosition=this.computeLivePosition(s,r),v.logger.log(\"configure startPosition to \"+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===b.State.WAITING_LEVEL&&(this.state=b.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===b.State.KEY_LOADING&&(this.state=b.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,a=this.levels,n=this.media,i=e.frag;if(this.state===b.State.FRAG_LOADING&&t&&\"main\"===i.type&&i.level===t.level&&i.sn===t.sn){var o=e.stats,u=a[t.level],d=u.details;if(this.bitrateTest=!1,this.stats=o,v.logger.log(\"Loaded \"+t.sn+\" of [\"+d.startSN+\" ,\"+d.endSN+\"],level \"+t.level),i.bitrateTest&&r.nextLoadLevel)this.state=b.State.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:\"main\"}),this.tick();else if(\"initSegment\"===i.sn)this.state=b.State.IDLE,o.tparsed=o.tbuffered=window.performance.now(),d.initSegment.data=e.payload,r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:\"main\"}),this.tick();else{v.logger.log(\"Parsing \"+t.sn+\" of [\"+d.startSN+\" ,\"+d.endSN+\"],level \"+t.level+\", cc \"+t.cc),this.state=b.State.PARSING,this.pendingBuffering=!0,this.appended=!1,i.bitrateTest&&(i.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:i}));var c=!(n&&n.seeking)&&(d.PTSKnown||!d.live),f=d.initSegment?d.initSegment.data:[],h=this._getAudioCodec(u);(this.demuxer=this.demuxer||new s.default(this.hls,\"main\")).push(e.payload,f,h,u.videoCodec,t,d.totalduration,c)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&\"main\"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===b.State.PARSING){var a=e.tracks,n=void 0,i=void 0;if(a.audio&&this.altAudio&&delete a.audio,i=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(v.logger.log(\"swapping playlist audio codec\"),o=-1!==o.indexOf(\"mp4a.40.5\")?\"mp4a.40.2\":\"mp4a.40.5\"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf(\"firefox\")&&(o=\"mp4a.40.5\"),-1!==s.indexOf(\"android\")&&\"audio/mpeg\"!==i.container&&(o=\"mp4a.40.2\",v.logger.log(\"Android: force audio codec to \"+o)),i.levelCodec=o,i.id=e.id}for(n in(i=a.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,a),a){i=a[n],v.logger.log(\"main track:\"+n+\",container:\"+i.container+\",codecs[level/parsed]=[\"+i.levelCodec+\"/\"+i.codec+\"]\");var u=i.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:n,data:u,parent:\"main\",content:\"initSegment\"}))}this.tick()}},r.prototype.onFragParsingData=function(t){var r=this,a=this.fragCurrent,n=t.frag;if(a&&\"main\"===t.id&&n.sn===a.sn&&n.level===a.level&&(\"audio\"!==t.type||!this.altAudio)&&this.state===b.State.PARSING){var i=this.levels[this.level],o=a;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+a.duration,t.endDTS=t.startDTS+a.duration),!0===t.hasAudio&&o.addElementaryStream(d.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(d.default.ElementaryStreamTypes.VIDEO),v.logger.log(\"Parsed \"+t.type+\",PTS:[\"+t.startPTS.toFixed(3)+\",\"+t.endPTS.toFixed(3)+\"],DTS:[\"+t.startDTS.toFixed(3)+\"/\"+t.endDTS.toFixed(3)+\"],nb:\"+t.nb+\",dropped:\"+(t.dropped||0)),\"video\"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)v.logger.warn(\"Already backtracked on this fragment, appending with the gap\",o.sn);else{var s=i.details;if(!s||o.sn!==s.startSN)return v.logger.warn(\"missing video frame(s), backtracking fragment\",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=b.State.IDLE,this.fragPrevious=o,void this.tick();v.logger.warn(\"missing video frame(s) on first frag, appending with gap\",o.sn)}else o.backtracked=!1;var u=f.updateFragPTSDTS(i.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(l.default.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&r.state===b.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,c.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:\"main\",content:\"data\"}))}),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&\"main\"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===b.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=b.State.PARSED,this._checkAppendedParsed())},r.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,a=t.id;if(!r){if(this.mediaBuffer!==this.media){v.logger.log(\"switching on main audio, use media.buffered to schedule main fragment loading\"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(v.logger.log(\"switching to main audio track, cancel main fragment load\"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=b.State.IDLE}var i=this.hls;i.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:\"audio\"}),i.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:a}),this.altAudio=!1}},r.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var a=this.videoBuffer;a&&this.mediaBuffer!==a&&(v.logger.log(\"switching on alternate audio, use video.buffered to schedule main fragment loading\"),this.mediaBuffer=a)}this.altAudio=r,this.tick()},r.prototype.onBufferCreated=function(e){var t,r,a=e.tracks,n=!1;for(var i in a){var o=a[i];\"main\"===o.id?(r=i,t=o,\"video\"===i&&(this.videoBuffer=a[i].buffer)):n=!0}n&&t?(v.logger.log(\"alternate track found, use \"+r+\".buffered to schedule main fragment loading\"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},r.prototype.onBufferAppended=function(e){if(\"main\"===e.parent){var t=this.state;t!==b.State.PARSING&&t!==b.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==b.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;v.logger.log(\"main buffered : \"+h.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:r,frag:e,id:\"main\"}),this.state=b.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||\"main\"===r.type){var a=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);v.logger.warn(\"mediaController: frag loading failed, retry in \"+n+\" ms\"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=b.State.FRAG_LOADING_WAITING_RETRY}else v.logger.error(\"mediaController: \"+t.details+\" reaches max retry, redispatch as fatal ...\"),t.fatal=!0,this.state=b.State.ERROR;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==b.State.ERROR&&(t.fatal?(this.state=b.State.ERROR,v.logger.warn(\"streamController: \"+t.details+\",switch to \"+this.state+\" state ...\")):t.levelRetry||this.state!==b.State.WAITING_LEVEL||(this.state=b.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:\"main\"!==t.parent||this.state!==b.State.PARSING&&this.state!==b.State.PARSED||(a?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=b.State.IDLE):(v.logger.warn(\"buffer full error also media.currentTime is not buffered, flush everything\"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},r.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,v.logger.warn(\"main:reduce max buffer length to \"+t.maxMaxBufferLength+\"s\"),!0)},r.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},r.prototype.onFragLoadEmergencyAborted=function(){this.state=b.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},r.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(d.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=b.State.IDLE,this.fragPrevious=null},r.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},r.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(v.logger.log(\"target start position not buffered, seek to buffered.start(0) \"+r+\" from current time \"+t+\" \"),e.currentTime=r)},r.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(v.logger.log(\"swapping playlist audio codec\"),t&&(t=-1!==t.indexOf(\"mp4a.40.5\")?\"mp4a.40.2\":\"mp4a.40.5\")),t},Object.defineProperty(r.prototype,\"liveSyncPosition\",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),r}(b.default);t.default=E}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/subtitle-stream-controller.js\":\n/*!******************************************************!*\\\n  !*** ./src/controller/subtitle-stream-controller.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../utils/logger */\"./src/utils/logger.js\"),s=r(/*! ../crypt/decrypter */\"./src/crypt/decrypter.js\"),l=r(/*! ../utils/buffer-helper */\"./src/utils/buffer-helper.js\"),u=r(/*! ./fragment-finders */\"./src/controller/fragment-finders.js\"),d=r(/*! ./fragment-tracker */\"./src/controller/fragment-tracker.js\"),c=r(/*! ./base-stream-controller */\"./src/controller/base-stream-controller.js\"),f=r(/*! ./level-helper */\"./src/controller/level-helper.js\"),h=window.performance,p=function(e){function t(t,r){var a=e.call(this,t,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.ERROR,i.default.KEY_LOADED,i.default.FRAG_LOADED,i.default.SUBTITLE_TRACKS_UPDATED,i.default.SUBTITLE_TRACK_SWITCH,i.default.SUBTITLE_TRACK_LOADED,i.default.SUBTITLE_FRAG_PROCESSED,i.default.LEVEL_UPDATED)||this;return a.fragmentTracker=r,a.config=t.config,a.state=c.State.STOPPED,a.tracks=[],a.tracksBuffered=[],a.currentTrackId=-1,a.decrypter=new s.default(t,t.config),a.lastAVStart=0,a._onMediaSeeking=a.onMediaSeeking.bind(a),a}return n(t,e),t.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,r=e.success;if(this.fragPrevious=t,this.state=c.State.IDLE,r){var a=this.tracksBuffered[this.currentTrackId];if(a){for(var n,i=t.start,o=0;o<a.length;o++)if(i>=a[o].start&&i<=a[o].end){n=a[o];break}var s=t.start+t.duration;n?n.end=s:(n={start:i,end:s},a.push(n))}}},t.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener(\"seeking\",this._onMediaSeeking),this.state=c.State.IDLE},t.prototype.onMediaDetaching=function(){this.media.removeEventListener(\"seeking\",this._onMediaSeeking),this.media=null,this.state=c.State.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&\"subtitle\"===t.type&&(this.state=c.State.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;o.logger.log(\"subtitle tracks updated\"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details,a=this.currentTrackId,n=this.tracks,i=n[a];t>=n.length||t!==a||!i||(r.live&&f.mergeSubtitlePlaylists(i.details,r,this.lastAVStart),i.details=r,this.setInterval(500))},t.prototype.onKeyLoaded=function(){this.state===c.State.KEY_LOADING&&(this.state=c.State.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,a=e.frag,n=this.hls;if(this.state===c.State.FRAG_LOADING&&t&&\"subtitle\"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&\"AES-128\"===r.method){var o=h.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=h.now();n.trigger(i.default.FRAG_DECRYPTED,{frag:a,payload:e,stats:{tstart:o,tdecrypt:t}})})}},t.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},t.prototype.doTick=function(){if(this.media)switch(this.state){case c.State.IDLE:var e=this,t=e.config,r=e.currentTrackId,a=e.fragmentTracker,n=e.media,s=e.tracks;if(!s||!s[r]||!s[r].details)break;var f=t.maxBufferHole,h=t.maxFragLookUpTolerance,p=Math.min(t.maxBufferLength,t.maxMaxBufferLength),v=l.BufferHelper.bufferedInfo(this._getBuffered(),n.currentTime,f),g=v.end,y=v.len,m=s[r].details,b=m.fragments,E=b.length,_=b[E-1].start+b[E-1].duration;if(y>p)return;var S=void 0,T=this.fragPrevious;g<_?(T&&m.hasProgramDateTime&&(S=u.findFragmentByPDT(b,T.endProgramDateTime,h)),S||(S=u.findFragmentByPTS(T,b,g,h))):S=b[E-1],S&&S.encrypted?(o.logger.log(\"Loading key for \"+S.sn),this.state=c.State.KEY_LOADING,this.hls.trigger(i.default.KEY_LOADING,{frag:S})):S&&a.getState(S)===d.FragmentState.NOT_LOADED&&(this.fragCurrent=S,this.state=c.State.FRAG_LOADING,this.hls.trigger(i.default.FRAG_LOADING,{frag:S}))}else this.state=c.State.IDLE},t.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t.prototype.onMediaSeeking=function(){this.fragPrevious=null},t}(c.default);t.SubtitleStreamController=p},\"./src/controller/subtitle-track-controller.js\":\n/*!*****************************************************!*\\\n  !*** ./src/controller/subtitle-track-controller.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=r(/*! ./level-helper */\"./src/controller/level-helper.js\"),u=function(t){function r(e){var r=t.call(this,e,i.default.MEDIA_ATTACHED,i.default.MEDIA_DETACHING,i.default.MANIFEST_LOADED,i.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r}return n(r,t),r.prototype.destroy=function(){o.default.prototype.destroy.call(this)},r.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&\"onchange\"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener(\"change\",this.trackChangeListener))},r.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener(\"change\",this.trackChangeListener),this.media=null)},r.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.hls.trigger(i.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},r.prototype.onSubtitleTrackLoaded=function(e){var t=this,r=e.id,a=e.details,n=this.trackId,i=this.tracks,o=i[n];if(r>=i.length||r!==n||!o||this.stopped)this._clearReloadTimer();else if(s.logger.log(\"subtitle track \"+r+\" loaded\"),a.live){var u=l.computeReloadInterval(o.details,a,e.stats.trequest);s.logger.log(\"Reloading live subtitle playlist in \"+u+\"ms\"),this.timer=setTimeout(function(){t._loadCurrentTrack()},u)}else this._clearReloadTimer()},r.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},r.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(r.prototype,\"subtitleTracks\",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"subtitleTrack\",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),r.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},r.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,r=this.hls,a=t[e];e<0||!a||a.details&&!a.details.live||(s.logger.log(\"Loading subtitle track \"+e),r.trigger(i.default.SUBTITLE_TRACK_LOADING,{url:a.url,id:e}))},r.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,a=this.trackId;if(t){var n=d(t.textTracks);if(-1===e)[].slice.call(n).forEach(function(e){e.mode=\"disabled\"});else{var i=n[a];i&&(i.mode=\"disabled\")}var o=n[e];o&&(o.mode=r?\"showing\":\"hidden\")}},r.prototype._setSubtitleTrackInternal=function(t){var r=this.hls,a=this.tracks;!e.isFinite(t)||t<-1||t>=a.length||(this.trackId=t,s.logger.log(\"Switching to subtitle track \"+t),r.trigger(i.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},r.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=d(this.media.textTracks),r=0;r<t.length;r++)if(\"hidden\"===t[r].mode)e=r;else if(\"showing\"===t[r].mode){e=r;break}this.subtitleTrack=e}},r}(o.default);function d(e){for(var t=[],r=0;r<e.length;r++){var a=e[r];\"subtitles\"===a.kind&&a.label&&t.push(e[r])}return t}t.default=u}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/controller/timeline-controller.js\":\n/*!***********************************************!*\\\n  !*** ./src/controller/timeline-controller.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../utils/cea-608-parser */\"./src/utils/cea-608-parser.js\"),l=r(/*! ../utils/output-filter */\"./src/utils/output-filter.js\"),u=r(/*! ../utils/webvtt-parser */\"./src/utils/webvtt-parser.js\"),d=r(/*! ../utils/logger */\"./src/utils/logger.js\"),c=r(/*! ../utils/texttrack-utils */\"./src/utils/texttrack-utils.js\");function f(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var h=function(t){function r(e){var r=t.call(this,e,i.default.MEDIA_ATTACHING,i.default.MEDIA_DETACHING,i.default.FRAG_PARSING_USERDATA,i.default.FRAG_DECRYPTED,i.default.MANIFEST_LOADING,i.default.MANIFEST_LOADED,i.default.FRAG_LOADED,i.default.LEVEL_SWITCHING,i.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var a=new l.default(r,\"textTrack1\"),n=new l.default(r,\"textTrack2\");r.cea608Parser=new s.default(0,a,n)}return r}return n(r,t),r.prototype.addCues=function(e,t,r,a){for(var n,i,o,s,l=this.cueRanges,u=!1,d=l.length;d--;){var c=l[d],f=(n=c[0],i=c[1],o=t,s=r,Math.min(i,s)-Math.max(n,o));if(f>=0&&(c[0]=Math.min(c[0],t),c[1]=Math.max(c[1],r),u=!0,f/(r-t)>.5))return}u||l.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,a)},r.prototype.onInitPtsFound=function(e){var t=this;if(\"main\"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)})}},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var a=t.textTracks[r];if(a[e])return a}return null},r.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,a=t.languageCode,n=this.captionsTracks;if(!n[e]){var i=this.getExistingTrack(e);if(i)n[e]=i,c.clearCurrentCues(n[e]),c.sendAddTrackEvent(n[e],this.media);else{var o=this.createTextTrack(\"captions\",r,a);o&&(o[e]=!0,n[e]=o)}}},r.prototype.createTextTrack=function(e,t,r){var a=this.media;if(a)return a.addTextTrack(e,t,r)},r.prototype.destroy=function(){o.default.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){c.clearCurrentCues(e[t]),delete e[t]})},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)c.clearCurrentCues(t[r])}},r.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,a){var n;if(a<r.length){for(var i=null,o=0;o<r.length;o++)if(f(r[o],e)){i=r[o];break}i&&(n=i)}n||(n=t.createTextTrack(\"subtitles\",e.name,e.lang)),e.default?n.mode=t.hls.subtitleDisplay?\"showing\":\"hidden\":n.mode=\"disabled\",t.textTracks.push(n)})}},r.prototype.onLevelSwitching=function(){this.enabled=\"NONE\"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var r=t.frag,a=t.payload;if(\"main\"===r.type){var n=r.sn;if(n!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=n}else if(\"subtitle\"===r.type)if(a.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var s=r.decryptdata;null!=s&&null!=s.key&&\"AES-128\"===s.method||this._parseVTTs(r,a)}else this.hls.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},r.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var a=this.textTracks,n=this.hls;u.default.parse(t,this.initPTS[e.cc],r,e.cc,function(t){var r=a[e.level];\"disabled\"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(a){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){d.logger.log(\"Failed to parse VTT cue: \"+t),n.trigger(i.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},r.prototype.onFragDecrypted=function(t){var r=t.payload,a=t.frag;if(\"subtitle\"===a.type){if(!e.isFinite(this.initPTS[a.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(a,r)}},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},r.prototype.extractCea608Data=function(e){for(var t,r,a,n=31&e[0],i=2,o=[],s=0;s<n;s++)t=e[i++],r=127&e[i++],a=127&e[i++],0===r&&0===a||0!=(4&t)&&0===(3&t)&&(o.push(r),o.push(a));return o},r}(o.default);t.default=h}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/crypt/aes-crypto.js\":\n/*!*********************************!*\\\n  !*** ./src/crypt/aes-crypto.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:\"AES-CBC\",iv:this.aesIV},t,e)},e}();t.default=a},\"./src/crypt/aes-decryptor.js\":\n/*!************************************!*\\\n  !*** ./src/crypt/aes-decryptor.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";function a(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.removePadding=a;var n=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),a=0;a<4;a++)r[a]=t.getUint32(4*a);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,a=r[0],n=r[1],i=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],d=s[2],c=s[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var y=f[h],m=f[y],b=f[m],E=257*f[g]^16843008*g;a[h]=E<<24|E>>>8,n[h]=E<<16|E>>>16,i[h]=E<<8|E>>>24,o[h]=E,E=16843009*b^65537*m^257*y^16843008*h,l[g]=E<<24|E>>>8,u[g]=E<<16|E>>>16,d[g]=E<<8|E>>>24,c[g]=E,h?(h=y^f[f[f[b^y]]],p^=f[f[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,a=0;a<t.length&&r;)r=t[a]===this.key[a],a++;if(!r){this.key=t;var n=this.keySize=t.length;if(4!==n&&6!==n&&8!==n)throw new Error(\"Invalid aes key size=\"+n);var i,o,s,l,u=this.ksRows=4*(n+6+1),d=this.keySchedule=new Uint32Array(u),c=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],y=p[2],m=p[3];for(i=0;i<u;i++)i<n?s=d[i]=t[i]:(l=s,i%n==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[i/n|0]<<24):n>6&&i%n==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),d[i]=s=(d[i-n]^l)>>>0);for(o=0;o<u;o++)i=u-o,l=3&o?d[i]:d[i-4],c[o]=o<4||i<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^y[f[l>>>8&255]]^m[f[255&l]],c[o]=c[o]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,n){for(var i,o,s,l,u,d,c,f,h,p,v,g,y,m,b=this.keySize+6,E=this.invKeySchedule,_=this.invSBox,S=this.invSubMix,T=S[0],k=S[1],A=S[2],R=S[3],w=this.uint8ArrayToUint32Array_(r),P=w[0],D=w[1],C=w[2],O=w[3],L=new Int32Array(e),I=new Int32Array(L.length),x=this.networkToHostOrderSwap;t<L.length;){for(h=x(L[t]),p=x(L[t+1]),v=x(L[t+2]),g=x(L[t+3]),u=h^E[0],d=g^E[1],c=v^E[2],f=p^E[3],y=4,m=1;m<b;m++)i=T[u>>>24]^k[d>>16&255]^A[c>>8&255]^R[255&f]^E[y],o=T[d>>>24]^k[c>>16&255]^A[f>>8&255]^R[255&u]^E[y+1],s=T[c>>>24]^k[f>>16&255]^A[u>>8&255]^R[255&d]^E[y+2],l=T[f>>>24]^k[u>>16&255]^A[d>>8&255]^R[255&c]^E[y+3],u=i,d=o,c=s,f=l,y+=4;i=_[u>>>24]<<24^_[d>>16&255]<<16^_[c>>8&255]<<8^_[255&f]^E[y],o=_[d>>>24]<<24^_[c>>16&255]<<16^_[f>>8&255]<<8^_[255&u]^E[y+1],s=_[c>>>24]<<24^_[f>>16&255]<<16^_[u>>8&255]<<8^_[255&d]^E[y+2],l=_[f>>>24]<<24^_[u>>16&255]<<16^_[d>>8&255]<<8^_[255&c]^E[y+3],y+=3,I[t]=x(i^P),I[t+1]=x(l^D),I[t+2]=x(s^C),I[t+3]=x(o^O),P=h,D=p,C=v,O=g,t+=4}return n?a(I.buffer):I.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=n},\"./src/crypt/decrypter.js\":\n/*!********************************!*\\\n  !*** ./src/crypt/decrypter.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./aes-crypto */\"./src/crypt/aes-crypto.js\"),n=r(/*! ./fast-aes-key */\"./src/crypt/fast-aes-key.js\"),i=r(/*! ./aes-decryptor */\"./src/crypt/aes-decryptor.js\"),o=r(/*! ../errors */\"./src/errors.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=r(/*! ../events */\"./src/events.js\"),u=r(/*! ../utils/get-self-scope */\"./src/utils/get-self-scope.js\").getSelfScope(),d=function(){function e(e,t,r){var a=(void 0===r?{}:r).removePKCS7Padding,n=void 0===a||a;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=n,n)try{var i=u.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(o){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log(\"JS AES decrypt\"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new i.default),u.expandKey(t),o(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log(\"WebCrypto AES decrypt\"),this.logEnabled=!1);var d=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new n.default(d,t)),this.fastAesKey.expandKey().then(function(n){new a.default(d,r).decrypt(e,n).catch(function(a){l.onWebCryptoError(a,e,t,r,o)}).then(function(e){o(e)})}).catch(function(a){l.onWebCryptoError(a,e,t,r,o)})}},e.prototype.onWebCryptoError=function(e,t,r,a,n){this.config.enableSoftwareAES?(s.logger.log(\"WebCrypto Error, disable WebCrypto API\"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,a,n)):(s.logger.error(\"decrypting error : \"+e.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=d},\"./src/crypt/fast-aes-key.js\":\n/*!***********************************!*\\\n  !*** ./src/crypt/fast-aes-key.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey(\"raw\",this.key,{name:\"AES-CBC\"},!1,[\"encrypt\",\"decrypt\"])},e}();t.default=a},\"./src/demux/aacdemuxer.js\":\n/*!*********************************!*\\\n  !*** ./src/demux/aacdemuxer.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./adts */\"./src/demux/adts.js\"),n=r(/*! ../utils/logger */\"./src/utils/logger.js\"),i=r(/*! ../demux/id3 */\"./src/demux/id3.js\"),o=function(){function t(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,r,a){this._audioTrack={container:\"audio/adts\",type:\"audio\",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:a,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(i.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(a.probe(e,t))return n.logger.log(\"ADTS sync word found !\"),!0;return!1},t.prototype.append=function(t,r,o,s){for(var l=this._audioTrack,u=i.default.getID3Data(t,0)||[],d=i.default.getTimeStamp(u),c=e.isFinite(d)?90*d:9e4*r,f=0,h=c,p=t.length,v=u.length,g=[{pts:h,dts:h,data:u}];v<p-1;)if(a.isHeader(t,v)&&v+5<p){a.initTrackConfig(l,this.observer,t,v,l.manifestCodec);var y=a.appendFrame(l,t,v,c,f);if(!y){n.logger.log(\"Unable to parse AAC frame\");break}v+=y.length,h=y.sample.pts,f++}else i.default.isHeader(t,v)?(u=i.default.getID3Data(t,v),g.push({pts:h,dts:h,data:u}),v+=u.length):v++;this.remuxer.remux(l,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},r,o,s)},t.prototype.destroy=function(){},t}();t.default=o}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/demux/adts.js\":\n/*!***************************!*\\\n  !*** ./src/demux/adts.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/logger */\"./src/utils/logger.js\"),n=r(/*! ../errors */\"./src/errors.js\"),i=r(/*! ../events */\"./src/events.js\");function o(e,t,r,o){var s,l,u,d,c,f=navigator.userAgent.toLowerCase(),h=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>p.length-1))return d=(1&t[r+2])<<2,d|=(192&t[r+3])>>>6,a.logger.log(\"manifest codec:\"+o+\",ADTS data:type:\"+s+\",sampleingIndex:\"+l+\"[\"+p[l]+\"Hz],channelConfig:\"+d),/firefox/i.test(f)?l>=6?(s=5,c=new Array(4),u=l-3):(s=2,c=new Array(2),u=l):-1!==f.indexOf(\"android\")?(s=2,c=new Array(2),u=l):(s=5,c=new Array(4),o&&(-1!==o.indexOf(\"mp4a.40.29\")||-1!==o.indexOf(\"mp4a.40.5\"))||!o&&l>=6?u=l-3:((o&&-1!==o.indexOf(\"mp4a.40.2\")&&(l>=6&&1===d||/vivaldi/i.test(f))||!o&&1===d)&&(s=2,c=new Array(2)),u=l)),c[0]=s<<3,c[0]|=(14&l)>>1,c[1]|=(1&l)<<7,c[1]|=d<<3,5===s&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[l],channelCount:d,codec:\"mp4a.40.\"+s,manifestCodec:h};e.trigger(i.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\"invalid ADTS sampling index:\"+l})}function s(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e){return 9216e4/e}function c(e,t,r,a,n){var i,o,s=e.length;if(i=l(e,t),o=u(e,t),(o-=i)>0&&t+i+o<=s)return{headerLength:i,frameLength:o,stamp:r+a*n}}t.getAudioConfig=o,t.isHeaderPattern=s,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&s(e,t))},t.probe=function(e,t){if(t+1<e.length&&s(e,t)){var r=l(e,t);t+5<e.length&&(r=u(e,t));var a=t+r;if(a===e.length||a+1<e.length&&s(e,a))return!0}return!1},t.initTrackConfig=function(e,t,r,n,i){if(!e.samplerate){var s=o(t,r,n,i);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,a.logger.log(\"parsed codec:\"+e.codec+\",rate:\"+s.samplerate+\",nb channel:\"+s.channelCount)}},t.getFrameDuration=d,t.parseFrameHeader=c,t.appendFrame=function(e,t,r,a,n){var i=c(t,r,a,n,d(e.samplerate));if(i){var o=i.stamp,s=i.headerLength,l=i.frameLength,u={unit:t.subarray(r+s,r+s+l),pts:o,dts:o};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},\"./src/demux/demuxer-inline.js\":\n/*!*************************************!*\\\n  !*** ./src/demux/demuxer-inline.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a,n=r(/*! ../events */\"./src/events.js\"),i=r(/*! ../errors */\"./src/errors.js\"),o=r(/*! ../crypt/decrypter */\"./src/crypt/decrypter.js\"),s=r(/*! ../demux/aacdemuxer */\"./src/demux/aacdemuxer.js\"),l=r(/*! ../demux/mp4demuxer */\"./src/demux/mp4demuxer.js\"),u=r(/*! ../demux/tsdemuxer */\"./src/demux/tsdemuxer.js\"),d=r(/*! ../demux/mp3demuxer */\"./src/demux/mp3demuxer.js\"),c=r(/*! ../remux/mp4-remuxer */\"./src/remux/mp4-remuxer.js\"),f=r(/*! ../remux/passthrough-remuxer */\"./src/remux/passthrough-remuxer.js\"),h=r(/*! ../utils/get-self-scope */\"./src/utils/get-self-scope.js\"),p=r(/*! ../utils/logger */\"./src/utils/logger.js\"),v=h.getSelfScope();try{a=v.performance.now.bind(v.performance)}catch(y){p.logger.debug(\"Unable to use Performance API on this environment\"),a=v.Date.now}var g=function(){function e(e,t,r,a){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=a}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,i,s,l,u,d,c,f,h,p){var v=this;if(e.byteLength>0&&null!=t&&null!=t.key&&\"AES-128\"===t.method){var g=this.decrypter;null==g&&(g=this.decrypter=new o.default(this.observer,this.config));var y=a();g.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=a();v.observer.trigger(n.default.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:o}}),v.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,s,l,u,d,c,f,h,p)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,s,l,u,d,c,f,h,p)},e.prototype.pushDecrypted=function(e,t,r,a,o,h,p,v,g,y,m,b){var E=this.demuxer;if(!E||(p||v)&&!this.probe(e)){for(var _=this.observer,S=this.typeSupported,T=this.config,k=[{demux:u.default,remux:c.default},{demux:l.default,remux:f.default},{demux:s.default,remux:c.default},{demux:d.default,remux:c.default}],A=0,R=k.length;A<R;A++){var w=k[A],P=w.demux.probe;if(P(e)){var D=this.remuxer=new w.remux(_,T,S,this.vendor);E=new w.demux(_,D,T,S),this.probe=P;break}}if(!E)return void _.trigger(n.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:\"no demux matching with content found\"});this.demuxer=E}var C=this.remuxer;(p||v)&&(E.resetInitSegment(r,a,o,y),C.resetInitSegment()),p&&(E.resetTimeStamp(b),C.resetTimeStamp(b)),\"function\"==typeof E.setDecryptData&&E.setDecryptData(t),E.append(e,h,g,m)},e}();t.default=g},\"./src/demux/demuxer-worker.js\":\n/*!*************************************!*\\\n  !*** ./src/demux/demuxer-worker.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../demux/demuxer-inline */\"./src/demux/demuxer-inline.js\"),n=r(/*! ../events */\"./src/events.js\"),i=r(/*! ../utils/logger */\"./src/utils/logger.js\"),o=r(/*! events */\"./node_modules/node-libs-browser/node_modules/events/events.js\");t.default=function(e){var t=new o.EventEmitter;t.trigger=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener(\"message\",function(n){var o=n.data;switch(o.cmd){case\"init\":var s=JSON.parse(o.config);e.demuxer=new a.default(t,o.typeSupported,s,o.vendor),i.enableLogs(s.debug),r(\"init\",null);break;case\"demux\":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(n.default.FRAG_DECRYPTED,r),t.on(n.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(n.default.FRAG_PARSED,r),t.on(n.default.ERROR,r),t.on(n.default.FRAG_PARSING_METADATA,r),t.on(n.default.FRAG_PARSING_USERDATA,r),t.on(n.default.INIT_PTS_FOUND,r),t.on(n.default.FRAG_PARSING_DATA,function(t,r){var a=[],n={event:t,data:r};r.data1&&(n.data1=r.data1.buffer,a.push(r.data1.buffer),delete r.data1),r.data2&&(n.data2=r.data2.buffer,a.push(r.data2.buffer),delete r.data2),e.postMessage(n,a)})}},\"./src/demux/demuxer.js\":\n/*!******************************!*\\\n  !*** ./src/demux/demuxer.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! webworkify-webpack */\"./node_modules/webworkify-webpack/index.js\"),n=r(/*! ../events */\"./src/events.js\"),i=r(/*! ../demux/demuxer-inline */\"./src/demux/demuxer-inline.js\"),o=r(/*! ../utils/logger */\"./src/utils/logger.js\"),s=r(/*! ../errors */\"./src/errors.js\"),l=r(/*! ../utils/mediasource-helper */\"./src/utils/mediasource-helper.js\"),u=r(/*! ../utils/get-self-scope */\"./src/utils/get-self-scope.js\"),d=r(/*! ../observer */\"./src/observer.js\"),c=u.getSelfScope(),f=l.getMediaSource(),h=function(){function t(e,t){var r=this;this.hls=e,this.id=t;var l=this.observer=new d.Observer,u=e.config,h=function(t,a){(a=a||{}).frag=r.frag,a.id=r.id,e.trigger(t,a)};l.on(n.default.FRAG_DECRYPTED,h),l.on(n.default.FRAG_PARSING_INIT_SEGMENT,h),l.on(n.default.FRAG_PARSING_DATA,h),l.on(n.default.FRAG_PARSED,h),l.on(n.default.ERROR,h),l.on(n.default.FRAG_PARSING_METADATA,h),l.on(n.default.FRAG_PARSING_USERDATA,h),l.on(n.default.INIT_PTS_FOUND,h);var p={mp4:f.isTypeSupported(\"video/mp4\"),mpeg:f.isTypeSupported(\"audio/mpeg\"),mp3:f.isTypeSupported('audio/mp4; codecs=\"mp3\"')},v=navigator.vendor;if(u.enableWorker&&\"undefined\"!=typeof Worker){o.logger.log(\"demuxing in webworker\");var g=void 0;try{g=this.w=a(/*! ../demux/demuxer-worker.js */\"./src/demux/demuxer-worker.js\"),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener(\"message\",this.onwmsg),g.onerror=function(t){e.trigger(n.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:\"demuxerWorker\",err:{message:t.message+\" (\"+t.filename+\":\"+t.lineno+\")\"}})},g.postMessage({cmd:\"init\",typeSupported:p,vendor:v,id:t,config:JSON.stringify(u)})}catch(y){o.logger.warn(\"Error in worker:\",y),o.logger.error(\"Error while initializing DemuxerWorker, fallback on DemuxerInline\"),g&&c.URL.revokeObjectURL(g.objectURL),this.demuxer=new i.default(l,p,u,v),this.w=void 0}}else this.demuxer=new i.default(l,p,u,v)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener(\"message\",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,r,a,n,i,s,l,u){var d=this.w,c=e.isFinite(i.startPTS)?i.startPTS:i.start,f=i.decryptdata,h=this.frag,p=!(h&&i.cc===h.cc),v=!(h&&i.level===h.level),g=h&&i.sn===h.sn+1,y=!v&&g;if(p&&o.logger.log(this.id+\":discontinuity detected\"),v&&o.logger.log(this.id+\":switch detected\"),this.frag=i,d)d.postMessage({cmd:\"demux\",data:t,decryptdata:f,initSegment:r,audioCodec:a,videoCodec:n,timeOffset:c,discontinuity:p,trackSwitch:v,contiguous:y,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,f,r,a,n,c,p,v,y,s,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case\"init\":c.URL.revokeObjectURL(this.w.objectURL);break;case n.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t}();t.default=h}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/demux/exp-golomb.js\":\n/*!*********************************!*\\\n  !*** ./src/demux/exp-golomb.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/logger */\"./src/utils/logger.js\"),n=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,a=new Uint8Array(4),n=Math.min(4,t);if(0===n)throw new Error(\"no bytes available\");a.set(e.subarray(r,r+n)),this.word=new DataView(a.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&a.logger.error(\"Cannot read more than 32 bits at a time\"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,a=8;for(t=0;t<e;t++)0!==a&&(a=(r+this.readEG()+256)%256),r=0===a?r:a},e.prototype.readSPS=function(){var e,t,r,a,n,i,o,s=0,l=0,u=0,d=0,c=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(c(),e=c(),f(5),v(3),c(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),y(),y(),v(1),p())for(i=3!==b?8:12,o=0;o<i;o++)p()&&m(o<6?16:64)}y();var E=h();if(0===E)h();else if(1===E)for(v(1),g(),g(),t=h(),o=0;o<t;o++)g();y(),v(1),r=h(),a=h(),0===(n=f(1))&&v(1),v(1),p()&&(s=h(),l=h(),u=h(),d=h());var _=[1,1];if(p()&&p())switch(c()){case 1:_=[1,1];break;case 2:_=[12,11];break;case 3:_=[10,11];break;case 4:_=[16,11];break;case 5:_=[40,33];break;case 6:_=[24,11];break;case 7:_=[20,11];break;case 8:_=[32,11];break;case 9:_=[80,33];break;case 10:_=[18,11];break;case 11:_=[15,11];break;case 12:_=[64,33];break;case 13:_=[160,99];break;case 14:_=[4,3];break;case 15:_=[3,2];break;case 16:_=[2,1];break;case 255:_=[c()<<8|c(),c()<<8|c()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-n)*(a+1)*16-(n?2:4)*(u+d),pixelRatio:_}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=n},\"./src/demux/id3.js\":\n/*!**************************!*\\\n  !*** ./src/demux/id3.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var a=r,n=0;e.isHeader(t,r);){n+=10,n+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(n+=10),r+=n}if(n>0)return t.subarray(a,a+n)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),a=0;a<r.length;a++){var n=r[a];if(e.isTimeStampFrame(n))return e._readTimeStamp(n)}},e.isTimeStampFrame=function(e){return e&&\"PRIV\"===e.key&&\"com.apple.streaming.transportStreamTimestamp\"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),a=e._readSize(t,4);return{type:r,size:a,data:t.subarray(10,10+a)}},e.getID3Frames=function(t){for(var r=0,a=[];e.isHeader(t,r);){for(var n=e._readSize(t,r+6),i=(r+=10)+n;r+8<i;){var o=e._getFrameData(t.subarray(r)),s=e._decodeFrame(o);s&&a.push(s),r+=o.size+10}e.isFooter(t,r)&&(r+=10)}return a},e._decodeFrame=function(t){return\"PRIV\"===t.type?e._decodePrivFrame(t):\"T\"===t.type[0]?e._decodeTextFrame(t):\"W\"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],a=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return a/=45,r&&(a+=47721858.84),Math.round(a)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),a=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:a.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if(\"TXXX\"===t.type){var r=1,a=e._utf8ArrayToStr(t.data.subarray(r));r+=a.length+1;var n=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:a,data:n}}var i=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:i}}},e._decodeURLFrame=function(t){if(\"WXXX\"===t.type){if(t.size<2)return;var r=1,a=e._utf8ArrayToStr(t.data.subarray(r));r+=a.length+1;var n=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:a,data:n}}var i=e._utf8ArrayToStr(t.data);return{key:t.type,data:i}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,a,n,i=e.length,o=\"\",s=0;s<i;){if(0===(r=e[s++])&&t)return o;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:a=e[s++],o+=String.fromCharCode((31&r)<<6|63&a);break;case 14:a=e[s++],n=e[s++],o+=String.fromCharCode((15&r)<<12|(63&a)<<6|(63&n)<<0)}}return o},e}(),n=a._utf8ArrayToStr;t.utf8ArrayToStr=n,t.default=a},\"./src/demux/mp3demuxer.js\":\n/*!*********************************!*\\\n  !*** ./src/demux/mp3demuxer.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../demux/id3 */\"./src/demux/id3.js\"),n=r(/*! ../utils/logger */\"./src/utils/logger.js\"),i=r(/*! ./mpegaudio */\"./src/demux/mpegaudio.js\"),o=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,r,a){this._audioTrack={container:\"audio/mpeg\",type:\"audio\",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:a,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,o=a.default.getID3Data(e,0);if(o&&void 0!==a.default.getTimeStamp(o))for(t=o.length,r=Math.min(e.length-1,t+100);t<r;t++)if(i.default.probe(e,t))return n.logger.log(\"MPEG Audio sync word found !\"),!0;return!1},e.prototype.append=function(e,t,r,n){for(var o=a.default.getID3Data(e,0),s=a.default.getTimeStamp(o),l=s?90*s:9e4*t,u=o.length,d=e.length,c=0,f=0,h=this._audioTrack,p=[{pts:l,dts:l,data:o}];u<d;)if(i.default.isHeader(e,u)){var v=i.default.appendFrame(h,e,u,l,c);if(!v)break;u+=v.length,f=v.sample.pts,c++}else a.default.isHeader(e,u)?(o=a.default.getID3Data(e,u),p.push({pts:f,dts:f,data:o}),u+=o.length):u++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,n)},e.prototype.destroy=function(){},e}();t.default=o},\"./src/demux/mp4demuxer.js\":\n/*!*********************************!*\\\n  !*** ./src/demux/mp4demuxer.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/logger */\"./src/utils/logger.js\"),n=r(/*! ../events */\"./src/events.js\"),i=Math.pow(2,32)-1,o=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,a,i){if(t&&t.byteLength){var o=this.initData=e.parseInitSegment(t);null==r&&(r=\"mp4a.40.5\"),null==a&&(a=\"avc1.42e01e\");var s={};o.audio&&o.video?s.audiovideo={container:\"video/mp4\",codec:r+\",\"+a,initSegment:i?t:null}:(o.audio&&(s.audio={container:\"audio/mp4\",codec:r,initSegment:i?t:null}),o.video&&(s.video={container:\"video/mp4\",codec:a,initSegment:i?t:null})),this.observer.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),a&&(this.videoCodec=a)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},[\"moof\"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var a,n,i,o,s,l,u=[];if(t.data?(s=t.start,i=t.end,t=t.data):(s=0,i=t.byteLength),!r.length)return null;for(a=s;a<i;)l=(n=e.readUint32(t,a))>1?a+n:i,e.bin2str(t.subarray(a+4,a+8))===r[0]&&(1===r.length?u.push({data:t,start:a+8,end:l}):(o=e.findBox({data:t,start:a+8,end:l},r.slice(1))).length&&(u=u.concat(o))),a=l;return u},e.parseSegmentIndex=function(t){var r,a=e.findBox(t,[\"moov\"])[0],n=a?a.end:null,i=0,o=e.findBox(t,[\"sidx\"]);if(!o||!o[0])return null;r=[];var s=(o=o[0]).data[0];i=0===s?8:16;var l=e.readUint32(o,i);i+=4;i+=0===s?8:16,i+=2;var u=o.end+0,d=e.readUint16(o,i);i+=2;for(var c=0;c<d;c++){var f=i,h=e.readUint32(o,f);f+=4;var p=2147483647&h;if(1===(2147483648&h)>>>31)return void console.warn(\"SIDX has hierarchical references (not supported)\");var v=e.readUint32(o,f);f+=4,r.push({referenceSize:p,subsegmentDuration:v,info:{duration:v/l,start:u,end:u+p-1}}),u+=p,i=f+=4}return{earliestPresentationTime:0,timescale:l,version:s,referencesCount:d,references:r,moovEndOffset:n}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,[\"moov\",\"trak\"]).forEach(function(t){var n=e.findBox(t,[\"tkhd\"])[0];if(n){var i=n.data[n.start],o=0===i?12:20,s=e.readUint32(n,o),l=e.findBox(t,[\"mdia\",\"mdhd\"])[0];if(l){o=0===(i=l.data[l.start])?12:20;var u=e.readUint32(l,o),d=e.findBox(t,[\"mdia\",\"hdlr\"])[0];if(d){var c={soun:\"audio\",vide:\"video\"}[e.bin2str(d.data.subarray(d.start+8,d.start+12))];if(c){var f=e.findBox(t,[\"mdia\",\"minf\",\"stbl\",\"stsd\"]);if(f.length){f=f[0];var h=e.bin2str(f.data.subarray(f.start+12,f.start+16));a.logger.log(\"MP4Demuxer:\"+c+\":\"+h+\" found\")}r[s]={timescale:u,type:c},r[c]={timescale:u,id:s}}}}}}),r},e.getStartDTS=function(t,r){var a,n,i;return a=e.findBox(r,[\"moof\",\"traf\"]),n=[].concat.apply([],a.map(function(r){return e.findBox(r,[\"tfhd\"]).map(function(a){var n,i;return n=e.readUint32(a,4),i=t[n].timescale||9e4,e.findBox(r,[\"tfdt\"]).map(function(t){var r,a;return r=t.data[t.start],a=e.readUint32(t,4),1===r&&(a*=Math.pow(2,32),a+=e.readUint32(t,8)),a})[0]/i})})),i=Math.min.apply(null,n),isFinite(i)?i:0},e.offsetStartDTS=function(t,r,a){e.findBox(r,[\"moof\",\"traf\"]).map(function(r){return e.findBox(r,[\"tfhd\"]).map(function(n){var o=e.readUint32(n,4),s=t[o].timescale||9e4;e.findBox(r,[\"tfdt\"]).map(function(t){var r=t.data[t.start],n=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,n-a*s);else{n*=Math.pow(2,32),n+=e.readUint32(t,8),n-=a*s,n=Math.max(n,0);var o=Math.floor(n/(i+1)),l=Math.floor(n%(i+1));e.writeUint32(t,4,o),e.writeUint32(t,8,l)}})})})},e.prototype.append=function(t,r,a,i){var o=this.initData;o||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(o,t);this.initPTS=l=u-r,this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(o,t,l),s=e.getStartDTS(o,t),this.remuxer.remux(o.audio,o.video,null,null,s,a,i,t)},e.prototype.destroy=function(){},e}();t.default=o},\"./src/demux/mpegaudio.js\":\n/*!********************************!*\\\n  !*** ./src/demux/mpegaudio.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,a,n){if(!(r+24>t.length)){var i=this.parseHeader(t,r);if(i&&r+i.frameLength<=t.length){var o=a+n*(9e4*i.samplesPerFrame/i.sampleRate),s={unit:t.subarray(r,r+i.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=i.channelCount,e.samplerate=i.sampleRate,e.samples.push(s),e.len+=i.frameLength,{sample:s,length:i.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==o){var l=3===r?3-n:3===n?3:4,u=1e3*a.BitratesMap[14*l+i-1],d=3===r?0:2===r?1:2,c=a.SamplingRateMap[3*d+o],f=e[t+3]>>6==3?1:2,h=a.SamplesCoefficients[r][n],p=a.BytesInSlot[n],v=8*h*p;return{sampleRate:c,channelCount:f,frameLength:parseInt(h*u/c+s,10)*p,samplesPerFrame:v}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),a=4;r&&r.frameLength&&(a=r.frameLength);var n=t+a;if(n===e.length||n+1<e.length&&this.isHeaderPattern(e,n))return!0}return!1}};t.default=a},\"./src/demux/sample-aes.js\":\n/*!*********************************!*\\\n  !*** ./src/demux/sample-aes.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../crypt/decrypter */\"./src/crypt/decrypter.js\"),n=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new a.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,a){var n=e[t].unit,i=n.subarray(16,n.length-n.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length),s=this;this.decryptBuffer(o,function(i){i=new Uint8Array(i),n.set(i,16),a||s.decryptAacSamples(e,t+1,r)})},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var a=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,a),!a)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),a=0,n=32;n<=e.length-16;n+=160,a+=16)r.set(e.subarray(n,n+16),a);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,a=32;a<=e.length-16;a+=160,r+=16)e.set(t.subarray(r,r+16),a);return e},e.prototype.decryptAvcSample=function(e,t,r,a,n,i){var o=this.discardEPB(n.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){n.data=l.getAvcDecryptedUnit(o,s),i||l.decryptAvcSamples(e,t,r+1,a)})},e.prototype.decryptAvcSamples=function(e,t,r,a){for(;;t++,r=0){if(t>=e.length)return void a();for(var n=e[t].units;!(r>=n.length);r++){var i=n[r];if(!(i.length<=48||1!==i.type&&5!==i.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,a,i,o),!o)return}}}},e}();t.default=n},\"./src/demux/tsdemuxer.js\":\n/*!********************************!*\\\n  !*** ./src/demux/tsdemuxer.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./adts */\"./src/demux/adts.js\"),n=r(/*! ./mpegaudio */\"./src/demux/mpegaudio.js\"),i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ./exp-golomb */\"./src/demux/exp-golomb.js\"),s=r(/*! ./sample-aes */\"./src/demux/sample-aes.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=r(/*! ../errors */\"./src/errors.js\"),d={video:1,audio:2,id3:3,text:4},c=function(){function e(e,t,r,a){this.observer=e,this.config=r,this.typeSupported=a,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&\"SAMPLE-AES\"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0)&&(r&&l.logger.warn(\"MPEG2-TS detected but first sync word found @ offset \"+r+\", junk ahead ?\"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:\"video\"===e||\"audio\"===e?\"video/mp2t\":void 0,type:e,id:d[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:\"video\"===e?0:void 0,isAAC:\"audio\"===e||void 0,duration:\"audio\"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,a,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack(\"video\",n),this._audioTrack=e.createTrack(\"audio\",n),this._id3Track=e.createTrack(\"id3\",n),this._txtTrack=e.createTrack(\"text\",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=a,this._duration=n},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,a,n){var o,s,d,c,f,h=t.length,p=!1;this.contiguous=a;var v=this.pmtParsed,g=this._avcTrack,y=this._audioTrack,m=this._id3Track,b=g.pid,E=y.pid,_=m.pid,S=this._pmtId,T=g.pesData,k=y.pesData,A=m.pesData,R=this._parsePAT,w=this._parsePMT,P=this._parsePES,D=this._parseAVCPES.bind(this),C=this._parseAACPES.bind(this),O=this._parseMPEGPES.bind(this),L=this._parseID3PES.bind(this),I=e._syncOffset(t);for(h-=(h+I)%188,o=I;o<h;o+=188)if(71===t[o]){if(s=!!(64&t[o+1]),d=((31&t[o+1])<<8)+t[o+2],(48&t[o+3])>>4>1){if((c=o+5+t[o+4])===o+188)continue}else c=o+4;switch(d){case b:s&&(T&&(f=P(T))&&void 0!==f.pts&&D(f,!1),T={data:[],size:0}),T&&(T.data.push(t.subarray(c,o+188)),T.size+=o+188-c);break;case E:s&&(k&&(f=P(k))&&void 0!==f.pts&&(y.isAAC?C(f):O(f)),k={data:[],size:0}),k&&(k.data.push(t.subarray(c,o+188)),k.size+=o+188-c);break;case _:s&&(A&&(f=P(A))&&void 0!==f.pts&&L(f),A={data:[],size:0}),A&&(A.data.push(t.subarray(c,o+188)),A.size+=o+188-c);break;case 0:s&&(c+=t[c]+1),S=this._pmtId=R(t,c);break;case S:s&&(c+=t[c]+1);var x=w(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=x.avc)>0&&(g.pid=b),(E=x.audio)>0&&(y.pid=E,y.isAAC=x.isAAC),(_=x.id3)>0&&(m.pid=_),p&&!v&&(l.logger.log(\"reparse from beginning\"),p=!1,o=I-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\"TS packet did not start with 0x47\"});T&&(f=P(T))&&void 0!==f.pts?(D(f,!0),g.pesData=null):g.pesData=T,k&&(f=P(k))&&void 0!==f.pts?(y.isAAC?C(f):O(f),y.pesData=null):(k&&k.size&&l.logger.log(\"last AAC PES packet truncated,might overlap between fragments\"),y.pesData=k),A&&(f=P(A))&&void 0!==f.pts?(L(f),m.pesData=null):m.pesData=A,null==this.sampleAes?this.remuxer.remux(y,g,m,this._txtTrack,r,a,n):this.decryptAndRemux(y,g,m,this._txtTrack,r,a,n)},e.prototype.decryptAndRemux=function(e,t,r,a,n,i,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,a,n,i,o)})}else this.decryptAndRemuxAvc(e,t,r,a,n,i,o)},e.prototype.decryptAndRemuxAvc=function(e,t,r,a,n,i,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,a,n,i,o)})}else this.remuxer.remux(e,t,r,a,n,i,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,a){var n,i,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<n;){switch(i=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!a){l.logger.log(\"unkown stream type:\"+e[t]);break}case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 219:if(!a){l.logger.log(\"unkown stream type:\"+e[t]);break}case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:r?-1===o.audio&&(o.audio=i,o.isAAC=!1):l.logger.log(\"MPEG audio found, not supported in this browser for now\");break;case 36:l.logger.warn(\"HEVC stream type found, not supported for now\");break;default:l.logger.log(\"unkown stream type:\"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},e.prototype._parsePES=function(e){var t,r,a,n,i,o,s,u,d=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(1===((t=c[0])[0]<<16)+(t[1]<<8)+t[2]){if((a=(t[4]<<8)+t[5])&&a>e.size-6)return null;192&(r=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(l.logger.warn(Math.round((o-s)/9e4)+\"s delta between PTS and DTS, align them\"),o=s)):s=o),u=(n=t[8])+9,e.size-=u,i=new Uint8Array(e.size);for(var h=0,p=c.length;h<p;h++){var v=(t=c[h]).byteLength;if(u){if(u>v){u-=v;continue}t=t.subarray(u),v-=u,u=0}i.set(t,d),d+=v}return a&&(a-=n+3),{data:i,pts:o,dts:s,len:a}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,a=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(a||this.contiguous)?(e.id=a,r.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+\"/\"+e.dts+\":\"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,a,n,i=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,d=!1,c=this.pushAccesUnit.bind(this),f=function(e,t,r,a){return{key:e,pts:t,dts:r,units:[],debug:a}};e.data=null,u&&l.length&&!s.audFound&&(c(u,s),u=this.avcSample=f(!1,e.pts,e.dts,\"\")),l.forEach(function(t){switch(t.type){case 1:a=!0,u||(u=i.avcSample=f(!0,e.pts,e.dts,\"\")),u.frame=!0;var l=t.data;if(d&&l.length>4){var h=new o.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(u.key=!0)}break;case 5:a=!0,u||(u=i.avcSample=f(!0,e.pts,e.dts,\"\")),u.key=!0,u.frame=!0;break;case 6:a=!0,(r=new o.default(i.discardEPB(t.data))).readUByte();for(var p=0,v=0,g=!1,y=0;!g&&r.bytesAvailable>1;){p=0;do{p+=y=r.readUByte()}while(255===y);v=0;do{v+=y=r.readUByte()}while(255===y);if(4===p&&0!==r.bytesAvailable){if(g=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var m=r.readUByte(),b=31&m,E=[m,r.readUByte()];for(n=0;n<b;n++)E.push(r.readUByte()),E.push(r.readUByte()),E.push(r.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:e.pts,bytes:E})}}else if(v<r.bytesAvailable)for(n=0;n<v;n++)r.readUByte()}break;case 7:if(a=!0,d=!0,!s.sps){var _=(r=new o.default(t.data)).readSPS();s.width=_.width,s.height=_.height,s.pixelRatio=_.pixelRatio,s.sps=[t.data],s.duration=i._duration;var S=t.data.subarray(1,4),T=\"avc1.\";for(n=0;n<3;n++){var k=S[n].toString(16);k.length<2&&(k=\"0\"+k),T+=k}s.codec=T}break;case 8:a=!0,s.pps||(s.pps=[t.data]);break;case 9:a=!1,s.audFound=!0,u&&c(u,s),u=i.avcSample=f(!1,e.pts,e.dts,\"\");break;case 12:a=!1;break;default:a=!1,u&&(u.debug+=\"unknown NAL \"+t.type+\" \")}u&&a&&u.units.push(t)}),t&&u&&(c(u,s),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var a=r-1;a>=0;a--)if(t.pts<e[a].pts){e.splice(a,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var a=t.units;e=a[a.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,r,a,n,i=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,d=[],c=-1;for(-1===l&&(c=0,n=31&e[0],l=0,i=1);i<o;)if(t=e[i++],l)if(1!==l)if(t)if(1===t){var f,h;if(c>=0)a={data:e.subarray(c,i-l-1),type:n},d.push(a);else if(f=this._getLastNalUnit())if(u&&i<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(r=i-l-1)>0)(h=new Uint8Array(f.data.byteLength+r)).set(f.data,0),h.set(e.subarray(0,r),f.data.byteLength),f.data=h;i<o?(c=i,n=31&e[i],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;(c>=0&&l>=0&&(a={data:e.subarray(c,o),type:n,state:l},d.push(a)),0===d.length)&&((f=this._getLastNalUnit())&&((h=new Uint8Array(f.data.byteLength+e.byteLength)).set(f.data,0),h.set(e,f.data.byteLength),f.data=h));return s.naluState=l,d},e.prototype.discardEPB=function(e){for(var t,r,a=e.byteLength,n=[],i=1;i<a-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return e;t=a-n.length,r=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===n[0]&&(o++,n.shift()),r[i]=e[o];return r},e.prototype._parseAACPES=function(e){var t,r,n,o,s,d=this._audioTrack,c=e.data,f=e.pts,h=this.aacOverFlow,p=this.aacLastPTS;if(h){var v=new Uint8Array(h.byteLength+c.byteLength);v.set(h,0),v.set(c,h.byteLength),c=v}for(n=0,s=c.length;n<s-1&&!a.isHeader(c,n);n++);if(n){var g=void 0,y=void 0;if(n<s-1?(g=\"AAC PES did not start with ADTS header,offset:\"+n,y=!1):(g=\"no ADTS header found in AAC PES\",y=!0),l.logger.warn(\"parsing error:\"+g),this.observer.trigger(i.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:y,reason:g}),y)return}if(a.initTrackConfig(d,this.observer,c,n,this.audioCodec),r=0,t=a.getFrameDuration(d.samplerate),h&&p){var m=p+t;Math.abs(m-f)>1&&(l.logger.log(\"AAC: align PTS for overlapping frames by \"+Math.round((m-f)/90)),f=m)}for(;n<s;)if(a.isHeader(c,n)&&n+5<s){var b=a.appendFrame(d,c,n,f,r);if(!b)break;n+=b.length,o=b.sample.pts,r++}else n++;h=n<s?c.subarray(n,s):null,this.aacOverFlow=h,this.aacLastPTS=o},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,a=0,i=0,o=e.pts;i<r;)if(n.default.isHeader(t,i)){var s=n.default.appendFrame(this._audioTrack,t,i,o,a);if(!s)break;i+=s.length,a++}else i++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=c},\"./src/errors.js\":\n/*!***********************!*\\\n  !*** ./src/errors.js ***!\n  \\***********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ErrorTypes={NETWORK_ERROR:\"networkError\",MEDIA_ERROR:\"mediaError\",KEY_SYSTEM_ERROR:\"keySystemError\",MUX_ERROR:\"muxError\",OTHER_ERROR:\"otherError\"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:\"keySystemNoKeys\",KEY_SYSTEM_NO_ACCESS:\"keySystemNoAccess\",KEY_SYSTEM_NO_SESSION:\"keySystemNoSession\",KEY_SYSTEM_LICENSE_REQUEST_FAILED:\"keySystemLicenseRequestFailed\",MANIFEST_LOAD_ERROR:\"manifestLoadError\",MANIFEST_LOAD_TIMEOUT:\"manifestLoadTimeOut\",MANIFEST_PARSING_ERROR:\"manifestParsingError\",MANIFEST_INCOMPATIBLE_CODECS_ERROR:\"manifestIncompatibleCodecsError\",LEVEL_LOAD_ERROR:\"levelLoadError\",LEVEL_LOAD_TIMEOUT:\"levelLoadTimeOut\",LEVEL_SWITCH_ERROR:\"levelSwitchError\",AUDIO_TRACK_LOAD_ERROR:\"audioTrackLoadError\",AUDIO_TRACK_LOAD_TIMEOUT:\"audioTrackLoadTimeOut\",FRAG_LOAD_ERROR:\"fragLoadError\",FRAG_LOAD_TIMEOUT:\"fragLoadTimeOut\",FRAG_DECRYPT_ERROR:\"fragDecryptError\",FRAG_PARSING_ERROR:\"fragParsingError\",REMUX_ALLOC_ERROR:\"remuxAllocError\",KEY_LOAD_ERROR:\"keyLoadError\",KEY_LOAD_TIMEOUT:\"keyLoadTimeOut\",BUFFER_ADD_CODEC_ERROR:\"bufferAddCodecError\",BUFFER_APPEND_ERROR:\"bufferAppendError\",BUFFER_APPENDING_ERROR:\"bufferAppendingError\",BUFFER_STALLED_ERROR:\"bufferStalledError\",BUFFER_FULL_ERROR:\"bufferFullError\",BUFFER_SEEK_OVER_HOLE:\"bufferSeekOverHole\",BUFFER_NUDGE_ON_STALL:\"bufferNudgeOnStall\",INTERNAL_EXCEPTION:\"internalException\"}},\"./src/event-handler.js\":\n/*!******************************!*\\\n  !*** ./src/event-handler.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./utils/logger */\"./src/utils/logger.js\"),n=r(/*! ./errors */\"./src/errors.js\"),i=r(/*! ./events */\"./src/events.js\"),o={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return\"object\"==typeof this.handledEvents&&this.handledEvents.length&&\"function\"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(o[e])throw new Error(\"Forbidden event-name: \"+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r=\"on\"+e.replace(\"hls\",\"\");if(\"function\"!=typeof this[r])throw new Error(\"Event \"+e+\" has no generic handler in this \"+this.constructor.name+\" class (tried \"+r+\")\");return this[r].bind(this,t)}).call(this,e,t).call()}catch(r){a.logger.error(\"An internal error happened while handling event \"+e+'. Error message: \"'+r.message+'\". Here is a stacktrace:',r),this.hls.trigger(i.default.ERROR,{type:n.ErrorTypes.OTHER_ERROR,details:n.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:r})}},e}();t.default=s},\"./src/events.js\":\n/*!***********************!*\\\n  !*** ./src/events.js ***!\n  \\***********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={MEDIA_ATTACHING:\"hlsMediaAttaching\",MEDIA_ATTACHED:\"hlsMediaAttached\",MEDIA_DETACHING:\"hlsMediaDetaching\",MEDIA_DETACHED:\"hlsMediaDetached\",BUFFER_RESET:\"hlsBufferReset\",BUFFER_CODECS:\"hlsBufferCodecs\",BUFFER_CREATED:\"hlsBufferCreated\",BUFFER_APPENDING:\"hlsBufferAppending\",BUFFER_APPENDED:\"hlsBufferAppended\",BUFFER_EOS:\"hlsBufferEos\",BUFFER_FLUSHING:\"hlsBufferFlushing\",BUFFER_FLUSHED:\"hlsBufferFlushed\",MANIFEST_LOADING:\"hlsManifestLoading\",MANIFEST_LOADED:\"hlsManifestLoaded\",MANIFEST_PARSED:\"hlsManifestParsed\",LEVEL_SWITCHING:\"hlsLevelSwitching\",LEVEL_SWITCHED:\"hlsLevelSwitched\",LEVEL_LOADING:\"hlsLevelLoading\",LEVEL_LOADED:\"hlsLevelLoaded\",LEVEL_UPDATED:\"hlsLevelUpdated\",LEVEL_PTS_UPDATED:\"hlsLevelPtsUpdated\",AUDIO_TRACKS_UPDATED:\"hlsAudioTracksUpdated\",AUDIO_TRACK_SWITCHING:\"hlsAudioTrackSwitching\",AUDIO_TRACK_SWITCHED:\"hlsAudioTrackSwitched\",AUDIO_TRACK_LOADING:\"hlsAudioTrackLoading\",AUDIO_TRACK_LOADED:\"hlsAudioTrackLoaded\",SUBTITLE_TRACKS_UPDATED:\"hlsSubtitleTracksUpdated\",SUBTITLE_TRACK_SWITCH:\"hlsSubtitleTrackSwitch\",SUBTITLE_TRACK_LOADING:\"hlsSubtitleTrackLoading\",SUBTITLE_TRACK_LOADED:\"hlsSubtitleTrackLoaded\",SUBTITLE_FRAG_PROCESSED:\"hlsSubtitleFragProcessed\",INIT_PTS_FOUND:\"hlsInitPtsFound\",FRAG_LOADING:\"hlsFragLoading\",FRAG_LOAD_PROGRESS:\"hlsFragLoadProgress\",FRAG_LOAD_EMERGENCY_ABORTED:\"hlsFragLoadEmergencyAborted\",FRAG_LOADED:\"hlsFragLoaded\",FRAG_DECRYPTED:\"hlsFragDecrypted\",FRAG_PARSING_INIT_SEGMENT:\"hlsFragParsingInitSegment\",FRAG_PARSING_USERDATA:\"hlsFragParsingUserdata\",FRAG_PARSING_METADATA:\"hlsFragParsingMetadata\",FRAG_PARSING_DATA:\"hlsFragParsingData\",FRAG_PARSED:\"hlsFragParsed\",FRAG_BUFFERED:\"hlsFragBuffered\",FRAG_CHANGED:\"hlsFragChanged\",FPS_DROP:\"hlsFpsDrop\",FPS_DROP_LEVEL_CAPPING:\"hlsFpsDropLevelCapping\",ERROR:\"hlsError\",DESTROYING:\"hlsDestroying\",KEY_LOADING:\"hlsKeyLoading\",KEY_LOADED:\"hlsKeyLoaded\",STREAM_STATE_TRANSITION:\"hlsStreamStateTransition\"}},\"./src/hls.js\":\n/*!********************!*\\\n  !*** ./src/hls.js ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! url-toolkit */\"./node_modules/url-toolkit/src/url-toolkit.js\"),o=r(/*! ./errors */\"./src/errors.js\"),s=r(/*! ./loader/playlist-loader */\"./src/loader/playlist-loader.js\"),l=r(/*! ./loader/fragment-loader */\"./src/loader/fragment-loader.js\"),u=r(/*! ./loader/key-loader */\"./src/loader/key-loader.js\"),d=r(/*! ./controller/fragment-tracker */\"./src/controller/fragment-tracker.js\"),c=r(/*! ./controller/stream-controller */\"./src/controller/stream-controller.js\"),f=r(/*! ./controller/level-controller */\"./src/controller/level-controller.js\"),h=r(/*! ./controller/id3-track-controller */\"./src/controller/id3-track-controller.js\"),p=r(/*! ./is-supported */\"./src/is-supported.js\"),v=r(/*! ./utils/logger */\"./src/utils/logger.js\"),g=r(/*! ./config */\"./src/config.js\"),y=r(/*! ./events */\"./src/events.js\"),m=function(e){function t(r){void 0===r&&(r={});var a=e.call(this)||this,n=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error(\"Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration\");for(var i in n)i in r||(r[i]=n[i]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: \"liveMaxLatencyDurationCount\" must be gt \"liveSyncDurationCount\"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: \"liveMaxLatencyDuration\" must be gt \"liveSyncDuration\"');v.enableLogs(r.debug),a.config=r,a._autoLevelCapping=-1;var o=a.abrController=new r.abrController(a),p=new r.bufferController(a),g=new r.capLevelController(a),y=new r.fpsController(a),m=new s.default(a),b=new l.default(a),E=new u.default(a),_=new h.default(a),S=a.levelController=new f.default(a),T=new d.FragmentTracker(a),k=[S,a.streamController=new c.default(a,T)],A=r.audioStreamController;A&&k.push(new A(a,T)),a.networkControllers=k;var R=[m,b,E,o,p,g,y,_,T];if(A=r.audioTrackController){var w=new A(a);a.audioTrackController=w,R.push(w)}if(A=r.subtitleTrackController){var P=new A(a);a.subtitleTrackController=P,k.push(P)}if(A=r.emeController){var D=new A(a);a.emeController=D,R.push(D)}return(A=r.subtitleStreamController)&&k.push(new A(a,T)),(A=r.timelineController)&&R.push(new A(a)),a.coreComponents=R,a}return n(t,e),Object.defineProperty(t,\"version\",{get:function(){return\"0.12.4\"},enumerable:!0,configurable:!0}),t.isSupported=function(){return p.isSupported()},Object.defineProperty(t,\"Events\",{get:function(){return y.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"ErrorTypes\",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"ErrorDetails\",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"DefaultConfig\",{get:function(){return t.defaultConfig?t.defaultConfig:g.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){v.logger.log(\"destroy\"),this.trigger(y.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){v.logger.log(\"attachMedia\"),this.media=e,this.trigger(y.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){v.logger.log(\"detachMedia\"),this.trigger(y.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=i.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),v.logger.log(\"loadSource:\"+e),this.url=e,this.trigger(y.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),v.logger.log(\"startLoad(\"+e+\")\"),this.networkControllers.forEach(function(t){t.startLoad(e)})},t.prototype.stopLoad=function(){v.logger.log(\"stopLoad\"),this.networkControllers.forEach(function(e){e.stopLoad()})},t.prototype.swapAudioCodec=function(){v.logger.log(\"swapAudioCodec\"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){v.logger.log(\"recoverMediaError\");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,\"levels\",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"currentLevel\",{get:function(){return this.streamController.currentLevel},set:function(e){v.logger.log(\"set currentLevel:\"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextLevel\",{get:function(){return this.streamController.nextLevel},set:function(e){v.logger.log(\"set nextLevel:\"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"loadLevel\",{get:function(){return this.levelController.level},set:function(e){v.logger.log(\"set loadLevel:\"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextLoadLevel\",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"firstLevel\",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){v.logger.log(\"set firstLevel:\"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"startLevel\",{get:function(){return this.levelController.startLevel},set:function(e){v.logger.log(\"set startLevel:\"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"autoLevelCapping\",{get:function(){return this._autoLevelCapping},set:function(e){v.logger.log(\"set autoLevelCapping:\"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"autoLevelEnabled\",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"manualLevel\",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"minAutoLevel\",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,a=0;a<r;a++){if((e[a].realBitrate?Math.max(e[a].realBitrate,e[a].bitrate):e[a].bitrate)>t)return a}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxAutoLevel\",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"nextAutoLevel\",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"audioTracks\",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"audioTrack\",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"liveSyncPosition\",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"subtitleTracks\",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"subtitleTrack\",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"subtitleDisplay\",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(r(/*! ./observer */\"./src/observer.js\").Observer);t.default=m},\"./src/is-supported.js\":\n/*!*****************************!*\\\n  !*** ./src/is-supported.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./utils/mediasource-helper */\"./src/utils/mediasource-helper.js\");t.isSupported=function(){var e=a.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&\"function\"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"'),n=!t||t.prototype&&\"function\"==typeof t.prototype.appendBuffer&&\"function\"==typeof t.prototype.remove;return!!r&&!!n}},\"./src/loader/fragment-loader.js\":\n/*!***************************************!*\\\n  !*** ./src/loader/fragment-loader.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../errors */\"./src/errors.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=function(t){function r(e){var r=t.call(this,e,i.default.FRAG_LOADING)||this;return r.loaders={},r}return n(r,t),r.prototype.destroy=function(){var e=this.loaders;for(var r in e){var a=e[r];a&&a.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.prototype.onFragLoading=function(t){var r=t.frag,a=r.type,n=this.loaders,i=this.hls.config,o=i.fLoader,s=i.loader;r.loaded=0;var u,d,c,f=n[a];f&&(l.logger.warn(\"abort previous fragment loader for type: \"+a),f.abort()),f=n[a]=r.loader=i.fLoader?new o(i):new s(i),u={url:r.url,frag:r,responseType:\"arraybuffer\",progressData:!1};var h=r.byteRangeStartOffset,p=r.byteRangeEndOffset;e.isFinite(h)&&e.isFinite(p)&&(u.rangeStart=h,u.rangeEnd=p),d={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(u,d,c)},r.prototype.loadsuccess=function(e,t,r,a){void 0===a&&(a=null);var n=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(i.default.FRAG_LOADED,{payload:n,frag:o,stats:t,networkDetails:a})},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var a=t.frag,n=a.loader;n&&n.abort(),this.loaders[a.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var a=t.frag,n=a.loader;n&&n.abort(),this.loaders[a.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},r.prototype.loadprogress=function(e,t,r,a){void 0===a&&(a=null);var n=t.frag;n.loaded=e.loaded,this.hls.trigger(i.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e,networkDetails:a})},r}(o.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/loader/fragment.js\":\n/*!********************************!*\\\n  !*** ./src/loader/fragment.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! url-toolkit */\"./node_modules/url-toolkit/src/url-toolkit.js\"),n=r(/*! ./level-key */\"./src/loader/level-key.js\"),i=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,\"ElementaryStreamTypes\",{get:function(){return{AUDIO:\"audio\",VIDEO:\"video\"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"url\",{get:function(){return!this._url&&this.relurl&&(this._url=a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"byteRange\",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split(\"@\",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"byteRangeStartOffset\",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"byteRangeEndOffset\",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"decryptdata\",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"endProgramDateTime\",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"encrypted\",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new n.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},t}();t.default=i}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/loader/key-loader.js\":\n/*!**********************************!*\\\n  !*** ./src/loader/key-loader.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../errors */\"./src/errors.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=function(e){function t(t){var r=e.call(this,t,i.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return n(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,a=this.loaders[r],n=t.decryptdata,o=n.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;a&&(l.logger.warn(\"abort previous key loader for type:\"+r),a.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var u,d,c;u={url:o,frag:t,responseType:\"arraybuffer\"},d={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,d,c)}else this.decryptkey&&(n.key=this.decryptkey,this.hls.trigger(i.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var a=r.frag;this.decryptkey=a.decryptdata.key=new Uint8Array(e.data),a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(i.default.KEY_LOADED,{frag:a})},t.prototype.loaderror=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,a=r.loader;a&&a.abort(),this.loaders[t.type]=void 0,this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(o.default);t.default=u},\"./src/loader/level-key.js\":\n/*!*********************************!*\\\n  !*** ./src/loader/level-key.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! url-toolkit */\"./node_modules/url-toolkit/src/url-toolkit.js\"),n=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,\"uri\",{get:function(){return!this._uri&&this.reluri&&(this._uri=a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=n},\"./src/loader/level.js\":\n/*!*****************************!*\\\n  !*** ./src/loader/level.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,\"hasProgramDateTime\",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=r}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/loader/m3u8-parser.js\":\n/*!***********************************!*\\\n  !*** ./src/loader/m3u8-parser.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! url-toolkit */\"./node_modules/url-toolkit/src/url-toolkit.js\"),n=r(/*! ./fragment */\"./src/loader/fragment.js\"),i=r(/*! ./level */\"./src/loader/level.js\"),o=r(/*! ./level-key */\"./src/loader/level-key.js\"),s=r(/*! ../utils/attr-list */\"./src/utils/attr-list.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=r(/*! ../utils/codecs */\"./src/utils/codecs.js\"),d=/#EXT-X-STREAM-INF:([^\\n\\r]*)[\\r\\n]+([^\\r\\n]+)/g,c=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\\s*(\\d*(?:\\.\\d+)?)(?:,(.*)\\s+)?/.source,/|(?!#)([\\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(\"\"),\"g\"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\\d+))|(?:#EXT-X-(TARGETDURATION): *(\\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\\r?\\n?/,p=/\\.(mp4|m4s|m4v|m4a)$/i,v=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var r=null,a=0;a<e.length;a++){var n=e[a];n.id===t&&(r=n)}return r},t.convertAVC1ToAVCOTI=function(e){var t,r=e.split(\".\");return r.length>2?(t=r.shift()+\".\",t+=parseInt(r.shift()).toString(16),t+=(\"000\"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var a,n=[];function i(e,t){[\"video\",\"audio\"].forEach(function(r){var a=e.filter(function(e){return u.isCodecType(e,r)});if(a.length){var n=a.filter(function(e){return 0===e.lastIndexOf(\"avc1\",0)||0===e.lastIndexOf(\"mp4a\",0)});t[r+\"Codec\"]=n.length>0?n[0]:a[0],e=e.filter(function(e){return-1===a.indexOf(e)})}}),t.unknownCodecs=e}for(d.lastIndex=0;null!=(a=d.exec(e));){var o={},l=o.attrs=new s.default(a[1]);o.url=t.resolve(a[2],r);var c=l.decimalResolution(\"RESOLUTION\");c&&(o.width=c.width,o.height=c.height),o.bitrate=l.decimalInteger(\"AVERAGE-BANDWIDTH\")||l.decimalInteger(\"BANDWIDTH\"),o.name=l.NAME,i([].concat((l.CODECS||\"\").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf(\"avc1\")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),n.push(o)}return n},t.parseMasterPlaylistMedia=function(e,r,a,n){var i;void 0===n&&(n=[]);var o=[],l=0;for(c.lastIndex=0;null!==(i=c.exec(e));){var u={},d=new s.default(i[1]);if(d.TYPE===a){if(u.groupId=d[\"GROUP-ID\"],u.name=d.NAME,u.type=a,u.default=\"YES\"===d.DEFAULT,u.autoselect=\"YES\"===d.AUTOSELECT,u.forced=\"YES\"===d.FORCED,d.URI&&(u.url=t.resolve(d.URI,r)),u.lang=d.LANGUAGE,u.name||(u.name=u.lang),n.length){var f=t.findGroup(n,u.groupId);u.audioCodec=f?f.codec:n[0].codec}u.id=l++,o.push(u)}}return o},t.parseLevelPlaylist=function(t,r,a,u,d){var c,v,y=0,m=0,b=new i.default(r),E=new o.default,_=0,S=null,T=new n.default,k=null;for(f.lastIndex=0;null!==(c=f.exec(t));){var A=c[1];if(A){T.duration=parseFloat(A);var R=(\" \"+c[2]).slice(1);T.title=R||null,T.tagList.push(R?[\"INF\",A,R]:[\"INF\",A])}else if(c[3]){if(e.isFinite(T.duration)){var w=y++;T.type=u,T.start=m,T.levelkey=E,T.sn=w,T.level=a,T.cc=_,T.urlId=d,T.baseurl=r,T.relurl=(\" \"+c[3]).slice(1),g(T,S),b.fragments.push(T),S=T,m+=T.duration,T=new n.default}}else if(c[4]){if(T.rawByteRange=(\" \"+c[4]).slice(1),S){var P=S.byteRangeEndOffset;P&&(T.lastByteRangeEndOffset=P)}}else if(c[5])T.rawProgramDateTime=(\" \"+c[5]).slice(1),T.tagList.push([\"PROGRAM-DATE-TIME\",T.rawProgramDateTime]),null===k&&(k=b.fragments.length);else{for(c=c[0].match(h),v=1;v<c.length&&void 0===c[v];v++);var D=(\" \"+c[v+1]).slice(1),C=(\" \"+c[v+2]).slice(1);switch(c[v]){case\"#\":T.tagList.push(C?[D,C]:[D]);break;case\"PLAYLIST-TYPE\":b.type=D.toUpperCase();break;case\"MEDIA-SEQUENCE\":y=b.startSN=parseInt(D);break;case\"TARGETDURATION\":b.targetduration=parseFloat(D);break;case\"VERSION\":b.version=parseInt(D);break;case\"EXTM3U\":break;case\"ENDLIST\":b.live=!1;break;case\"DIS\":_++,T.tagList.push([\"DIS\"]);break;case\"DISCONTINUITY-SEQ\":_=parseInt(D);break;case\"KEY\":var O=D,L=new s.default(O),I=L.enumeratedString(\"METHOD\"),x=L.URI,M=L.hexadecimalInteger(\"IV\");I&&(E=new o.default,x&&[\"AES-128\",\"SAMPLE-AES\",\"SAMPLE-AES-CENC\"].indexOf(I)>=0&&(E.method=I,E.baseuri=r,E.reluri=x,E.key=null,E.iv=M));break;case\"START\":var F=D,N=new s.default(F).decimalFloatingPoint(\"TIME-OFFSET\");e.isFinite(N)&&(b.startTimeOffset=N);break;case\"MAP\":var j=new s.default(D);T.relurl=j.URI,T.rawByteRange=j.BYTERANGE,T.baseurl=r,T.level=a,T.type=u,T.sn=\"initSegment\",b.initSegment=T,(T=new n.default).rawProgramDateTime=b.initSegment.rawProgramDateTime;break;default:l.logger.warn(\"line parsed but not handled: \"+c)}}}return(T=S)&&!T.relurl&&(b.fragments.pop(),m-=T.duration),b.totalduration=m,b.averagetargetduration=m/b.fragments.length,b.endSN=y-1,b.startCC=b.fragments[0]?b.fragments[0].cc:0,b.endCC=_,!b.initSegment&&b.fragments.length&&b.fragments.every(function(e){return p.test(e.relurl)})&&(l.logger.warn(\"MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX\"),(T=new n.default).relurl=b.fragments[0].relurl,T.baseurl=r,T.level=a,T.type=u,T.sn=\"initSegment\",b.initSegment=T,b.needSidxRanges=!0),k&&function(e,t){for(var r=e[t],a=t-1;a>=0;a--){var n=e[a];n.programDateTime=r.programDateTime-1e3*n.duration,r=n}}(b.fragments,k),b},t}();function g(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=v}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/loader/playlist-loader.js\":\n/*!***************************************!*\\\n  !*** ./src/loader/playlist-loader.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../event-handler */\"./src/event-handler.js\"),s=r(/*! ../errors */\"./src/errors.js\"),l=r(/*! ../utils/logger */\"./src/utils/logger.js\"),u=r(/*! ../demux/mp4demuxer */\"./src/demux/mp4demuxer.js\"),d=r(/*! ./m3u8-parser */\"./src/loader/m3u8-parser.js\"),c=window.performance,f={MANIFEST:\"manifest\",LEVEL:\"level\",AUDIO_TRACK:\"audioTrack\",SUBTITLE_TRACK:\"subtitleTrack\"},h={MAIN:\"main\",AUDIO:\"audio\",SUBTITLE:\"subtitle\"},p=function(t){function r(e){var r=t.call(this,e,i.default.MANIFEST_LOADING,i.default.LEVEL_LOADING,i.default.AUDIO_TRACK_LOADING,i.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return n(r,t),Object.defineProperty(r,\"ContextType\",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(r,\"LevelType\",{get:function(){return h},enumerable:!0,configurable:!0}),r.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},r.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},r.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf(\"data:\")||(r=t.url),r},r.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,a=t.loader,n=new(r||a)(t);return e.loader=n,this.loaders[e.type]=n,n},r.prototype.getInternalLoader=function(e){return this.loaders[e.type]},r.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},r.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},r.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},r.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},r.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},r.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},r.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},r.prototype.load=function(e,t){var r=this.hls.config;l.logger.debug(\"Loading playlist of type \"+t.type+\", level: \"+t.level+\", id: \"+t.id);var a,n,i,o,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===e)return l.logger.trace(\"playlist request ongoing\"),!1;l.logger.warn(\"aborting previous loader for type: \"+t.type),s.abort()}switch(t.type){case f.MANIFEST:a=r.manifestLoadingMaxRetry,n=r.manifestLoadingTimeOut,i=r.manifestLoadingRetryDelay,o=r.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:a=0,n=r.levelLoadingTimeOut;break;default:a=r.levelLoadingMaxRetry,n=r.levelLoadingTimeOut,i=r.levelLoadingRetryDelay,o=r.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||\"\";var d={timeout:n,maxRetry:a,retryDelay:i,maxRetryDelay:o},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug(\"Calling internal loader delegate for URL: \"+e),s.load(t,d,c),!0},r.prototype.loadsuccess=function(e,t,r,a){if(void 0===a&&(a=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,a);this.resetInternalLoader(r.type);var n=e.data;t.tload=c.now(),0===n.indexOf(\"#EXTM3U\")?n.indexOf(\"#EXTINF:\")>0||n.indexOf(\"#EXT-X-TARGETDURATION:\")>0?this._handleTrackOrLevelPlaylist(e,t,r,a):this._handleMasterPlaylist(e,t,r,a):this._handleManifestParsingError(e,r,\"no EXTM3U delimiter\",a)},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},r.prototype._handleMasterPlaylist=function(e,t,a,n){var o=this.hls,s=e.data,u=r.getResponseUrl(e,a),c=d.default.parseMasterPlaylist(s,u);if(c.length){var f=c.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),h=d.default.parseMasterPlaylistMedia(s,u,\"AUDIO\",f),p=d.default.parseMasterPlaylistMedia(s,u,\"SUBTITLES\");if(h.length){var v=!1;h.forEach(function(e){e.url||(v=!0)}),!1===v&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(l.logger.log(\"audio codec signaled in quality level, but no embedded audio track signaled, create one\"),h.unshift({type:\"main\",name:\"main\"}))}o.trigger(i.default.MANIFEST_LOADED,{levels:c,audioTracks:h,subtitles:p,url:u,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,a,\"no level found in manifest\",n)},r.prototype._handleTrackOrLevelPlaylist=function(t,a,n,o){var s=this.hls,l=n.id,u=n.level,h=n.type,p=r.getResponseUrl(t,n),v=e.isFinite(l)?l:0,g=e.isFinite(u)?u:v,y=r.mapContextToLevelType(n),m=d.default.parseLevelPlaylist(t.data,p,g,y,v);if(m.tload=a.tload,h===f.MANIFEST){var b={url:p,details:m};s.trigger(i.default.MANIFEST_LOADED,{levels:[b],audioTracks:[],url:p,stats:a,networkDetails:o})}if(a.tparsed=c.now(),m.needSidxRanges){var E=m.initSegment.url;this.load(E,{isSidxRequest:!0,type:h,level:u,levelDetails:m,id:l,rangeStart:0,rangeEnd:2048,responseType:\"arraybuffer\"})}else n.levelDetails=m,this._handlePlaylistLoaded(t,a,n,o)},r.prototype._handleSidxRequest=function(e,t){var r=u.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var a=r.references,n=t.levelDetails;a.forEach(function(e,t){var r=e.info,a=n.fragments[t];0===a.byteRange.length&&(a.rawByteRange=String(1+r.end-r.start)+\"@\"+String(r.start))}),n.initSegment.rawByteRange=String(r.moovEndOffset)+\"@0\"}},r.prototype._handleManifestParsingError=function(e,t,r,a){this.hls.trigger(i.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:a})},r.prototype._handleNetworkError=function(e,t,r,a){var n,o;void 0===r&&(r=!1),void 0===a&&(a=null),l.logger.info(\"A network error occured while loading a \"+e.type+\"-type playlist\");var u=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:n=r?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case f.LEVEL:n=r?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case f.AUDIO_TRACK:n=r?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var d={type:s.ErrorTypes.NETWORK_ERROR,details:n,fatal:o,url:u.url,loader:u,context:e,networkDetails:t};a&&(d.response=a),this.hls.trigger(i.default.ERROR,d)},r.prototype._handlePlaylistLoaded=function(e,t,a,n){var o=a.type,s=a.level,l=a.id,u=a.levelDetails;if(u.targetduration)if(r.canHaveQualityLevels(a.type))this.hls.trigger(i.default.LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:t,networkDetails:n});else switch(o){case f.AUDIO_TRACK:this.hls.trigger(i.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:n});break;case f.SUBTITLE_TRACK:this.hls.trigger(i.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,a,\"invalid target duration\",n)},r}(o.default);t.default=p}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/observer.js\":\n/*!*************************!*\\\n  !*** ./src/observer.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},t}(r(/*! eventemitter3 */\"./node_modules/eventemitter3/index.js\").EventEmitter);t.Observer=i},\"./src/polyfills/number.js\":\n/*!*********************************!*\\\n  !*** ./src/polyfills/number.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/get-self-scope */\"./src/utils/get-self-scope.js\").getSelfScope().Number;t.Number=a,a.isFinite=a.isFinite||function(e){return\"number\"==typeof e&&isFinite(e)}},\"./src/remux/aac-helper.js\":\n/*!*********************************!*\\\n  !*** ./src/remux/aac-helper.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case\"mp4a.40.2\":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=a},\"./src/remux/mp4-generator.js\":\n/*!************************************!*\\\n  !*** ./src/remux/mp4-generator.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=Math.pow(2,32)-1,n=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],\".mp3\":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),a=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:a};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=i,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,l,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),a=8,n=r.length,i=n;n--;)a+=r[n].byteLength;for((t=new Uint8Array(a))[0]=a>>24&255,t[1]=a>>16&255,t[2]=a>>8&255,t[3]=255&a,t.set(e,4),n=0,a=8;n<i;n++)t.set(r[n],a),a+=r[n].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(a+1)),i=Math.floor(r%(a+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return\"audio\"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,a){return e.box(e.types.moof,e.mfhd(t),e.traf(a,r))},e.moov=function(t){for(var r=t.length,a=[];r--;)a[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(a).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,a=[];r--;)a[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(a))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(a+1)),i=Math.floor(r%(a+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,a,n=t.samples||[],i=new Uint8Array(4+n.length);for(a=0;a<n.length;a++)r=n[a].flags,i[a+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,i)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,a,n,i=[],o=[];for(r=0;r<t.sps.length;r++)n=(a=t.sps[r]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(a));for(r=0;r<t.pps.length;r++)n=(a=t.pps[r]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(a));var s=e.box(e.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),l=t.width,u=t.height,d=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,c>>24,c>>16&255,c>>8&255,255&c])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[\".mp3\"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return\"audio\"===t.type?t.isAAC||\"mp3\"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,o=t.height,s=Math.floor(n/(a+1)),l=Math.floor(n%(a+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,o=Math.floor(r/(a+1)),s=Math.floor(r%(a+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var a,n,i,o,s,l,u=t.samples||[],d=u.length,c=12+16*d,f=new Uint8Array(c);for(r+=8+c,f.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),a=0;a<d;a++)i=(n=u[a]).duration,o=n.size,s=n.flags,l=n.cts,f.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*a);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,a=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+a.byteLength)).set(e.FTYP),r.set(a,e.FTYP.byteLength),r},e}();t.default=n},\"./src/remux/mp4-remuxer.js\":\n/*!**********************************!*\\\n  !*** ./src/remux/mp4-remuxer.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./aac-helper */\"./src/remux/aac-helper.js\"),n=r(/*! ./mp4-generator */\"./src/remux/mp4-generator.js\"),i=r(/*! ../events */\"./src/events.js\"),o=r(/*! ../errors */\"./src/errors.js\"),s=r(/*! ../utils/logger */\"./src/utils/logger.js\"),l=function(){function e(e,t,r,a){this.observer=e,this.config=t,this.typeSupported=r;var n=navigator.userAgent;this.isSafari=a&&a.indexOf(\"Apple\")>-1&&n&&!n.match(\"CriOS\"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,a,n,o,l){if(this.ISGenerated||this.generateIS(e,t,n),this.ISGenerated){var u=e.samples.length,d=t.samples.length,c=n,f=n;if(u&&d){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;c+=Math.max(0,h),f+=Math.max(0,-h)}if(u){e.timescale||(s.logger.warn(\"regenerate InitSegment as audio detected\"),this.generateIS(e,t,n));var p=this.remuxAudio(e,c,o,l);if(d){var v=void 0;p&&(v=p.endPTS-p.startPTS),t.timescale||(s.logger.warn(\"regenerate InitSegment as video detected\"),this.generateIS(e,t,n)),this.remuxVideo(t,f,o,v,l)}}else if(d){var g=this.remuxVideo(t,f,o,0,l);g&&e.codec&&this.remuxEmptyAudio(e,c,o,g)}}r.samples.length&&this.remuxID3(r,n),a.samples.length&&this.remuxText(a,n),this.observer.trigger(i.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var a,l,u=this.observer,d=e.samples,c=t.samples,f=this.typeSupported,h=\"audio/mp4\",p={},v={tracks:p},g=void 0===this._initPTS;if(g&&(a=l=1/0),e.config&&d.length&&(e.timescale=e.samplerate,s.logger.log(\"audio sampling rate : \"+e.samplerate),e.isAAC||(f.mpeg?(h=\"audio/mpeg\",e.codec=\"\"):f.mp3&&(e.codec=\"mp3\")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:n.default.initSegment([e]),metadata:{channelCount:e.channelCount}},g&&(a=l=d[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&c.length){var y=t.inputTimeScale;t.timescale=y,p.video={container:\"video/mp4\",codec:t.codec,initSegment:n.default.initSegment([t]),metadata:{width:t.width,height:t.height}},g&&(a=Math.min(a,c[0].pts-y*r),l=Math.min(l,c[0].dts-y*r),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:a}))}Object.keys(p).length?(u.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,v),this.ISGenerated=!0,g&&(this._initPTS=a,this._initDTS=l)):u.trigger(i.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:\"no audio/video samples found\"})},e.prototype.remuxVideo=function(e,t,r,a,l){var u,d,c,f,h,p,v,g=8,y=e.timescale,m=e.samples,b=[],E=m.length,_=this._PTSNormalize,S=this._initPTS,T=this.nextAvcDts,k=this.isSafari;if(0!==E){k&&(r|=m.length&&T&&(l&&Math.abs(t-T/y)<.1||Math.abs(m[0].pts-T-S)<y/5)),r||(T=t*y),m.forEach(function(e){e.pts=_(e.pts-S,T),e.dts=_(e.dts-S,T)}),m.sort(function(e,t){var r=e.dts-t.dts,a=e.pts-t.pts;return r||a||e.id-t.id});var A=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(A<0){s.logger.warn(\"PTS < DTS detected in video samples, shifting DTS by \"+Math.round(A/90)+\" ms to overcome this issue\");for(var R=0;R<m.length;R++)m[R].dts+=A}var w=m[0];h=Math.max(w.dts,0),f=Math.max(w.pts,0);var P=Math.round((h-T)/90);r&&P&&(P>1?s.logger.log(\"AVC:\"+P+\" ms hole between fragments detected,filling it\"):P<-1&&s.logger.log(\"AVC:\"+-P+\" ms overlapping between fragments detected\"),h=T,m[0].dts=h,f=Math.max(f-P,T),m[0].pts=f,s.logger.log(\"Video/PTS/DTS adjusted: \"+Math.round(f/90)+\"/\"+Math.round(h/90)+\",delta:\"+P+\" ms\")),w=m[m.length-1],v=Math.max(w.dts,0),p=Math.max(w.pts,0,v),k&&(u=Math.round((v-h)/(m.length-1)));var D=0,C=0;for(R=0;R<E;R++){for(var O=m[R],L=O.units,I=L.length,x=0,M=0;M<I;M++)x+=L[M].data.length;C+=x,D+=I,O.length=x,O.dts=k?h+R*u:Math.max(O.dts,h),O.pts=Math.max(O.pts,O.dts)}var F=C+4*D+8;try{d=new Uint8Array(F)}catch($){return void this.observer.trigger(i.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:\"fail allocating video mdat \"+F})}var N=new DataView(d.buffer);N.setUint32(0,F),d.set(n.default.types.mdat,4);for(R=0;R<E;R++){var j=m[R],B=j.units,U=0,G=void 0;for(M=0,I=B.length;M<I;M++){var K=B[M],H=K.data,V=K.data.byteLength;N.setUint32(g,V),g+=4,d.set(H,g),g+=V,U+=4+V}if(k)G=Math.max(0,u*Math.round((j.pts-j.dts)/u));else{if(R<E-1)u=m[R+1].dts-j.dts;else{var q=this.config,W=j.dts-m[R>0?R-1:R].dts;if(q.stretchShortVideoTrack){var z=q.maxBufferHole,Y=Math.floor(z*y),X=(a?f+a*y:this.nextAudioPts)-j.pts;X>Y?((u=X-W)<0&&(u=W),s.logger.log(\"It is approximately \"+X/90+\" ms to the next segment; using duration \"+u/90+\" ms for the last video frame.\")):u=W}else u=W}G=Math.round(j.pts-j.dts)}b.push({size:U,duration:u,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=v+u;var Q=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf(\"chrome\")>-1){var J=b[0].flags;J.dependsOn=2,J.isNonSync=0}e.samples=b,c=n.default.moof(e.sequenceNumber++,h,e),e.samples=[];var Z={data1:c,data2:d,startPTS:f/y,endPTS:(p+u)/y,startDTS:h/y,endDTS:this.nextAvcDts/y,type:\"video\",hasAudio:!1,hasVideo:!0,nb:b.length,dropped:Q};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Z),Z}},e.prototype.remuxAudio=function(e,t,r,l){var u,d,c,f,h,p,v,g=e.inputTimeScale,y=e.timescale,m=g/y,b=(e.isAAC?1024:1152)*m,E=this._PTSNormalize,_=this._initPTS,S=!e.isAAC&&this.typeSupported.mpeg,T=e.samples,k=[],A=this.nextAudioPts;if(r|=T.length&&A&&(l&&Math.abs(t-A/g)<.1||Math.abs(T[0].pts-A-_)<20*b),T.forEach(function(e){e.pts=e.dts=E(e.pts-_,t*g)}),0!==(T=T.filter(function(e){return e.pts>=0})).length){if(r||(A=l?t*g:T[0].pts),e.isAAC)for(var R=this.config.maxAudioFramesDrift,w=0,P=A;w<T.length;){var D,C=T[w];D=(j=C.pts)-P;var O=Math.abs(1e3*D/g);if(D<=-R*b)s.logger.warn(\"Dropping 1 audio frame @ \"+(P/g).toFixed(3)+\"s due to \"+Math.round(O)+\" ms overlap.\"),T.splice(w,1),e.len-=C.unit.length;else if(D>=R*b&&O<1e4&&P){var L=Math.round(D/b);s.logger.warn(\"Injecting \"+L+\" audio frame @ \"+(P/g).toFixed(3)+\"s due to \"+Math.round(1e3*D/g)+\" ms gap.\");for(var I=0;I<L;I++){var x=Math.max(P,0);(c=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log(\"Unable to get silent frame for given audio codec; duplicating last frame instead.\"),c=C.unit.subarray()),T.splice(w,0,{unit:c,pts:x,dts:x}),e.len+=c.length,P+=b,w++}C.pts=C.dts=P,P+=b,w++}else Math.abs(D),C.pts=C.dts=P,P+=b,w++}I=0;for(var M=T.length;I<M;I++){var F=T[I],N=F.unit,j=F.pts;if(void 0!==v)d.duration=Math.round((j-v)/m);else{var B=Math.round(1e3*(j-A)/g),U=0;if(r&&e.isAAC&&B){if(B>0&&B<1e4)U=Math.round((j-A)/b),s.logger.log(B+\" ms hole between AAC samples detected,filling it\"),U>0&&((c=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(c=N.subarray()),e.len+=U*c.length);else if(B<-12){s.logger.log(\"drop overlapping AAC sample, expected/parsed/delta:\"+(A/g).toFixed(3)+\"s/\"+(j/g).toFixed(3)+\"s/\"+-B+\"ms\"),e.len-=N.byteLength;continue}j=A}if(p=j,!(e.len>0))return;var G=S?e.len:e.len+8;u=S?0:8;try{f=new Uint8Array(G)}catch(Y){return void this.observer.trigger(i.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:\"fail allocating audio mdat \"+G})}S||(new DataView(f.buffer).setUint32(0,G),f.set(n.default.types.mdat,4));for(w=0;w<U;w++)(c=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log(\"Unable to get silent frame for given audio codec; duplicating this frame instead.\"),c=N.subarray()),f.set(c,u),u+=c.byteLength,d={size:c.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},k.push(d)}f.set(N,u);var K=N.byteLength;u+=K,d={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},k.push(d),v=j}var H=0,V=k.length;if(V>=2&&(H=k[V-2].duration,d.duration=H),V){this.nextAudioPts=A=v+m*H,e.len=0,e.samples=k,h=S?new Uint8Array:n.default.moof(e.sequenceNumber++,p/m,e),e.samples=[];var q=p/g,W=A/g,z={data1:h,data2:f,startPTS:q,endPTS:W,startDTS:q,endDTS:W,type:\"audio\",hasAudio:!0,hasVideo:!1,nb:V};return this.observer.trigger(i.default.FRAG_PARSING_DATA,z),z}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),l=this.nextAudioPts,u=(void 0!==l?l:n.startDTS*i)+this._initDTS,d=n.endDTS*i+this._initDTS,c=1024*o,f=Math.ceil((d-u)/c),h=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn(\"remux empty Audio\"),h){for(var p=[],v=0;v<f;v++){var g=u+v*c;p.push({unit:h,pts:g,dts:g}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,r)}else s.logger.trace(\"Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!\")},e.prototype.remuxID3=function(e){var t,r=e.samples.length,a=e.inputTimeScale,n=this._initPTS,o=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-n)/a,t.dts=(t.dts-o)/a;this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,r=e.samples.length,a=e.inputTimeScale,n=this._initPTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-n)/a;this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}();t.default=l},\"./src/remux/passthrough-remuxer.js\":\n/*!******************************************!*\\\n  !*** ./src/remux/passthrough-remuxer.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../events */\"./src/events.js\"),n=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,n,i,o,s,l){var u=this.observer,d=\"\";e&&(d+=\"audio\"),t&&(d+=\"video\"),u.trigger(a.default.FRAG_PARSING_DATA,{data1:l,startPTS:i,startDTS:i,type:d,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(a.default.FRAG_PARSED)},e}();t.default=n},\"./src/task-loop.js\":\n/*!**************************!*\\\n  !*** ./src/task-loop.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";var a,n=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(e){function t(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var n=e.apply(this,[t].concat(r))||this;return n._tickInterval=null,n._tickTimer=null,n._tickCallCount=0,n._boundTick=n.tick.bind(n),n}return n(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(r(/*! ./event-handler */\"./src/event-handler.js\").default);t.default=i},\"./src/utils/attr-list.js\":\n/*!********************************!*\\\n  !*** ./src/utils/attr-list.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var r=/^(\\d+)x(\\d+)$/,a=/\\s*(.+?)\\s*=((?:\\\".*?\\\")|.*?)(?:,|$)/g,n=function(){function t(e){for(var r in\"string\"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||\"0x\").slice(2);t=(1&t.length?\"0\":\"\")+t;for(var r=new Uint8Array(t.length/2),a=0;a<t.length/2;a++)r[a]=parseInt(t.slice(2*a,2*a+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,r={};for(a.lastIndex=0;null!==(t=a.exec(e));){var n=t[2];0===n.indexOf('\"')&&n.lastIndexOf('\"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},t}();t.default=n}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/utils/binary-search.js\":\n/*!************************************!*\\\n  !*** ./src/utils/binary-search.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={search:function(e,t){for(var r=0,a=e.length-1,n=null,i=null;r<=a;){var o=t(i=e[n=(r+a)/2|0]);if(o>0)r=n+1;else{if(!(o<0))return i;a=n-1}}return null}}},\"./src/utils/buffer-helper.js\":\n/*!************************************!*\\\n  !*** ./src/utils/buffer-helper.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,a=0;a<r.length;a++)if(t>=r.start(a)&&t<=r.end(a))return!0}catch(n){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var a=e.buffered,n=[],i=void 0;for(i=0;i<a.length;i++)n.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(n,t,r)}}catch(o){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){var a,n,i,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var d=l[u-1].end;e[s].start-d<r?e[s].end>d&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,a=0,n=i=t;s<l.length;s++){var c=l[s].start,f=l[s].end;if(t+r>=c&&t<f)n=c,a=(i=f)-t;else if(t+r<c){o=c;break}}return{len:a,start:n,end:i,nextStart:o}},e}();t.BufferHelper=a},\"./src/utils/cea-608-parser.js\":\n/*!*************************************!*\\\n  !*** ./src/utils/cea-608-parser.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},i=15,o=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},c=[\"white\",\"green\",\"blue\",\"cyan\",\"red\",\"yellow\",\"magenta\",\"black\",\"transparent\"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},h=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(){function e(e,t,r,a,n){this.foreground=e||\"white\",this.underline=t||!1,this.italics=r||!1,this.background=a||\"black\",this.flash=n||!1}return e.prototype.reset=function(){this.foreground=\"white\",this.underline=!1,this.italics=!1,this.background=\"black\",this.flash=!1},e.prototype.setStyles=function(e){for(var t=[\"foreground\",\"underline\",\"italics\",\"background\",\"flash\"],r=0;r<t.length;r++){var a=t[r];e.hasOwnProperty(a)&&(this[a]=e[a])}},e.prototype.isDefault=function(){return\"white\"===this.foreground&&!this.underline&&!this.italics&&\"black\"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return\"color=\"+this.foreground+\", underline=\"+this.underline+\", italics=\"+this.italics+\", background=\"+this.background+\", flash=\"+this.flash},e}(),v=function(){function e(e,t,r,a,n,i){this.uchar=e||\" \",this.penState=new p(t,r,a,n,i)}return e.prototype.reset=function(){this.uchar=\" \",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return\" \"===this.uchar&&this.penState.isDefault()},e}(),g=function(){function e(){this.chars=[];for(var e=0;e<o;e++)this.chars.push(new v);this.pos=0,this.currPenState=new p}return e.prototype.equals=function(e){for(var t=!0,r=0;r<o;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<o;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<o;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(f.log(\"ERROR\",\"Negative cursor position \"+this.pos),this.pos=0):this.pos>o&&(f.log(\"ERROR\",\"Too large cursor position \"+this.pos),this.pos=o)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(\" \",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=o?f.log(\"ERROR\",\"Cannot insert \"+e.toString(16)+\" (\"+t+\") at position \"+this.pos+\". Skipping it!\"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<o;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<o;r++){var a=this.chars[r].uchar;\" \"!==a&&(t=!1),e.push(a)}return t?\"\":e.join(\"\")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),y=function(){function e(){this.rows=[];for(var e=0;e<i;e++)this.rows.push(new g);this.currRow=i-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<i;e++)this.rows[e].clear();this.currRow=i-1},e.prototype.equals=function(e){for(var t=!0,r=0;r<i;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<i;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<i;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){f.log(\"INFO\",\"setCursor: \"+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){f.log(\"INFO\",\"pacData = \"+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<i;r++)this.rows[r].clear();var a=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var o=n.rows[a].cueStartTime;if(o&&o<f.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(n.rows[a+r])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:\"black\",flash:!1};this.setPen(d)},e.prototype.setBkgData=function(e){f.log(\"INFO\",\"bkgData = \"+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){f.log(\"TEXT\",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),f.log(\"INFO\",\"Rolling up\")}else f.log(\"DEBUG\",\"roll_up but nrRollUpRows not set yet\")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r=\"\",a=-1,n=0;n<i;n++){var o=this.rows[n].getTextString();o&&(a=n+1,e?t.push(\"Row \"+a+\": '\"+o+\"'\"):t.push(o.trim()))}return t.length>0&&(r=e?\"[\"+t.join(\" | \")+\"]\":t.join(\"\\n\")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),m=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[i-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,f.log(\"INFO\",\"MODE=\"+e),\"MODE_POP-ON\"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),\"MODE_ROLL-UP\"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?\"DISP\":\"NON_DISP\";f.log(\"INFO\",r+\": \"+this.writeScreen.getDisplayText(!0)),\"MODE_PAINT-ON\"!==this.mode&&\"MODE_ROLL-UP\"!==this.mode||(f.log(\"TEXT\",\"DISPLAYED: \"+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){f.log(\"INFO\",\"RCL - Resume Caption Loading\"),this.setMode(\"MODE_POP-ON\")},e.prototype.ccBS=function(){f.log(\"INFO\",\"BS - BackSpace\"),\"MODE_TEXT\"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){f.log(\"INFO\",\"DER- Delete to End of Row\"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){f.log(\"INFO\",\"RU(\"+e+\") - Roll Up\"),this.writeScreen=this.displayedMemory,this.setMode(\"MODE_ROLL-UP\"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){f.log(\"INFO\",\"FON - Flash On\"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){f.log(\"INFO\",\"RDC - Resume Direct Captioning\"),this.setMode(\"MODE_PAINT-ON\")},e.prototype.ccTR=function(){f.log(\"INFO\",\"TR\"),this.setMode(\"MODE_TEXT\")},e.prototype.ccRTD=function(){f.log(\"INFO\",\"RTD\"),this.setMode(\"MODE_TEXT\")},e.prototype.ccEDM=function(){f.log(\"INFO\",\"EDM - Erase Displayed Memory\"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){f.log(\"CR - Carriage Return\"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){f.log(\"INFO\",\"ENM - Erase Non-displayed Memory\"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(f.log(\"INFO\",\"EOC - End Of Caption\"),\"MODE_POP-ON\"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,f.log(\"TEXT\",\"DISP: \"+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){f.log(\"INFO\",\"TO(\"+e+\") - Tab Offset\"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground=\"white\";else{var r=Math.floor(e/2)-16;t.foreground=[\"white\",\"green\",\"blue\",\"cyan\",\"red\",\"yellow\",\"magenta\"][r]}f.log(\"INFO\",\"MIDROW: \"+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=f.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),b=function(){function e(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new m(1,t),new m(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,a,n,i=!1;this.lastTime=e,f.setTime(e);for(var o=0;o<t.length;o+=2)if(a=127&t[o],n=127&t[o+1],0!==a||0!==n){if(f.log(\"DATA\",\"[\"+h([t[o],t[o+1]])+\"] -> (\"+h([a,n])+\")\"),(r=this.parseCmd(a,n))||(r=this.parseMidrow(a,n)),r||(r=this.parsePAC(a,n)),r||(r=this.parseBackgroundAttributes(a,n)),!r)if(i=this.parseChars(a,n))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(i);else f.log(\"WARNING\",\"No channel found yet. TEXT-MODE?\");r?this.dataCounters.cmd+=2:i?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log(\"WARNING\",\"Couldn't parse cleaned data \"+h([a,n])+\" orig: \"+h([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log(\"DEBUG\",\"Repeated command (\"+h([e,t])+\") is dropped\"),!0;r=20===e||23===e?1:2;var a=this.channels[r-1];return 20===e||28===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(f.log(\"ERROR\",\"Mismatch channel in midrow parsing\"),!1):(this.channels[r-1].ccMIDROW(t),f.log(\"DEBUG\",\"MIDROW (\"+h([e,t])+\")\"),!0))},e.prototype.parsePAC=function(e,t){var r,a=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,a=t>=64&&t<=95?1===r?s[e]:u[e]:1===r?l[e]:d[e];var n=this.interpretPAC(a,t);return this.channels[r-1].setPAC(n),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,a={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,a.underline=1==(1&r),r<=13?a.color=[\"white\",\"green\",\"blue\",\"cyan\",\"red\",\"yellow\",\"magenta\",\"white\"][Math.floor(r/2)]:r<=15?(a.italics=!0,a.color=\"white\"):a.indent=4*Math.floor((r-16)/2),a},e.prototype.parseChars=function(e,t){var r=null,a=null,i=null;if(e>=25?(r=2,i=e-8):(r=1,i=e),i>=17&&i<=19){var o=t;o=17===i?t+80:18===i?t+112:t+144,f.log(\"INFO\",\"Special char '\"+n(o)+\"' in channel \"+r),a=[o]}else e>=32&&e<=127&&(a=0===t?[e]:[e,t]);if(a){var s=h(a);f.log(\"DEBUG\",\"Char codes =  \"+s.join(\",\")),this.lastCmdA=null,this.lastCmdB=null}return a},e.prototype.parseBackgroundAttributes=function(e,t){var r,a,n;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(a=Math.floor((t-32)/2),r.background=c[a],t%2==1&&(r.background=r.background+\"_semi\")):45===t?r.background=\"transparent\":(r.foreground=\"black\",47===t&&(r.underline=!0)),n=e<24?1:2,this.channels[n-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=b},\"./src/utils/codecs.js\":\n/*!*****************************!*\\\n  !*** ./src/utils/codecs.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a={audio:{a3ds:!0,\"ac-3\":!0,\"ac-4\":!0,alac:!0,alaw:!0,dra1:!0,\"dts+\":!0,\"dts-\":!0,dtsc:!0,dtse:!0,dtsh:!0,\"ec-3\":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,\"raw \":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,\"vc-1\":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var r=a[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||\"video\")+'/mp4;codecs=\"'+e+'\"')}},\"./src/utils/cues.js\":\n/*!***************************!*\\\n  !*** ./src/utils/cues.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./vttparser */\"./src/utils/vttparser.js\");t.newCue=function(e,t,r,n){for(var i,o,s,l,u,d=window.VTTCue||window.TextTrackCue,c=0;c<n.rows.length;c++)if(s=!0,l=0,u=\"\",!(i=n.rows[c]).isEmpty()){for(var f=0;f<i.chars.length;f++)i.chars[f].uchar.match(/\\s/)&&s?l++:(u+=i.chars[f].uchar,s=!1);i.cueStartTime=t,t===r&&(r+=1e-4),o=new d(t,r,a.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\\//)?o.line=c+1:o.line=c>7?c-2:c+1,o.align=\"left\",o.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\\//)?50:0))),e.addCue(o)}}},\"./src/utils/discontinuities.js\":\n/*!**************************************!*\\\n  !*** ./src/utils/discontinuities.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./binary-search */\"./src/utils/binary-search.js\"),n=r(/*! ../utils/logger */\"./src/utils/logger.js\");function i(e,t){for(var r=null,a=0;a<e.length;a+=1){var n=e[a];if(n&&n.cc===t){r=n;break}}return r}function o(e,t,r){var a=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(a=!0),a}function s(e,t){var r=e.fragments,a=t.fragments;if(a.length&&r.length){var o=i(r,a[0].cc);if(o&&(!o||o.startPTS))return o;n.logger.log(\"No frag in previous level to align on\")}else n.logger.log(\"No fragments to align\")}function l(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function u(e,t,r){if(o(e,r,t)){var a=s(r.details,t);a&&(n.logger.log(\"Adjusting PTS using last level due to CC increase within current level\"),l(a.start,t))}}function d(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var a=r.fragments[0].programDateTime,i=(t.fragments[0].programDateTime-a)/1e3+r.fragments[0].start;e.isFinite(i)&&(n.logger.log(\"adjusting PTS using programDateTime delta, sliding:\"+i.toFixed(3)),l(i,t))}}t.findFirstFragWithCC=i,t.findFragWithCC=function(e,t){return a.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=o,t.findDiscontinuousReferenceFrag=s,t.adjustPts=l,t.alignStream=function(e,t,r){u(e,r,t),!r.PTSKnown&&t&&d(r,t.details)},t.alignDiscontinuities=u,t.alignPDT=d}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/utils/ewma-bandwidth-estimator.js\":\n/*!***********************************************!*\\\n  !*** ./src/utils/ewma-bandwidth-estimator.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/ewma */\"./src/utils/ewma.js\"),n=function(){function e(e,t,r,n){this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new a.default(t),this.fast_=new a.default(r)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),a=e/1e3;this.fast_.sample(a,r),this.slow_.sample(a,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=n},\"./src/utils/ewma.js\":\n/*!***************************!*\\\n  !*** ./src/utils/ewma.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=a},\"./src/utils/get-self-scope.js\":\n/*!*************************************!*\\\n  !*** ./src/utils/get-self-scope.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getSelfScope=function(){return\"undefined\"==typeof window?self:window}},\"./src/utils/logger.js\":\n/*!*****************************!*\\\n  !*** ./src/utils/logger.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./get-self-scope */\"./src/utils/get-self-scope.js\");function n(){}var i={trace:n,debug:n,log:n,warn:n,info:n,error:n},o=i;var s=a.getSelfScope();function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach(function(t){o[t]=e[t]?e[t].bind(e):function(e){var t=s.console[e];return t?function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];r[0]&&(r[0]=function(e,t){return t=\"[\"+e+\"] > \"+t}(e,r[0])),t.apply(s.console,r)}:n}(t)})}t.enableLogs=function(e){if(!0===e||\"object\"==typeof e){l(e,\"debug\",\"log\",\"info\",\"warn\",\"error\");try{o.log()}catch(t){o=i}}else o=i},t.logger=o},\"./src/utils/mediakeys-helper.js\":\n/*!***************************************!*\\\n  !*** ./src/utils/mediakeys-helper.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=\"undefined\"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=a},\"./src/utils/mediasource-helper.js\":\n/*!*****************************************!*\\\n  !*** ./src/utils/mediasource-helper.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMediaSource=function(){if(\"undefined\"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},\"./src/utils/output-filter.js\":\n/*!************************************!*\\\n  !*** ./src/utils/output-filter.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=a},\"./src/utils/texttrack-utils.js\":\n/*!**************************************!*\\\n  !*** ./src/utils/texttrack-utils.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event(\"addtrack\")}catch(a){(r=document.createEvent(\"Event\")).initEvent(\"addtrack\",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},\"./src/utils/time-ranges.js\":\n/*!**********************************!*\\\n  !*** ./src/utils/time-ranges.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default={toString:function(e){for(var t=\"\",r=e.length,a=0;a<r;a++)t+=\"[\"+e.start(a).toFixed(3)+\",\"+e.end(a).toFixed(3)+\"]\";return t}}},\"./src/utils/vttcue.js\":\n/*!*****************************!*\\\n  !*** ./src/utils/vttcue.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){if(\"undefined\"!=typeof window&&window.VTTCue)return window.VTTCue;var e=\"auto\",t={\"\":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function a(e){return\"string\"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function i(r,i,o){var s=this,l=function(){if(\"undefined\"!=typeof navigator)return/MSIE\\s8\\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement(\"custom\"):u.enumerable=!0,s.hasBeenReset=!1;var d=\"\",c=!1,f=r,h=i,p=o,v=null,g=\"\",y=!0,m=\"auto\",b=\"start\",E=50,_=\"middle\",S=50,T=\"middle\";if(Object.defineProperty(s,\"id\",n({},u,{get:function(){return d},set:function(e){d=\"\"+e}})),Object.defineProperty(s,\"pauseOnExit\",n({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,\"startTime\",n({},u,{get:function(){return f},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"Start time must be set to a number.\");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"endTime\",n({},u,{get:function(){return h},set:function(e){if(\"number\"!=typeof e)throw new TypeError(\"End time must be set to a number.\");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"text\",n({},u,{get:function(){return p},set:function(e){p=\"\"+e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"region\",n({},u,{get:function(){return v},set:function(e){v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"vertical\",n({},u,{get:function(){return g},set:function(e){var r=function(e){return\"string\"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===r)throw new SyntaxError(\"An invalid or illegal string was specified.\");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,\"snapToLines\",n({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"line\",n({},u,{get:function(){return m},set:function(t){if(\"number\"!=typeof t&&t!==e)throw new SyntaxError(\"An invalid number or illegal string was specified.\");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"lineAlign\",n({},u,{get:function(){return b},set:function(e){var t=a(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"position\",n({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error(\"Position must be between 0 and 100.\");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"positionAlign\",n({},u,{get:function(){return _},set:function(e){var t=a(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,\"size\",n({},u,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error(\"Size must be between 0 and 100.\");S=e,this.hasBeenReset=!0}})),Object.defineProperty(s,\"align\",n({},u,{get:function(){return T},set:function(e){var t=a(e);if(!t)throw new SyntaxError(\"An invalid or illegal string was specified.\");T=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}()},\"./src/utils/vttparser.js\":\n/*!********************************!*\\\n  !*** ./src/utils/vttparser.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./vttcue */\"./src/utils/vttcue.js\"),n=function(){return{decode:function(e){if(!e)return\"\";if(\"string\"!=typeof e)throw new Error(\"Error - expected string data.\");return decodeURIComponent(encodeURIComponent(e))}}};function i(){this.window=window,this.state=\"INITIAL\",this.buffer=\"\",this.decoder=new n,this.regionList=[]}function o(){this.values=Object.create(null)}function s(e,t,r,a){var n=a?e.split(a):[e];for(var i in n)if(\"string\"==typeof n[i]){var o=n[i].split(r);if(2===o.length)t(o[0],o[1])}}o.prototype={set:function(e,t){this.get(e)||\"\"===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var a=0;a<r.length;++a)if(t===r[a]){this.set(e,t);break}},integer:function(e,t){/^-?\\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new a.default(0,0,0),u=\"middle\"===l.align?\"middle\":\"center\";function d(e,t,r){var a=e;function n(){var t=function(e){function t(e,t,r,a){return 3600*(0|e)+60*(0|t)+(0|r)+(0|a)/1e3}var r=e.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(\":\",\"\"),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error(\"Malformed timestamp: \"+a);return e=e.replace(/^[^\\sa-zA-Z-]+/,\"\"),t}function i(){e=e.replace(/^\\s+/,\"\")}if(i(),t.startTime=n(),i(),\"--\\x3e\"!==e.substr(0,3))throw new Error(\"Malformed time stamp (time stamps must be separated by '--\\x3e'): \"+a);e=e.substr(3),i(),t.endTime=n(),i(),function(e,t){var a=new o;s(e,function(e,t){switch(e){case\"region\":for(var n=r.length-1;n>=0;n--)if(r[n].id===t){a.set(e,r[n].region);break}break;case\"vertical\":a.alt(e,t,[\"rl\",\"lr\"]);break;case\"line\":var i=t.split(\",\"),o=i[0];a.integer(e,o),a.percent(e,o)&&a.set(\"snapToLines\",!1),a.alt(e,o,[\"auto\"]),2===i.length&&a.alt(\"lineAlign\",i[1],[\"start\",u,\"end\"]);break;case\"position\":i=t.split(\",\"),a.percent(e,i[0]),2===i.length&&a.alt(\"positionAlign\",i[1],[\"start\",u,\"end\",\"line-left\",\"line-right\",\"auto\"]);break;case\"size\":a.percent(e,t);break;case\"align\":a.alt(e,t,[\"start\",u,\"end\",\"left\",\"right\"])}},/:/,/\\s/),t.region=a.get(\"region\",null),t.vertical=a.get(\"vertical\",\"\");var n=a.get(\"line\",\"auto\");\"auto\"===n&&-1===l.line&&(n=-1),t.line=n,t.lineAlign=a.get(\"lineAlign\",\"start\"),t.snapToLines=a.get(\"snapToLines\",!0),t.size=a.get(\"size\",100),t.align=a.get(\"align\",u);var i=a.get(\"position\",\"auto\");\"auto\"===i&&50===l.position&&(i=\"start\"===t.align||\"left\"===t.align?0:\"end\"===t.align||\"right\"===t.align?100:50),t.position=i}(e,t)}function c(e){return e.replace(/<br(?: \\/)?>/gi,\"\\n\")}t.fixLineBreaks=c,i.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=c(e);r<e.length&&\"\\r\"!==e[r]&&\"\\n\"!==e[r];)++r;var a=e.substr(0,r);return\"\\r\"===e[r]&&++r,\"\\n\"===e[r]&&++r,t.buffer=e.substr(r),a}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n=void 0;if(\"INITIAL\"===t.state){if(!/\\r\\n|\\n/.test(t.buffer))return this;var i=(n=r()).match(/^(ï»¿)?WEBVTT([ \\t].*)?$/);if(!i||!i[0])throw new Error(\"Malformed WebVTT signature.\");t.state=\"HEADER\"}for(var o=!1;t.buffer;){if(!/\\r\\n|\\n/.test(t.buffer))return this;switch(o?o=!1:n=r(),t.state){case\"HEADER\":/:/.test(n)?s(n,function(e,t){},/:/):n||(t.state=\"ID\");continue;case\"NOTE\":n||(t.state=\"ID\");continue;case\"ID\":if(/^NOTE($|[ \\t])/.test(n)){t.state=\"NOTE\";break}if(!n)continue;if(t.cue=new a.default(0,0,\"\"),t.state=\"CUE\",-1===n.indexOf(\"--\\x3e\")){t.cue.id=n;continue}case\"CUE\":try{d(n,t.cue,t.regionList)}catch(u){t.cue=null,t.state=\"BADCUE\";continue}t.state=\"CUETEXT\";continue;case\"CUETEXT\":var l=-1!==n.indexOf(\"--\\x3e\");if(!n||l&&(o=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state=\"ID\";continue}t.cue.text&&(t.cue.text+=\"\\n\"),t.cue.text+=n;continue;case\"BADCUE\":n||(t.state=\"ID\");continue}}}catch(u){\"CUETEXT\"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=\"INITIAL\"===t.state?\"BADWEBVTT\":\"BADCUE\"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||\"HEADER\"===this.state)&&(this.buffer+=\"\\n\\n\",this.parse()),\"INITIAL\"===this.state)throw new Error(\"Malformed WebVTT signature.\")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=i},\"./src/utils/webvtt-parser.js\":\n/*!************************************!*\\\n  !*** ./src/utils/webvtt-parser.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ./vttparser */\"./src/utils/vttparser.js\"),n=r(/*! ../demux/id3 */\"./src/demux/id3.js\"),i=function(e,t,r){return e.substr(r||0,t.length)===t},o=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},s={parse:function(t,r,s,l,u,d){var c,f=n.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\\r\\n|\\n\\r|\\n|\\r/g,\"\\n\").split(\"\\n\"),h=\"00:00.000\",p=0,v=0,g=0,y=[],m=!0,b=new a.default;b.oncue=function(e){var t=s[l],r=s.ccOffset;t&&t.new&&(void 0!==v?r=s.ccOffset=t.start:function(e,t,r){var a=e[t],n=e[a.prevCC];if(!n||!n.new&&a.new)return e.ccOffset=e.presentationOffset=a.start,void(a.new=!1);for(;n&&n.new;)e.ccOffset+=a.start-n.start,a.new=!1,n=e[(a=n).prevCC];e.presentationOffset=r}(s,l,g)),g&&(r=g-s.presentationOffset),e.startTime+=r-v,e.endTime+=r-v,e.id=o(e.startTime.toString())+o(e.endTime.toString())+o(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&y.push(e)},b.onparsingerror=function(e){c=e},b.onflush=function(){c&&d?d(c):u(y)},f.forEach(function(t){if(m){if(i(t,\"X-TIMESTAMP-MAP=\")){m=!1,t.substr(16).split(\",\").forEach(function(e){i(e,\"LOCAL:\")?h=e.substr(6):i(e,\"MPEGTS:\")&&(p=parseInt(e.substr(7)))});try{r+(9e4*s[l].start||0)<0&&(r+=8589934592),p-=r,a=h,n=parseInt(a.substr(-3)),o=parseInt(a.substr(-6,2)),u=parseInt(a.substr(-9,2)),d=a.length>9?parseInt(a.substr(0,a.indexOf(\":\"))):0,v=(e.isFinite(n)&&e.isFinite(o)&&e.isFinite(u)&&e.isFinite(d)?(n+=1e3*o,n+=6e4*u,n+=36e5*d):-1)/1e3,g=p/9e4,-1===v&&(c=new Error(\"Malformed X-TIMESTAMP-MAP: \"+t))}catch(f){c=new Error(\"Malformed X-TIMESTAMP-MAP: \"+t)}return}\"\"===t&&(m=!1)}var a,n,o,u,d;b.parse(t+\"\\n\")}),b.flush()}};t.default=s}).call(this,r(/*! ./src/polyfills/number */\"./src/polyfills/number.js\").Number)},\"./src/utils/xhr-loader.js\":\n/*!*********************************!*\\\n  !*** ./src/utils/xhr-loader.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=r(/*! ../utils/logger */\"./src/utils/logger.js\"),n=window.performance,i=window.XMLHttpRequest,o=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:n.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new i;var r=this.stats;r.tfirst=0,r.loaded=0;var a=this.xhrSetup;try{if(a)try{a(e,t.url)}catch(n){e.open(\"GET\",t.url,!0),a(e,t.url)}e.readyState||e.open(\"GET\",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader(\"Range\",\"bytes=\"+t.rangeStart+\"-\"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,i=this.stats,o=this.context,s=this.config;if(!i.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(n.now(),i.trequest)),4===r){var l=t.status;if(l>=200&&l<300){i.tload=Math.max(i.tfirst,n.now());var u=void 0,d=void 0;d=\"arraybuffer\"===o.responseType?(u=t.response).byteLength:(u=t.responseText).length,i.loaded=i.total=d;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,i,o,t)}else i.retry>=s.maxRetry||l>=400&&l<499?(a.logger.error(l+\" while loading \"+o.url),this.callbacks.onError({code:l,text:t.statusText},o,t)):(a.logger.warn(l+\" while loading \"+o.url+\", retrying in \"+this.retryDelay+\"...\"),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},e.prototype.loadtimeout=function(){a.logger.warn(\"timeout while loading \"+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var a=this.callbacks.onProgress;a&&a(r,this.context,null,t)},e}();t.default=o}}).default},e.exports=a())},vcz5:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"jTYr\")),o=n(r(\"CN1e\")),s=n(r(\"6IEp\")),l=n(r(\"U0Iy\")),u=n(r(\"dQE1\")),d=n(r(\"u0Ef\")),c=n(r(\"amh1\")),f=n(r(\"Eb1A\")),h=n(r(\"rvd0\")),p=n(r(\"17x9\")),v=a(r(\"q1tI\")),g=n(r(\"TSYQ\")),y=n(r(\"iAfH\")),m=n(r(\"vu4D\")),b=n(r(\"X2cd\")),E=n(r(\"tPgb\")),_=n(r(\"Edwz\")),S=n(r(\"zFvY\")),T=n(r(\"LgmY\")),k=n(r(\"FcgA\")),A=a(r(\"qdLH\")),R=r(\"EVUy\"),w=r(\"tJTW\"),P=n(r(\"rzyQ\")),D={children:p.default.any,width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),fluid:p.default.bool,muted:p.default.bool,playsInline:p.default.bool,aspectRatio:p.default.string,className:p.default.string,videoId:p.default.string,startTime:p.default.number,loop:p.default.bool,autoPlay:p.default.bool,src:p.default.string,poster:p.default.string,preload:p.default.oneOf([\"auto\",\"metadata\",\"none\"]),onLoadStart:p.default.func,onWaiting:p.default.func,onCanPlay:p.default.func,onCanPlayThrough:p.default.func,onPlaying:p.default.func,onEnded:p.default.func,onSeeking:p.default.func,onSeeked:p.default.func,onPlay:p.default.func,onPause:p.default.func,onProgress:p.default.func,onDurationChange:p.default.func,onError:p.default.func,onSuspend:p.default.func,onAbort:p.default.func,onEmptied:p.default.func,onStalled:p.default.func,onLoadedMetadata:p.default.func,onLoadedData:p.default.func,onTimeUpdate:p.default.func,onRateChange:p.default.func,onVolumeChange:p.default.func,store:p.default.object},C=function(e){function t(e){var r;return(0,l.default)(this,t),(r=(0,d.default)(this,(0,c.default)(t).call(this,e))).controlsHideTimer=null,r.video=null,r.manager=new y.default(e.store),r.actions=r.manager.getActions(),r.manager.subscribeToPlayerStateChange(r.handleStateChange.bind((0,f.default)(r))),r.getStyle=r.getStyle.bind((0,f.default)(r)),r.handleResize=r.handleResize.bind((0,f.default)(r)),r.getChildren=r.getChildren.bind((0,f.default)(r)),r.handleMouseMove=(0,w.throttle)(r.handleMouseMove.bind((0,f.default)(r)),250),r.handleMouseDown=r.handleMouseDown.bind((0,f.default)(r)),r.startControlsTimer=r.startControlsTimer.bind((0,f.default)(r)),r.handleFullScreenChange=r.handleFullScreenChange.bind((0,f.default)(r)),r.handleKeyDown=r.handleKeyDown.bind((0,f.default)(r)),r.handleFocus=r.handleFocus.bind((0,f.default)(r)),r.handleBlur=r.handleBlur.bind((0,f.default)(r)),r}return(0,h.default)(t,e),(0,u.default)(t,[{key:\"componentDidMount\",value:function(){this.handleResize(),window.addEventListener(\"resize\",this.handleResize),P.default.addEventListener(this.handleFullScreenChange)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.handleResize),P.default.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:\"getDefaultChildren\",value:function(e){var t=this;return[v.default.createElement(_.default,{ref:function(e){t.video=e,t.manager.video=t.video},key:\"video\",order:0},e),v.default.createElement(E.default,{key:\"poster-image\",order:1}),v.default.createElement(b.default,{key:\"loading-spinner\",order:2}),v.default.createElement(S.default,{key:\"bezel\",order:3}),v.default.createElement(m.default,{key:\"big-play-button\",order:4}),v.default.createElement(k.default,{key:\"control-bar\",order:5}),v.default.createElement(T.default,{key:\"shortcut\",order:99})]}},{key:\"getChildren\",value:function(e){e.className;var t=e.children,r=(0,s.default)(e,[\"className\",\"children\"]),a=v.default.Children.toArray(this.props.children).filter(function(e){return!(0,w.isVideoChild)(e)}),n=this.getDefaultChildren(t);return(0,w.mergeAndSortChildren)(n,a,r)}},{key:\"setWidthOrHeight\",value:function(e,t,r){var a;\"string\"==typeof r?\"auto\"===r?a=\"auto\":r.match(/\\d+%/)&&(a=r):\"number\"==typeof r&&(a=\"\".concat(r,\"px\")),Object.assign(e,(0,o.default)({},t,a))}},{key:\"getStyle\",value:function(){var e,t,r=this.props,a=r.fluid,n=r.aspectRatio,i=r.height,o=r.width,s=this.manager.getState().player,l={},u=(void 0!==n&&\"auto\"!==n?n:s.videoWidth?\"\".concat(s.videoWidth,\":\").concat(s.videoHeight):\"16:9\").split(\":\"),d=u[1]/u[0];return e=void 0!==o?o:void 0!==i?i/d:s.videoWidth||400,t=void 0!==i?i:e*d,a?l.paddingTop=\"\".concat(100*d,\"%\"):(this.setWidthOrHeight(l,\"width\",e),this.setWidthOrHeight(l,\"height\",t)),l}},{key:\"getState\",value:function(){return this.manager.getState()}},{key:\"play\",value:function(){this.video.play()}},{key:\"pause\",value:function(){this.video.pause()}},{key:\"load\",value:function(){this.video.load()}},{key:\"addTextTrack\",value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:\"canPlayType\",value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:\"seek\",value:function(e){this.video.seek(e)}},{key:\"forward\",value:function(e){this.video.forward(e)}},{key:\"replay\",value:function(e){this.video.replay(e)}},{key:\"toggleFullscreen\",value:function(){this.video.toggleFullscreen()}},{key:\"subscribeToStateChange\",value:function(e){return this.manager.subscribeToPlayerStateChange(e)}},{key:\"handleResize\",value:function(){}},{key:\"handleFullScreenChange\",value:function(e){e.target===this.manager.rootElement&&this.actions.handleFullscreenChange(P.default.isFullscreen)}},{key:\"handleMouseDown\",value:function(){this.startControlsTimer()}},{key:\"handleMouseMove\",value:function(){this.startControlsTimer()}},{key:\"handleKeyDown\",value:function(){this.startControlsTimer()}},{key:\"startControlsTimer\",value:function(){var e=this,t=3e3;v.default.Children.forEach(this.props.children,function(e){if(v.default.isValidElement(e)&&e.type===k.default){var r=e.props.autoHideTime;\"number\"==typeof r&&(t=r)}}),this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){e.actions.userActivate(!1)},t)}},{key:\"handleStateChange\",value:function(e,t){e.isFullscreen!==t.isFullscreen&&(this.handleResize(),(0,R.focusNode)(this.manager.rootElement)),this.forceUpdate()}},{key:\"handleFocus\",value:function(){this.actions.activate(!0)}},{key:\"handleBlur\",value:function(){this.actions.activate(!1)}},{key:\"render\",value:function(){var e=this,t=this.props.fluid,r=this.manager.getState().player,a=r.paused,n=r.hasStarted,o=r.waiting,s=r.seeking,l=r.isFullscreen,u=r.userActivity,d=(0,i.default)({},this.props,{player:r,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),c=this.getChildren(d);return v.default.createElement(\"div\",{className:(0,g.default)({\"video-react-controls-enabled\":!0,\"video-react-has-started\":n,\"video-react-paused\":a,\"video-react-playing\":!a,\"video-react-waiting\":o,\"video-react-seeking\":s,\"video-react-fluid\":t,\"video-react-fullscreen\":l,\"video-react-user-inactive\":!u,\"video-react-user-active\":u,\"video-react-workinghover\":!A.IS_IOS},\"video-react\",this.props.className),style:this.getStyle(),ref:function(t){e.manager.rootElement=t},role:\"region\",onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onTouchMove:this.handleMouseMove,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:\"-1\"},c)}},{key:\"playbackRate\",get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:\"muted\",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:\"volume\",get:function(){return this.video.volume},set:function(e){this.video.volume=e}},{key:\"videoWidth\",get:function(){return this.video.videoWidth}},{key:\"videoHeight\",get:function(){return this.video.videoHeight}}]),t}(v.Component);t.default=C,C.contextTypes={store:p.default.object},C.propTypes=D,C.defaultProps={fluid:!0,muted:!1,playsInline:!1,preload:\"auto\",aspectRatio:\"auto\"},C.displayName=\"Player\"},vu4D:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p={actions:c.default.object,player:c.default.object,position:c.default.string,className:c.default.string},v=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).handleClick=a.handleClick.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"componentDidMount\",value:function(){}},{key:\"handleClick\",value:function(){this.props.actions.play()}},{key:\"render\",value:function(){var e=this.props,t=e.player,r=e.position;return f.default.createElement(\"button\",{className:(0,h.default)(\"video-react-big-play-button\",\"video-react-big-play-button-\".concat(r),this.props.className,{\"big-play-button-hide\":t.hasStarted||!t.currentSrc}),type:\"button\",\"aria-live\":\"polite\",tabIndex:\"0\",onClick:this.handleClick},f.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Play Video\"))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.defaultProps={position:\"left\"},v.displayName=\"BigPlayButton\"},w7YG:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"ETIr\"),r(\"cv67\"),r(\"K3mO\"),r(\"OLod\"),function(){var e=a,t=e.lib.StreamCipher,r=e.algo,n=r.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,a=this._S=[],n=0;n<256;n++)a[n]=n;n=0;for(var i=0;n<256;n++){var o=n%r,s=t[o>>>2]>>>24-o%4*8&255;i=(i+a[n]+s)%256;var l=a[n];a[n]=a[i],a[i]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,a=0,n=0;n<4;n++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,a|=e[(e[t]+e[r])%256]<<24-8*n}return this._i=t,this._j=r,a}e.RC4=t._createHelper(n);var o=r.RC4Drop=n.extend({cfg:n.cfg.extend({drop:192}),_doReset:function(){n._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(o)}(),a.RC4)},wXLL:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"rvd0\")),d=a(r(\"q1tI\")),c=n(r(\"DGqw\")),f=r(\"tJTW\"),h=function(e){function t(e,r){var a;return(0,i.default)(this,t),a=(0,s.default)(this,(0,l.default)(t).call(this,e,r)),(0,f.deprecatedWarning)(\"PlaybackRate\",\"PlaybackRateMenuButton\"),a}return(0,u.default)(t,e),(0,o.default)(t,[{key:\"render\",value:function(){return d.default.createElement(c.default,this.props)}}]),t}(d.Component);t.default=h,h.displayName=\"PlaybackRate\"},wZgz:function(e,t,r){var a;e.exports=(a=r(\"Ib8C\"),r(\"ETIr\"),r(\"cv67\"),r(\"K3mO\"),r(\"OLod\"),function(){var e=a,t=e.lib.BlockCipher,r=e.algo,n=[],i=[],o=[],s=[],l=[],u=[],d=[],c=[],f=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,a=0;for(t=0;t<256;t++){var p=a^a<<1^a<<2^a<<3^a<<4;p=p>>>8^255&p^99,n[r]=p,i[p]=r;var v=e[r],g=e[v],y=e[g],m=257*e[p]^16843008*p;o[r]=m<<24|m>>>8,s[r]=m<<16|m>>>16,l[r]=m<<8|m>>>24,u[r]=m,m=16843009*y^65537*g^257*v^16843008*r,d[p]=m<<24|m>>>8,c[p]=m<<16|m>>>16,f[p]=m<<8|m>>>24,h[p]=m,r?(r=v^e[e[e[y^v]]],a^=e[e[a]]):r=a=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,a=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<a;o++)if(o<r)i[o]=t[o];else{var s=i[o-1];o%r?r>6&&o%r==4&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=p[o/r|0]<<24),i[o]=i[o-r]^s}for(var l=this._invKeySchedule=[],u=0;u<a;u++)o=a-u,s=u%4?i[o]:i[o-4],l[u]=u<4||o<=4?s:d[n[s>>>24]]^c[n[s>>>16&255]]^f[n[s>>>8&255]]^h[n[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,u,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,d,c,f,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,a,n,i,o,s){for(var l=this._nRounds,u=e[t]^r[0],d=e[t+1]^r[1],c=e[t+2]^r[2],f=e[t+3]^r[3],h=4,p=1;p<l;p++){var v=a[u>>>24]^n[d>>>16&255]^i[c>>>8&255]^o[255&f]^r[h++],g=a[d>>>24]^n[c>>>16&255]^i[f>>>8&255]^o[255&u]^r[h++],y=a[c>>>24]^n[f>>>16&255]^i[u>>>8&255]^o[255&d]^r[h++],m=a[f>>>24]^n[u>>>16&255]^i[d>>>8&255]^o[255&c]^r[h++];u=v,d=g,c=y,f=m}v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^r[h++],g=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^r[h++],y=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^r[h++],m=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^r[h++],e[t]=v,e[t+1]=g,e[t+2]=y,e[t+3]=m},keySize:8});e.AES=t._createHelper(v)}(),a.AES)},we7k:function(e,t,r){\"use strict\";var a=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.handleFullscreenChange=function(e){return{type:o,isFullscreen:e}},t.activate=function(e){return{type:s,activity:e}},t.userActivate=function(e){return{type:l,activity:e}},t.play=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:\"play\",source:\"\"};return this.video.play(),{type:i,operation:e}},t.pause=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:\"pause\",source:\"\"};return this.video.pause(),{type:i,operation:e}},t.togglePlay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:\"toggle-play\",source:\"\"};return this.video.togglePlay(),{type:i,operation:e}},t.seek=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:\"seek\",source:\"\"};return this.video.seek(e),{type:i,operation:t}},t.forward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:\"forward-\".concat(e),source:\"\"};return this.video.forward(e),{type:i,operation:t}},t.replay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:\"replay-\".concat(e),source:\"\"};return this.video.replay(e),{type:i,operation:t}},t.changeRate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:\"change-rate\",source:\"\"};return this.video.playbackRate=e,{type:i,operation:t}},t.changeVolume=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:\"change-volume\",source:\"\"},r=e;e<0&&(r=0);e>1&&(r=1);return this.video.volume=r,{type:i,operation:t}},t.mute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:e?\"muted\":\"unmuted\",source:\"\"};return this.video.muted=e,{type:i,operation:t}},t.toggleFullscreen=function(e){if(n.default.enabled)return n.default.isFullscreen?n.default.exit():n.default.request(this.rootElement),{type:i,operation:{action:\"toggle-fullscreen\",source:\"\"}};return{type:o,isFullscreen:!e.isFullscreen}},t.USER_ACTIVATE=t.PLAYER_ACTIVATE=t.FULLSCREEN_CHANGE=t.OPERATE=void 0;var n=a(r(\"rzyQ\")),i=\"video-react/OPERATE\";t.OPERATE=i;var o=\"video-react/FULLSCREEN_CHANGE\";t.FULLSCREEN_CHANGE=o;var s=\"video-react/PLAYER_ACTIVATE\";t.PLAYER_ACTIVATE=s;var l=\"video-react/USER_ACTIVATE\";t.USER_ACTIVATE=l},xFFL:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p=n(r(\"kXlQ\")),v=n(r(\"q+t5\")),g=n(r(\"rsAN\")),y=n(r(\"GuGs\")),m=r(\"tJTW\"),b={player:c.default.object,mouseTime:c.default.object,actions:c.default.object,className:c.default.string},E=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).getPercent=a.getPercent.bind((0,u.default)(a)),a.getNewTime=a.getNewTime.bind((0,u.default)(a)),a.stepForward=a.stepForward.bind((0,u.default)(a)),a.stepBack=a.stepBack.bind((0,u.default)(a)),a.handleMouseDown=a.handleMouseDown.bind((0,u.default)(a)),a.handleMouseMove=a.handleMouseMove.bind((0,u.default)(a)),a.handleMouseUp=a.handleMouseUp.bind((0,u.default)(a)),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"componentDidMount\",value:function(){}},{key:\"componentDidUpdate\",value:function(){}},{key:\"getPercent\",value:function(){var e=this.props.player,t=e.currentTime,r=(e.seekingTime||t)/e.duration;return r>=1?1:r}},{key:\"getNewTime\",value:function(e){var t=this.props.player.duration,r=this.slider.calculateDistance(e)*t;return r===t?r-.1:r}},{key:\"handleMouseDown\",value:function(){}},{key:\"handleMouseUp\",value:function(e){var t=this.props.actions,r=this.getNewTime(e);t.seek(r),t.handleEndSeeking(r)}},{key:\"handleMouseMove\",value:function(e){var t=this.props.actions,r=this.getNewTime(e);t.handleSeekingTime(r)}},{key:\"stepForward\",value:function(){this.props.actions.forward(5)}},{key:\"stepBack\",value:function(){this.props.actions.replay(5)}},{key:\"render\",value:function(){var e=this,t=this.props,r=t.player,a=r.currentTime,n=r.seekingTime,i=r.duration,o=r.buffered,s=t.mouseTime,l=n||a;return f.default.createElement(p.default,{ref:function(t){e.slider=t},label:\"video progress bar\",className:(0,h.default)(\"video-react-progress-holder\",this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:(0,m.formatTime)(l,i),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},f.default.createElement(g.default,{buffered:o,currentTime:l,duration:i}),f.default.createElement(y.default,{duration:i,mouseTime:s}),f.default.createElement(v.default,{currentTime:l,duration:i}))}}]),t}(f.Component);t.default=E,E.propTypes=b,E.displayName=\"SeekBar\"},yYHT:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p=n(r(\"U3K2\")),v={player:c.default.object,actions:c.default.object,className:c.default.string,offMenuText:c.default.string,showOffMenu:c.default.bool,kinds:c.default.array},g=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).getTextTrackItems=a.getTextTrackItems.bind((0,u.default)(a)),a.updateState=a.updateState.bind((0,u.default)(a)),a.handleSelectItem=a.handleSelectItem.bind((0,u.default)(a)),a.state=a.getTextTrackItems(),a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"componentDidUpdate\",value:function(){this.updateState()}},{key:\"getTextTrackItems\",value:function(){var e=this.props,t=e.kinds,r=e.player,a=e.offMenuText,n=e.showOffMenu,i=r.textTracks,o=r.activeTextTrack,s={items:[],selectedIndex:0},l=Array.from(i||[]);return 0===l.length?s:(n&&s.items.push({label:a||\"Off\",value:null}),l.forEach(function(e){t.length&&!t.includes(e.kind)||s.items.push({label:e.label,value:e.language})}),s.selectedIndex=s.items.findIndex(function(e){return o&&o.language===e.value}),-1===s.selectedIndex&&(s.selectedIndex=0),s)}},{key:\"updateState\",value:function(){var e=this.getTextTrackItems();e.selectedIndex===this.state.selectedIndex&&this.textTrackItemsAreEqual(e.items,this.state.items)||this.setState(e)}},{key:\"textTrackItemsAreEqual\",value:function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!t[r]||e[r].label!==t[r].label||e[r].value!==t[r].value)return!1;return!0}},{key:\"handleSelectItem\",value:function(e){var t=this.props,r=t.player,a=t.actions,n=t.showOffMenu,i=r.textTracks;Array.from(i).forEach(function(t,r){e===(n?r+1:r)?(t.mode=\"showing\",a.activateTextTrack(t)):t.mode=\"hidden\"})}},{key:\"render\",value:function(){var e=this.state,t=e.items,r=e.selectedIndex;return f.default.createElement(p.default,{className:(0,h.default)(\"video-react-closed-caption\",this.props.className),onSelectItem:this.handleSelectItem,items:t,selectedIndex:r},f.default.createElement(\"span\",{className:\"video-react-control-text\"},\"Closed Caption\"))}}]),t}(f.Component);g.propTypes=v,g.defaultProps={offMenuText:\"Off\",showOffMenu:!0,kinds:[\"captions\",\"subtitles\"]},g.displayName=\"ClosedCaptionButton\";var y=g;t.default=y},zFvY:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"U0Iy\")),o=n(r(\"dQE1\")),s=n(r(\"u0Ef\")),l=n(r(\"amh1\")),u=n(r(\"Eb1A\")),d=n(r(\"rvd0\")),c=n(r(\"17x9\")),f=a(r(\"q1tI\")),h=n(r(\"TSYQ\")),p={manager:c.default.object,className:c.default.string},v=function(e){function t(e,r){var a;return(0,i.default)(this,t),(a=(0,s.default)(this,(0,l.default)(t).call(this,e,r))).timer=null,e.manager.subscribeToOperationStateChange(a.handleStateChange.bind((0,u.default)(a))),a.state={hidden:!0,operation:{}},a}return(0,d.default)(t,e),(0,o.default)(t,[{key:\"handleStateChange\",value:function(e,t){var r=this;e.count!==t.count&&\"shortcut\"===e.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:e.count,operation:e.operation}),this.timer=setTimeout(function(){r.setState({hidden:!0}),r.timer=null},500))}},{key:\"render\",value:function(){if(\"shortcut\"!==this.state.operation.source)return null;var e=this.state.hidden?{display:\"none\"}:null;return f.default.createElement(\"div\",{className:(0,h.default)({\"video-react-bezel\":!0,\"video-react-bezel-animation\":this.state.count%2==0,\"video-react-bezel-animation-alt\":this.state.count%2==1},this.props.className),style:e,role:\"status\",\"aria-label\":this.state.operation.action},f.default.createElement(\"div\",{className:(0,h.default)(\"video-react-bezel-icon\",\"video-react-bezel-icon-\".concat(this.state.operation.action))}))}}]),t}(f.Component);t.default=v,v.propTypes=p,v.displayName=\"Bezel\"},zHIc:function(e,t,r){\"use strict\";var a=r(\"la5V\"),n=r(\"lFXq\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=n(r(\"5Udi\")),o=n(r(\"U0Iy\")),s=n(r(\"dQE1\")),l=n(r(\"u0Ef\")),u=n(r(\"amh1\")),d=n(r(\"Eb1A\")),c=n(r(\"rvd0\")),f=n(r(\"17x9\")),h=a(r(\"q1tI\")),p=n(r(\"TSYQ\")),v=a(r(\"EVUy\")),g=n(r(\"xFFL\")),y={player:f.default.object,className:f.default.string},m=function(e){function t(e,r){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,u.default)(t).call(this,e,r))).state={mouseTime:{time:null,position:0}},a.handleMouseMoveThrottle=a.handleMouseMove.bind((0,d.default)(a)),a}return(0,c.default)(t,e),(0,s.default)(t,[{key:\"handleMouseMove\",value:function(e){if(e.pageX){var t=this.props.player.duration,r=this.seekBar,a=v.getPointerPosition(r,e).x*t,n=e.pageX-v.findElPosition(r).left;this.setState({mouseTime:{time:a,position:n}})}}},{key:\"render\",value:function(){var e=this,t=this.props.className;return h.default.createElement(\"div\",{onMouseMove:this.handleMouseMoveThrottle,className:(0,p.default)(\"video-react-progress-control video-react-control\",t)},h.default.createElement(g.default,(0,i.default)({mouseTime:this.state.mouseTime,ref:function(t){e.seekBar=t}},this.props)))}}]),t}(h.Component);t.default=m,m.propTypes=y,m.displayName=\"ProgressControl\"}},[[\"RKA9\",\"5d41\",\"9da1\"]]]);"}
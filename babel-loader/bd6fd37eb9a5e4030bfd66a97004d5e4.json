{"ast":null,"code":"import \"antd/lib/spin/style\";\nimport _Spin from \"antd/lib/spin\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { FlexContent, FlexContentCenter } from '../../../lib/commonCss';\nimport ListCourseCategory from './ListCourseCategory';\nimport QueryListServiceTypes, { queryListServiceTypeEnum } from './QueryListServiceTypes';\n/**\n *   serviceType1: createStaticServiceTypeEnum(data: {\n *      key: \"PRIVATE_COURSE\",\n *      id: \"cjrabr1vo0aig0863hus4u3mv\"\n *      name: \"一对一辅导\"\n *   }) {id},\n *   serviceType2: createStaticServiceTypeEnum(data: {\n *     key: \"GROUP_COURSE\",\n *     name: \"小班课辅导\"\n *   }) {id},\n *  serviceType3: createStaticServiceTypeEnum(data: {\n *     key: \"SUBSCRIPTION_COURSE\",\n *     name: \"订阅课程\"\n */\n\nvar CourseCategoryContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CourseCategoryContainer, _React$Component);\n\n  function CourseCategoryContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CourseCategoryContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CourseCategoryContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      level0: {\n        parentId: null,\n        // 父级的ID\n        index: null,\n        // 用作对比是不是当前的 list 的index\n        childrenType: null,\n        // 点击的 Item 有没有子级\n        showContentType: 'NORMAL' // content 渲染的内容  ；\"提示文本  MENTION \" \"正常  NORMAL\" \"空内容 EMPTY\"\n\n      },\n      level1: {\n        parentId: null,\n        index: 1,\n        childrenType: null,\n        showContentType: 'EMPTY'\n      },\n      level2: {\n        parentId: null,\n        index: 2,\n        childrenType: null,\n        showContentType: 'EMPTY'\n      },\n      typeId: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalObject\", {\n      deleteButHasChildren: {\n        content: '请先移除下级分类后，再移除此类。',\n        okText: '我知道了',\n        onOk: null,\n        title: '无法移除此分类'\n      },\n      deleteConnectLesson: {\n        content: '此分类已关联课程，暂时无法移除此分类。请前往课程管理页面，移除课程与此分类的关联关系。',\n        okText: '我知道了',\n        onOk: null,\n        title: '无法移除此分类'\n      },\n      deleteCourseCategory: {\n        cancelText: '取消',\n        iconType: 'delete',\n        content: '移除此分类后，MIS 系统内用户无法查看此分类。',\n        okText: '确认移除',\n        okType: 'danger',\n        title: '确认移除次分类吗?'\n      },\n      disableCourseCategory: {\n        cancelText: '取消',\n        content: React.createElement(\"div\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, React.createElement(\"p\", null, \"\\u4E0B\\u7EBF\\u540E\\uFF1A\"), React.createElement(\"p\", null, \"1.\\u540E\\u7AEF\\u7CFB\\u7EDF\\u53EF\\u67E5\\u770B\\u4F46\\u65E0\\u6CD5\\u64CD\\u4F5C\\uFF1B\"), React.createElement(\"p\", null, \"2.App\\u7AEF\\u65E0\\u6CD5\\u67E5\\u770B\\u548C\\u64CD\\u4F5C\\uFF1B\")),\n        okText: '确认下线',\n        title: '确认下线此分类吗?'\n      },\n      enableCourseCategory: {\n        cancelText: '取消',\n        content: React.createElement(\"div\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, React.createElement(\"p\", null, \"\\u4E0A\\u7EBF\\u540E\\uFF1A\"), React.createElement(\"p\", null, \"\\u540E\\u7AEF\\u7CFB\\u7EDF\\u548CAPP\\u7AEF\\u5747\\u53EF\\u67E5\\u770B\\u548C\\u64CD\\u4F5C\\uFF1B\")),\n        okText: '确认上线',\n        title: '确认上线此课程吗?'\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCompleted\", function (data) {\n      data.listServiceTypeEnum.forEach(function (_ref) {\n        var id = _ref.id,\n            key = _ref.key;\n\n        if (key === _this.props.type) {\n          _this.setState({\n            typeId: id\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getValue\", function (m, n) {\n      _this.setState(_defineProperty({}, m, n));\n    });\n\n    return _this;\n  }\n\n  _createClass(CourseCategoryContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          level1 = _this$state.level1,\n          level2 = _this$state.level2,\n          level0 = _this$state.level0;\n      return React.createElement(QueryListServiceTypes, {\n        onCompleted: this.onCompleted,\n        query: queryListServiceTypeEnum,\n        fetchPolicy: \"network-only\"\n      }, function (_ref2) {\n        var loading = _ref2.loading,\n            error = _ref2.error,\n            data = _ref2.data;\n\n        if (loading) {\n          return React.createElement(FlexContentCenter, null, React.createElement(_Spin, {\n            tip: \"Loading...\",\n            size: \"large\"\n          }));\n        }\n\n        if (error) {\n          return null;\n        }\n\n        if (data) {\n          var typeId;\n          data.listServiceTypeEnum.forEach(function (_ref3) {\n            var id = _ref3.id,\n                key = _ref3.key;\n\n            if (key === _this2.props.type) {\n              typeId = id;\n            }\n          });\n\n          if (typeId) {\n            return React.createElement(FlexContent, {\n              style: {\n                overflow: 'hidden'\n              }\n            }, React.createElement(ListCourseCategory, {\n              level: 0,\n              typeId: typeId,\n              levelData: level0,\n              variable: \"variablesLevel0\",\n              modalObject: _this2.modalObject,\n              getValue: _this2.getValue,\n              type: _this2.props.type\n            }), React.createElement(ListCourseCategory, {\n              level: 1,\n              variable: \"otherVariables\",\n              levelData: level1,\n              typeId: typeId,\n              parentId: level1.parentId,\n              modalObject: _this2.modalObject,\n              getValue: _this2.getValue,\n              type: _this2.props.type\n            }), React.createElement(ListCourseCategory, {\n              level: 2,\n              levelData: level2,\n              variable: \"otherVariables\",\n              typeId: typeId,\n              parentId: level2.parentId,\n              modalObject: _this2.modalObject,\n              getValue: _this2.getValue,\n              type: _this2.props.type\n            }));\n          }\n        }\n\n        return null;\n      });\n    }\n  }]);\n\n  return CourseCategoryContainer;\n}(React.Component);\n\nexport default CourseCategoryContainer;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport ModalTitle from '../../../../components/ModalTitle';\nimport { ContentP, DetailCommonP, FlexDisplay, FlexDisplayBetween } from '../../../../lib/commonCss';\nimport { FlexColumn } from '../EducationalExperience';\nimport FlexTop from '../FlexTop';\nimport { Line } from '../WorkExperience';\nimport EditCompetition from './EditCompetition';\nexport var PContent = styled.span.withConfig({\n  displayName: \"Competition__PContent\",\n  componentId: \"sc-1eh2evn-0\"\n})([\"font-size:14px;\"]);\nexport var WarpContent = styled(FlexTop).withConfig({\n  displayName: \"Competition__WarpContent\",\n  componentId: \"sc-1eh2evn-1\"\n})([\"justify-content:'space-between';\"]);\nexport var WarpContentDiv = styled.div.withConfig({\n  displayName: \"Competition__WarpContentDiv\",\n  componentId: \"sc-1eh2evn-2\"\n})([\"margin-bottom:14px;font-size:14px;color:#c3c3c3;\"]);\nvar ButDeleted = styled.a.withConfig({\n  displayName: \"Competition__ButDeleted\",\n  componentId: \"sc-1eh2evn-3\"\n})([\"margin-left:10px;color:red;\"]);\n\nvar Competition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Competition, _React$Component);\n\n  function Competition() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Competition);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Competition)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      edit: 0,\n      visible: false,\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeState\", function (stateName, stateValue) {\n      _this.setState(_defineProperty({}, stateName, stateValue));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOk\", function (data) {\n      var id = data.id;\n      var deleteCompetitionEx = _this.props.deleteCompetitionEx;\n\n      _this.setState({\n        loading: true\n      });\n\n      deleteCompetitionEx(id).then(function (success) {\n        _this.setState({\n          loading: false\n        });\n\n        if (success) {\n          _this.setState({\n            visible: false\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVisible\", function (bol) {\n      _this.setState({\n        visible: bol\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ContentItem\", function (data) {\n      if (_this.state.edit === data.index + 1) {\n        return React.createElement(EditCompetition, {\n          index: data.index,\n          changeState: _this.changeState,\n          createCompetitionEx: _this.props.createCompetitionEx,\n          updateCompetitionEx: _this.props.updateCompetitionEx,\n          competitionExperiences: data.data,\n          type: \"edit\"\n        });\n      }\n\n      var _data$data = data.data,\n          isAwarded = _data$data.isAwarded,\n          content = _data$data.content,\n          otherRace = _data$data.otherRace,\n          race = _data$data.race;\n      return React.createElement(FlexColumn, {\n        style: {\n          background: '#fff'\n        }\n      }, _this.renderTitle(data), React.createElement(FlexDisplay, null, React.createElement(DetailCommonP, null, \"\\u6BD4\\u8D5B\\u9879\\u76EE\\uFF1A\"), React.createElement(ContentP, null, race && race.parent.name + '/' + race.name || otherRace)), React.createElement(FlexDisplay, null, React.createElement(DetailCommonP, null, \"\\u662F\\u5426\\u83B7\\u5956\\uFF1A\"), ' ', React.createElement(ContentP, null, isAwarded ? '是' : '否')), isAwarded && React.createElement(FlexDisplay, null, React.createElement(DetailCommonP, null, \"\\u6240\\u83B7\\u5956\\u9879\\uFF1A\"), ' ', React.createElement(ContentP, null, content)), React.createElement(Line, null));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTitle\", function (data) {\n      return React.createElement(FlexDisplayBetween, null, React.createElement(\"p\", {\n        style: {\n          color: '#BFBFBF'\n        }\n      }, \"\\u53C2\\u8D5B\\u7ECF\\u9A8C\".concat(data.index)), !_this.state.edit && React.createElement(\"div\", null, React.createElement(\"a\", {\n        onClick: _this.changeState.bind(_assertThisInitialized(_this), 'edit', data.index + 1)\n      }, \"\\u7F16\\u8F91\"), React.createElement(ButDeleted, {\n        onClick: _this.handleVisible.bind(_assertThisInitialized(_this), true)\n      }, \"\\u5220\\u9664\"), React.createElement(_Modal, {\n        title: React.createElement(ModalTitle, {\n          iconColor: \"#ff991f\",\n          iconType: \"question-circle\",\n          txt: \"\\u786E\\u8BA4\\u8981\\u5220\\u9664\\u8FD9\\u6761\\u4FE1\\u606F\\u5417\\uFF1F\"\n        }),\n        visible: _this.state.visible,\n        onOk: _this.handleOk.bind(_assertThisInitialized(_this), data.data),\n        onCancel: _this.handleVisible.bind(_assertThisInitialized(_this), false),\n        closable: false,\n        okText: '确认删除',\n        cancelText: '取消',\n        okButtonProps: {\n          type: 'danger',\n          loading: _this.state.loading\n        },\n        maskClosable: false\n      }, React.createElement(\"p\", {\n        style: {\n          marginLeft: '32px'\n        }\n      }, \"\\u6B64\\u64CD\\u4F5C\\u65E0\\u6CD5\\u64A4\\u56DE\\uFF0C\\u8BF7\\u8C28\\u614E\\u64CD\\u4F5C\\u3002\"))));\n    });\n\n    return _this;\n  }\n\n  _createClass(Competition, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var experiences = this.props.competitionExperiences;\n      return React.createElement(FlexColumn, {\n        style: {\n          background: '#fff'\n        }\n      }, React.createElement(\"h4\", null, \"\\u53C2\\u8D5B\\u7ECF\\u9A8C\"), experiences.map(function (item, index) {\n        return React.createElement(_this2.ContentItem, {\n          data: item,\n          index: index + 1,\n          key: index\n        });\n      }));\n    }\n  }]);\n\n  return Competition;\n}(React.Component);\n\nexport default Competition;","map":null,"metadata":{},"sourceType":"module"}
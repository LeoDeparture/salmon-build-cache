{"ast":null,"code":"import \"antd/lib/config-provider/style\";\nimport _ConfigProvider from \"antd/lib/config-provider\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport Router from 'next/router';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport EmptyComponents from '../../../../components/Empty';\nimport TableOperation from '../../../../components/Table/TableOperation';\n\nvar QuestionBankTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuestionBankTable, _Component);\n\n  function QuestionBankTable(props) {\n    var _this;\n\n    _classCallCheck(this, QuestionBankTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(QuestionBankTable).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPopover\", function () {\n      var content = React.createElement(\"div\", null, \"\\u5DF2\\u6709\\u8BA2\\u9605\\u8BFE\\u7A0B\\u5173\\u8054\\u8BE5\\u5957\\u9898\\uFF0C\\u65E0\\u6CD5\\u5220\\u9664\");\n      return React.createElement(_Popover, {\n        content: content,\n        trigger: \"hover\",\n        placement: \"topRight\"\n      }, React.createElement(\"a\", {\n        style: {\n          color: '#FFD4CB'\n        }\n      }, \"\\u5220\\u9664\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toDetailPage\", function (id) {\n      Router.push(\"/question-bank/detail/\".concat(id));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatOperations\", function (record) {\n      var id = record.id,\n          relatedSubscriptionCourseSeriesCount = record.relatedSubscriptionCourseSeriesCount;\n      var deleteQuestionBank = _this.props.deleteQuestionBank;\n      return [{\n        title: '查看详情',\n        onClick: _this.toDetailPage.bind(_assertThisInitialized(_this), id)\n      }, {\n        title: '删除',\n        color: '#FF5230',\n        onClick: deleteQuestionBank.bind(_assertThisInitialized(_this), id),\n        render: !!relatedSubscriptionCourseSeriesCount && _this.renderPopover\n      }];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeLoading\", function (loading) {\n      _this.setState({\n        loading: loading\n      });\n    });\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(QuestionBankTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          questionBank = _this$props.questionBank,\n          footer = _this$props.footer;\n      var dataSource = questionBank;\n      var columns = [{\n        title: '套题名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: '26.3%',\n        render: function render(value, r) {\n          return React.createElement(\"a\", {\n            onClick: _this2.toDetailPage.bind(_this2, r.id)\n          }, value);\n        }\n      }, {\n        title: '行业',\n        dataIndex: 'industries',\n        key: 'industries',\n        width: '22.8%',\n        render: function render(v) {\n          return v.map(function (m) {\n            return m.name;\n          }).join('、');\n        }\n      }, {\n        title: '题目数量',\n        dataIndex: 'questions',\n        key: 'questions',\n        width: '10.6%',\n        render: function render(v) {\n          return v.length;\n        }\n      }, {\n        title: '关联数量',\n        dataIndex: 'relatedSubscriptionCourseSeriesCount',\n        key: 'relatedSubscriptionCourseSeriesCount',\n        width: '10.7%'\n      }, {\n        title: '状态',\n        dataIndex: 'isValid',\n        key: 'isValid',\n        width: '12%',\n        render: function render(v) {\n          if (v) {\n            return React.createElement(_Badge, {\n              status: \"success\",\n              text: \"\\u6709\\u6548\"\n            });\n          }\n\n          return React.createElement(_Badge, {\n            status: \"warning\",\n            text: \"\\u65E0\\u6548\"\n          });\n        }\n      }, {\n        title: '操作',\n        key: 'operation',\n        width: '18.5%',\n        render: function render(_value, record) {\n          return React.createElement(TableOperation, {\n            operations: _this2.formatOperations(record)\n          });\n        }\n      }];\n\n      var Empty = function Empty() {\n        return React.createElement(EmptyComponents, null);\n      };\n\n      return React.createElement(_ConfigProvider, {\n        renderEmpty: Empty\n      }, React.createElement(TableWrapper, null, React.createElement(_Table, {\n        dataSource: dataSource,\n        columns: columns,\n        pagination: false,\n        footer: footer,\n        loading: this.state.loading\n      })));\n    }\n  }]);\n\n  return QuestionBankTable;\n}(Component);\n\nexport { QuestionBankTable as default };\nvar TableWrapper = styled.div.withConfig({\n  displayName: \"QuestionBankTable__TableWrapper\",\n  componentId: \"sc-37q2hh-0\"\n})([\"width:100%;margin-top:24px;\"]);","map":null,"metadata":{},"sourceType":"module"}
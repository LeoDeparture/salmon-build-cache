{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport Link from 'next/link';\nimport React from 'react';\nimport styled from 'styled-components';\nimport CreateFolderPop from './CreateFolderPop';\nimport { EmptyTxt } from './FileCenterComponent';\nvar RadioGroup = _Radio.Group; // Types\n\n// 子组件\n// 单个文件夹\nvar Folder = function Folder(props) {\n  var folderId = props.folderId,\n      folderName = props.folderName,\n      ownerName = props.ownerName;\n  var href = {\n    pathname: '/file-center/folders/' + folderId\n  };\n  return React.createElement(FolderContainer, null, React.createElement(Link, {\n    href: href\n  }, React.createElement(FolderMask, null)), React.createElement(_Icon, {\n    style: {\n      fontSize: 44\n    },\n    type: \"folder\",\n    theme: \"filled\"\n  }), React.createElement(FolderInfo, null, React.createElement(\"h1\", null, folderName), React.createElement(\"h2\", null, \"\\u521B\\u5EFA\\u4EBA: \", ownerName)));\n};\n\nvar FolderList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FolderList, _React$Component);\n\n  function FolderList(props) {\n    var _this;\n\n    _classCallCheck(this, FolderList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FolderList).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onRefPop\", function (ref) {\n      _this.childPop = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRadioChange\", function (e) {\n      _this.setState({\n        selectedIndex: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function () {\n      _this.childPop.showPop();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showDetail\", function () {\n      _this.setState({\n        isShowDetail: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterFolderData\", function (data) {\n      var selectedIndex = _this.state.selectedIndex;\n      var myPersonId = localStorage.getItem('zhiwen_person_id'); // 全部文件夹\n\n      if (selectedIndex === 1) {\n        return data;\n      } // 我创建的\n\n\n      if (selectedIndex === 2) {\n        return data.filter(function (folder) {\n          return folder.owner.person.id === myPersonId;\n        });\n      } // 工作伙伴创建的\n\n\n      if (selectedIndex === 3) {\n        return data.filter(function (folder) {\n          return folder.owner.person.id !== myPersonId;\n        });\n      }\n    });\n\n    _this.state = {\n      isShowDetail: false,\n      selectedIndex: 1,\n      // 筛选文件夹: 1 全部 | 2 我创建的 | 3 工作伙伴创建的\n      selectedFolderId: ''\n    };\n    return _this;\n  } // 获取子组件对象\n\n\n  _createClass(FolderList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // 头部\n      var Header = function Header() {\n        return React.createElement(HeaderContainer, null, React.createElement(RadioGroup, {\n          onChange: _this2.onRadioChange,\n          value: _this2.state.selectedIndex\n        }, React.createElement(_Radio, {\n          value: 1\n        }, \"\\u5168\\u90E8\"), React.createElement(_Radio, {\n          value: 2\n        }, \"\\u6211\\u521B\\u5EFA\\u7684\"), React.createElement(_Radio, {\n          value: 3\n        }, \"\\u5DE5\\u4F5C\\u4F19\\u4F34\\u521B\\u5EFA\\u7684\")), React.createElement(_Button, {\n          hidden: _this2.state.selectedIndex === 3,\n          style: createBtnStyle,\n          onClick: _this2.handleClick,\n          type: \"primary\",\n          icon: \"plus\"\n        }, \"\\u521B\\u5EFA\\u6587\\u4EF6\\u5939\"), React.createElement(CreateFolderPop, {\n          onRef: _this2.onRefPop,\n          createFolder: _this2.props.createFolder\n        }));\n      }; // 内容\n\n\n      var Body = function Body() {\n        var folderData = _this2.props.folderData;\n        var data = folderData.map(function (v) {\n          return v.node;\n        });\n\n        var filteredFolderData = _this2.filterFolderData(data);\n\n        var content; // 有数据\n\n        if (filteredFolderData.length > 0) {\n          var renderFolders = filteredFolderData.map(function (v, i) {\n            return React.createElement(_Col, {\n              key: i,\n              span: 8\n            }, React.createElement(Folder, {\n              folderName: v.name,\n              ownerName: v.owner.person.name,\n              folderId: v.id\n            }));\n          });\n          content = React.createElement(_Row, {\n            gutter: 24\n          }, renderFolders);\n        } else {\n          // 无数据\n          content = React.createElement(EmptyTxt, null, \"\\u6682\\u65E0\\u6587\\u4EF6\\u5939\");\n        }\n\n        return React.createElement(BodyContainer, null, content);\n      };\n\n      return React.createElement(MainContainer, null, React.createElement(Header, null), React.createElement(Body, null));\n    }\n  }]);\n\n  return FolderList;\n}(React.Component);\n\nexport default FolderList; // CSS\n\nvar createBtnStyle = {\n  float: 'right'\n}; // Styled Components\n\nvar MainContainer = styled.div.withConfig({\n  displayName: \"FolderList__MainContainer\",\n  componentId: \"sc-19slip9-0\"\n})([\"display:flex;flex-direction:column;height:100%;padding:24px 32px 0 32px;\"]);\nvar HeaderContainer = styled.div.withConfig({\n  displayName: \"FolderList__HeaderContainer\",\n  componentId: \"sc-19slip9-1\"\n})([\"height:54px;border-bottom:solid 1px rgba(171,178,191,0.32);\"]);\nvar BodyContainer = styled.div.withConfig({\n  displayName: \"FolderList__BodyContainer\",\n  componentId: \"sc-19slip9-2\"\n})([\"position:relative;flex:1;padding-top:32px;overflow:hidden;\"]);\nvar FolderContainer = styled.div.withConfig({\n  displayName: \"FolderList__FolderContainer\",\n  componentId: \"sc-19slip9-3\"\n})([\"position:relative;display:flex;width:100%;height:68px;padding:12px 28px 14px 28px;margin-bottom:24px;border:solid 1px #b9b9b9;border-radius:4px;\"]);\nvar FolderMask = styled.div.withConfig({\n  displayName: \"FolderList__FolderMask\",\n  componentId: \"sc-19slip9-4\"\n})([\"position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;&:hover{background-color:#5c86fb;opacity:0.05;}\"]);\nvar FolderInfo = styled.div.withConfig({\n  displayName: \"FolderList__FolderInfo\",\n  componentId: \"sc-19slip9-5\"\n})([\"flex:1;margin-left:10px;overflow:hidden;h1{width:100%;margin:0;overflow:hidden;font-size:16px;color:#4a4a4a;text-overflow:ellipsis;word-break:break-all;white-space:nowrap;}h2{width:100%;margin:0;overflow:hidden;font-size:12px;line-height:18px;color:#b9b9b9;text-overflow:ellipsis;word-break:break-all;white-space:nowrap;}\"]);","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport Router from 'next/router';\nimport CONFIG from './config'; // 从 error 中解析出 errorCode\n\nvar parseErrorCode = function parseErrorCode(error) {\n  if (error && error.data && error.data.code) {\n    return error.data.code;\n  }\n\n  return null;\n}; // 权限报错处理方法\n\n\nexport var handleGraphQLError = function handleGraphQLError(error) {\n  // tslint:disable-next-line: no-console\n  console.log('graphQLError', error);\n\n  if (parseErrorCode(error) === 'NoAuthorization') {\n    _message.destroy();\n\n    _message.error(CONFIG.txt.noAuth);\n\n    Router.push('/login');\n  }\n}; // 网络错误处理方法\n\nexport var handleNetworkError = function handleNetworkError(networkError) {\n  // tslint:disable-next-line: no-console\n  console.log('networkError', networkError);\n\n  _message.destroy();\n\n  _message.error(CONFIG.txt.networkError);\n}; // 排除权限报错和网络报错\n\nexport var handleConfirmOtherError = function handleConfirmOtherError(e) {\n  if (e.graphQLErrors && e.graphQLErrors.length && e.graphQLErrors[0].data.code !== 'NoAuthorization' && !e.networkError) {\n    return true;\n  }\n\n  return false;\n};","map":null,"metadata":{},"sourceType":"module"}
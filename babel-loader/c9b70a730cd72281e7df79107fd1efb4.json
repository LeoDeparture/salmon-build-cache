{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/cascader/style\";\nimport _Cascader from \"antd/lib/cascader\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport { uniq, uniqBy } from 'lodash';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport FileUpload from '../../../../components/FileUpload';\nimport PriceDiffPlan from '../../../../components/PriceDiffPlan';\nimport ZhiWenSelect from '../../../../components/Select/ZhiWenSelect';\nimport ZhiWenCascader from '../../../../components/SelectComponents/ZhiWenCascader';\nimport ShadowedTitle from '../../../../components/ShadowedTitle';\nimport { breakLine, toCascadarOptions } from '../../../../lib/commonJs';\nimport { priceDifferenceConfigsText } from '../../planDetail/components/JobService/JobService';\nimport { PopoverLabel } from '../../planDetail/components/PriceInfo/EditPriceInfo';\nimport CompanyDomainSelectContainer from '../containers/CompanyDomainSelectContainer';\nimport ZhiwenCompanySelect from '../containers/ZhiwenCompanySelect';\nimport { FooterWrapper, HiddenWrapper, LabelDescription, LabelWrapper, TextContainer, TextContext, TextTitle } from '../CSSComponent';\nimport { emptyCascaderRender, groupAndFormat } from '../JSComponent';\nimport GiftJobApplicationInfo from './GiftJobApplicationInfo';\nimport MinorJobApplicationInfo from './MinorJobApplicationInfo';\nvar TextArea = _Input.TextArea;\nvar InLineStyle = {\n  Select: {\n    width: '500px',\n    lineHeight: '56px'\n  },\n  LeftButton: {\n    marginRight: '12px'\n  }\n};\nvar ShadowedTitleStyle = {\n  margin: '44px 0 8px 0 '\n};\nvar TitleContainer = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__TitleContainer\",\n  componentId: \"kg1tn6-0\"\n})([\"display:flex;align-items:center;justify-content:space-between;width:340px;height:24px;margin-bottom:32px;\"]);\nvar Delete = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__Delete\",\n  componentId: \"kg1tn6-1\"\n})([\"font-size:12px;line-height:18px;color:#ff5230;cursor:pointer;\"]);\nvar TitleWrapper = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__TitleWrapper\",\n  componentId: \"kg1tn6-2\"\n})([\"padding:0 8px;font-size:16px;color:#a2aab8;background:linear-gradient(0deg,rgba(209,213,219) 23%,#fff 23%);\"]);\nexport var BasicWrapper = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__BasicWrapper\",\n  componentId: \"kg1tn6-3\"\n})([\"display:flex;align-items:center;flex:1;flex-direction:column;height:100%;min-width:320px;font-size:14px;\"]);\nvar VocationalServiceWrapperContainer = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__VocationalServiceWrapperContainer\",\n  componentId: \"kg1tn6-4\"\n})([\"display:flex;flex-wrap:wrap;width:768px;main:nth-child(1){margin-right:88px;}main:nth-child(4){width:100%;}main:nth-child(6){margin-right:88px;}\"]);\nvar ItemContainer = styled.main.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__ItemContainer\",\n  componentId: \"kg1tn6-5\"\n})([\"display:flex;align-items:center;flex-direction:column;width:340px;\"]);\nvar StyledDatePicker = styled(_DatePicker).withConfig({\n  displayName: \"JobBusinessJobRecommendationService__StyledDatePicker\",\n  componentId: \"kg1tn6-6\"\n})([\"width:340px;\"]);\nvar LabelTitle = styled.span.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__LabelTitle\",\n  componentId: \"kg1tn6-7\"\n})([\"margin-right:8px;font-size:14px;color:#172b4d;\"]);\nvar Line = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__Line\",\n  componentId: \"kg1tn6-8\"\n})([\"width:768px;height:1px;margin-top:20px;background:#e1e1e8;\"]);\nvar TagsWrapper = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__TagsWrapper\",\n  componentId: \"kg1tn6-9\"\n})([\"display:flex;flex-wrap:wrap;\"]);\nvar TagsItem = styled(_Tag).withConfig({\n  displayName: \"JobBusinessJobRecommendationService__TagsItem\",\n  componentId: \"kg1tn6-10\"\n})([\"height:22px;margin:0 8px 8px 0;\"]);\nvar ClickAddContainer = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__ClickAddContainer\",\n  componentId: \"kg1tn6-11\"\n})([\"width:100%;height:32px;font-size:14px;line-height:32px;color:#172b4d;text-align:center;cursor:pointer;border:2px dashed #c3c4d1;border-radius:4px;\"]);\nvar Tip = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__Tip\",\n  componentId: \"kg1tn6-12\"\n})([\"margin-bottom:44px;font-size:12px;line-height:18px;color:#a2aab8;\"]);\nvar LoopItemContainer = styled.div.withConfig({\n  displayName: \"JobBusinessJobRecommendationService__LoopItemContainer\",\n  componentId: \"kg1tn6-13\"\n})([\"display:flex;flex-direction:column;width:340px;\"]);\nvar countryTypeC = 'china-country';\nvar countryTypeF = 'foreign-country';\n\nvar JobBusinessJobRecommendationService =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(JobBusinessJobRecommendationService, _Component);\n\n  function JobBusinessJobRecommendationService(props) {\n    var _this;\n\n    _classCallCheck(this, JobBusinessJobRecommendationService);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(JobBusinessJobRecommendationService).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"checkMinAndMaxNumber\", function (_rule, value, callback) {\n      var getFieldValue = _this.props.form.getFieldValue;\n      var dayValue = getFieldValue('day');\n      var monthValue = getFieldValue('month');\n\n      if (!dayValue && !monthValue) {\n        callback(\"\\u6B64\\u5B57\\u6BB5\\u4E0D\\u53EF\\u4E3A\\u7A7A\\uFF0C\\u6700\\u5C11\\u586B\\u5199\\u4E00\\u9879\");\n      }\n\n      callback();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickCloseIcon\", function (id, type) {\n      var selectedArray = [];\n      var selectedArrayId = [];\n\n      if (type === 'homeCity') {\n        selectedArray = _toConsumableArray(_this.state.selectedHomeCityArray);\n      }\n\n      if (type === 'LineBusiness') {\n        selectedArray = _toConsumableArray(_this.state.selectLineBusinessArray);\n      }\n\n      if (type === 'exceptionCompany') {\n        selectedArray = _toConsumableArray(_this.state.selectExceptionCompany);\n        selectedArrayId = _toConsumableArray(_this.state.exceptionCompanyIds);\n      }\n\n      if (type === 'foreignCity') {\n        selectedArray = _toConsumableArray(_this.state.selectedForeignCityArray);\n      }\n\n      selectedArray = selectedArray.filter(function (v) {\n        return v.id !== id;\n      });\n      selectedArrayId = selectedArrayId.filter(function (v) {\n        return v !== id;\n      });\n\n      _this.props.form.setFieldsValue({});\n\n      if (type === 'homeCity') {\n        _this.props.form.setFieldsValue({\n          'china-country': selectedArray\n        });\n\n        _this.setState({\n          selectedHomeCityArray: selectedArray\n        }, function () {\n          _this.props.form.validateFieldsAndScroll([countryTypeC], {\n            force: true\n          }, function () {\n            return;\n          });\n        });\n      }\n\n      if (type === 'LineBusiness') {\n        _this.setState({\n          selectLineBusinessArray: selectedArray\n        }, function () {\n          _this.props.form.setFieldsValue({\n            LineOfBusinessIds: _this.state.selectLineBusinessArray\n          });\n\n          _this.props.form.validateFieldsAndScroll(['LineOfBusinessIds'], {\n            force: true\n          }, function () {\n            return;\n          });\n        });\n      }\n\n      if (type === 'exceptionCompany') {\n        _this.setState({\n          selectExceptionCompany: selectedArray,\n          exceptionCompanyIds: selectedArrayId\n        }, function () {\n          _this.props.form.setFieldsValue({\n            selectExceptionCompany: _this.state.selectExceptionCompany,\n            exceptionCompanyIds: _this.state.exceptionCompanyIds\n          });\n\n          _this.props.form.validateFieldsAndScroll(['exceptionCompanyIds'], {\n            force: true\n          }, function () {\n            return;\n          });\n        });\n      }\n\n      if (type === 'foreignCity') {\n        _this.props.form.setFieldsValue({\n          'foreign-country': selectedArray\n        });\n\n        _this.setState({\n          selectedForeignCityArray: selectedArray\n        }, function () {\n          _this.props.form.validateFieldsAndScroll([countryTypeF], {\n            force: true\n          }, function () {\n            return;\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderCityTags\", function (data, type) {\n      return data.map(function (v) {\n        var id = v.id,\n            name = v.name;\n        return React.createElement(TagsItem, {\n          key: id,\n          closable: true,\n          onClose: _this.onClickCloseIcon.bind(_assertThisInitialized(_this), id, type)\n        }, name);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeExceptionCompanyIds\", function (exceptionCompanyIds) {\n      if (_this.state.exceptionCompanyIds.length >= _this.props.data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount) {\n        return null;\n      }\n\n      _this.setState({\n        exceptionCompanyIds: exceptionCompanyIds\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkCountry\", function (_rule, value, callback) {\n      var getFieldValue = _this.props.form.getFieldValue;\n      var location = getFieldValue(countryTypeC);\n      var country = getFieldValue(countryTypeF);\n\n      if ((!location || !location.length) && (!country || !country.length)) {\n        callback(\"\\u5F53\\u524D\\u5B57\\u6BB5\\u4E0D\\u53EF\\u4E3A\\u7A7A\\uFF0C\\u81F3\\u5C11\\u8BBE\\u7F6E\\u4E00\\u9879\");\n        return;\n      }\n\n      callback();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateOtherField\", function (_rule, _value, callback) {\n      var validateFieldsAndScroll = _this.props.form.validateFieldsAndScroll;\n      validateFieldsAndScroll([countryTypeC], {\n        force: true\n      }, function () {\n        return;\n      });\n      callback();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectHomeCity\", function (_value, selectedOptions) {\n      var city = selectedOptions[1];\n\n      var arr = _toConsumableArray(_this.state.selectedHomeCityArray);\n\n      arr.push(city); // 数组去重\n\n      var selectedHomeCityArray = uniq(arr);\n\n      _this.setState({\n        selectedHomeCityArray: selectedHomeCityArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectForeignCity\", function (_value, selectedOptions) {\n      var city = selectedOptions[1];\n\n      var arr = _toConsumableArray(_this.state.selectedForeignCityArray);\n\n      arr.push(city); // 数组去重\n\n      var selectedForeignCityArray = uniq(arr);\n\n      _this.setState({\n        selectedForeignCityArray: selectedForeignCityArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectExceptionCompany\", function (_value, selectedOptions) {\n      var exceptionCompanyMaxCount = _this.props.data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount;\n\n      if (_this.state.exceptionCompanyIds.length >= exceptionCompanyMaxCount && exceptionCompanyMaxCount > 0) {\n        return null;\n      }\n\n      var exceptionCompanyArray = {\n        id: selectedOptions[1].value,\n        name: selectedOptions[1].label,\n        parentsName: selectedOptions[0].label\n      };\n      var arr = [].concat(_toConsumableArray(_this.state.selectExceptionCompany), [exceptionCompanyArray]);\n      var arrId = [].concat(_toConsumableArray(_this.state.exceptionCompanyIds), [selectedOptions[1].value]);\n      var selectExceptionCompany = uniqBy(arr, 'id');\n      var exceptionCompanyIds = uniq(arrId);\n\n      _this.setState({\n        selectExceptionCompany: selectExceptionCompany,\n        exceptionCompanyIds: exceptionCompanyIds\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addOtherMinorJobApplicationInfo\", function () {\n      _this.setState({\n        minorJobApplicationInfos: [].concat(_toConsumableArray(_this.state.minorJobApplicationInfos), [{\n          industryId: undefined,\n          jobCharacterIds: undefined,\n          companyLevelId: undefined,\n          domainIds: undefined,\n          exceptionCompanyIds: undefined,\n          lineOfBusinessIds: undefined,\n          priceDifferences: undefined,\n          spanIndustryDifferentPrice: undefined,\n          isSpanIndustryDifferentPricePayAtOnce: undefined,\n          workingStyleId: undefined\n        }])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updataOtherMinorJobApplicationInfo\", function (newData, index) {\n      var arr = _this.state.minorJobApplicationInfos;\n      var newArr = [].concat(_toConsumableArray(arr.slice(0, index)), [_objectSpread({}, arr[index], newData)], _toConsumableArray(arr.slice(index + 1)));\n\n      _this.setState({\n        minorJobApplicationInfos: newArr\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteOtherMinorJobApplicationInfo\", function (index) {\n      if (_this.state.minorJobApplicationInfos.length > 1) {\n        _this.setState({\n          minorJobApplicationInfos: [].concat(_toConsumableArray(_this.state.minorJobApplicationInfos.slice(0, index)), _toConsumableArray(_this.state.minorJobApplicationInfos.slice(index + 1)))\n        });\n      } else {\n        _this.setState({\n          minorJobApplicationInfos: []\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addOtherGiftJobApplicationInfo\", function () {\n      _this.setState({\n        giftJobApplicationInfos: [].concat(_toConsumableArray(_this.state.giftJobApplicationInfos), [{\n          industryId: undefined,\n          jobCharacterIds: [JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticJobCharacterEnum.find(function (item) {\n            return item.key === 'SHORT-INTERNSHIP';\n          }).id],\n          companyLevelId: undefined,\n          domainIds: undefined,\n          exceptionCompanyIds: undefined,\n          lineOfBusinessIds: undefined,\n          priceDifferences: undefined,\n          spanIndustryDifferentPrice: undefined,\n          isSpanIndustryDifferentPricePayAtOnce: undefined,\n          workingStyleId: JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticWorkingStyleEnum.find(function (item) {\n            return item.key === 'REMOTE';\n          }).id\n        }])\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updataOtherGiftJobApplicationInfo\", function (newData, index) {\n      var arr = _this.state.giftJobApplicationInfos;\n      var newArr = [].concat(_toConsumableArray(arr.slice(0, index)), [_objectSpread({}, arr[index], newData)], _toConsumableArray(arr.slice(index + 1)));\n\n      _this.setState({\n        giftJobApplicationInfos: newArr\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteOtherGiftJobApplicationInfos\", function (index) {\n      if (_this.state.giftJobApplicationInfos.length > 1) {\n        _this.setState({\n          giftJobApplicationInfos: [].concat(_toConsumableArray(_this.state.giftJobApplicationInfos.slice(0, index)), _toConsumableArray(_this.state.giftJobApplicationInfos.slice(index + 1)))\n        });\n      } else {\n        _this.setState({\n          giftJobApplicationInfos: []\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectDomains\", function (selectDomain, name) {\n      var nameArray = name.map(function (item) {\n        return item.props;\n      });\n\n      if (selectDomain.length < _this.state.domainIds.length) {\n        _this.props.form.resetFields(['exceptionCompanyIds']);\n      }\n\n      _this.setState({\n        domainIds: selectDomain,\n        domainNames: nameArray,\n        selectExceptionCompany: [],\n        exceptionCompanyIds: []\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectLineBusiness\", function (selectedOptions) {\n      var parents = selectedOptions[0];\n      var child = selectedOptions[1];\n\n      var arr = _toConsumableArray(_this.state.selectLineBusinessArray);\n\n      arr.push({\n        id: child.id,\n        name: child.name,\n        parentsName: parents.name\n      }); // 数组去重\n\n      var selectLineBusinessArray = uniqBy(arr, 'id');\n\n      _this.setState({\n        selectLineBusinessArray: selectLineBusinessArray\n      }, function () {\n        var validateFields = _this.props.form.validateFields;\n        validateFields([\"LineOfBusinessIds\"], {\n          force: true\n        }, function () {\n          return;\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderLineBusinessTags\", function (data, type) {\n      return data.map(function (v) {\n        var id = v.id,\n            name = v.name,\n            parentsName = v.parentsName;\n        return React.createElement(TagsItem, {\n          key: id,\n          closable: true,\n          onClose: _this.onClickCloseIcon.bind(_assertThisInitialized(_this), id, type)\n        }, \"\".concat(parentsName, \"/\").concat(name));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"choosePriceDifferences\", function (priceDifferences) {\n      _this.setState({\n        priceDifferences: priceDifferences\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chooseFiles\", function (data) {\n      var FileList = data.map(function (item) {\n        return {\n          url: item.response,\n          filename: item.name,\n          size: item.size\n        };\n      });\n\n      _this.setState({\n        assessModelAttachments: FileList\n      }, function () {\n        var validateFields = _this.props.form.validateFields;\n        validateFields([\"assessModelAttachments\"], {\n          force: true\n        }, function () {\n          return;\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkLineOfBusinessIds\", function (_rule, _value, callback) {\n      setTimeout(function () {\n        if (_this.state.selectLineBusinessArray.length === 0) {\n          callback('当前字段不可为空');\n          return;\n        }\n\n        callback();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkAssessModelAttachments\", function (_rule, value, callback) {\n      setTimeout(function () {\n        if (_this.state.assessModelAttachments.length === 0) {\n          callback('请选择文件');\n        } else {\n          callback();\n        }\n      }, 0);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkExceptionCompanyMaxCount\", function (_rule, value, callback) {\n      var exceptionCompanyMaxCount = _this.props.data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount;\n\n      if (value && value.length > exceptionCompanyMaxCount && exceptionCompanyMaxCount > 0) {\n        _this.setState({\n          exceptionCompanyIdsHelp: \"\\u6700\\u591A\\u53EF\\u5254\\u9664\".concat(exceptionCompanyMaxCount, \"\\u5BB6\"),\n          exceptionCompanyIdsStatus: 'error'\n        });\n\n        callback(\"\\u6700\\u591A\\u53EF\\u5254\\u9664\".concat(exceptionCompanyMaxCount, \"\\u5BB6\"));\n      } else {\n        _this.setState({\n          exceptionCompanyIdsHelp: '',\n          exceptionCompanyIdsStatus: 'success'\n        });\n\n        callback();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickBtn\", function () {\n      _this.props.form.validateFields(function (err, fieldsValue) {\n        if (!err) {\n          var _data = _this.props.data;\n          var assessModelAttachments = _this.state.assessModelAttachments;\n          var jobIntentionStartAt = fieldsValue.jobIntentionStartAt,\n              innerRemarks = fieldsValue.innerRemarks,\n              targetLevelId = fieldsValue.targetLevelId;\n\n          _this.props.changeCreateData({\n            jobBusinessJobRecommendationServiceConfig: {\n              name: _data.jobBusinessJobRecommendationServiceConfig.name,\n              // 服务名称\n              jobIntentionStartAt: jobIntentionStartAt && jobIntentionStartAt.format(),\n              // 求职服务输入\n              targetCityIds: _this.state.selectedHomeCityArray.map(function (item) {\n                return item.id;\n              }),\n              // 国内目标城市 ID 列表\n              targetForeignCityIds: _this.state.selectedForeignCityArray.map(function (item) {\n                return item.id;\n              }),\n              // 国外目标城市 ID 列表\n              innerRemarks: innerRemarks,\n              // 求职服务对内备注\n              assessModelAttachments: assessModelAttachments,\n              // 评估模型附件\n              targetLevelId: targetLevelId,\n              // 评估等级 ID\n              majorJobApplicationInfo: {\n                industryId: _data.industry.id,\n                // 职问行业 ID\n                jobCharacterIds: _data.jobBusinessJobRecommendationServiceConfig.jobCharacters.map(function (item) {\n                  return item.id;\n                }),\n                // 岗位性质 ID\n                companyLevelId: _data.jobBusinessJobRecommendationServiceConfig.companyLevel.id,\n                // 目标公司等级\n                domainIds: _data.jobBusinessJobRecommendationServiceConfig.requiredDomains.map(function (item) {\n                  return item.id;\n                }).concat(_this.state.domainIds),\n                // 业务领域或行业方案\n                exceptionCompanyIds: _this.state.exceptionCompanyIds,\n                // 剔除公司\n                lineOfBusinessIds: _this.state.selectLineBusinessArray.map(function (item) {\n                  return item.id;\n                }),\n                // 职业线/业务线 ID\n                priceDifferences: _this.state.priceDifferences // 跨级投递信息\n\n              },\n              // 主申公司及岗位输入\n              minorJobApplicationInfos: _this.state.minorJobApplicationInfos,\n              giftJobApplicationInfos: _this.state.giftJobApplicationInfos\n            }\n          }, _this.props.goNextStep);\n        }\n      });\n    });\n\n    _this.state = {\n      provinceAndCityOptions: [],\n      foreignCityOptions: [],\n      selectedHomeCityArray: [],\n      selectedForeignCityArray: [],\n      minorJobApplicationInfos: [],\n      giftJobApplicationInfos: [],\n      domainIds: [],\n      domainNames: [],\n      exceptionCompanyIds: [],\n      selectExceptionCompany: [],\n      selectLineBusinessArray: [],\n      assessModelAttachments: [],\n      priceDifferences: [],\n      exceptionCompanyIdsStatus: 'success',\n      exceptionCompanyIdsHelp: ''\n    };\n    return _this;\n  }\n\n  _createClass(JobBusinessJobRecommendationService, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // 国内省市数据\n      var provinceAndCityList = JSON.parse(localStorage.getItem('zhiwen_province_city'));\n      var provinceAndCityOptions = toCascadarOptions(provinceAndCityList, 2); // 国外数据\n\n      var allEnum = JSON.parse(localStorage.getItem('zhiwen_all_enum'));\n      var foreignCityOptions = groupAndFormat(allEnum.listStaticForeignCityEnum, function (v) {\n        return v.country.name;\n      });\n      this.setState({\n        provinceAndCityOptions: provinceAndCityOptions,\n        foreignCityOptions: foreignCityOptions\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var data = this.props.data;\n      var _this$state = this.state,\n          selectedHomeCityArray = _this$state.selectedHomeCityArray,\n          provinceAndCityOptions = _this$state.provinceAndCityOptions,\n          foreignCityOptions = _this$state.foreignCityOptions,\n          selectedForeignCityArray = _this$state.selectedForeignCityArray,\n          selectLineBusinessArray = _this$state.selectLineBusinessArray,\n          selectExceptionCompany = _this$state.selectExceptionCompany;\n\n      if (data && !data.jobBusinessJobRecommendationServiceConfig) {\n        return null;\n      }\n\n      return React.createElement(HiddenWrapper, {\n        style: !this.props.show ? {\n          display: 'none'\n        } : {}\n      }, React.createElement(_Form, {\n        colon: false\n      }, React.createElement(BasicWrapper, null, React.createElement(VocationalServiceWrapperContainer, null, React.createElement(ItemContainer, null, React.createElement(ShadowedTitle, {\n        text: \"\\u57FA\\u672C\\u4FE1\\u606F\",\n        style: _objectSpread({}, ShadowedTitleStyle, {\n          width: 80\n        })\n      }), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u670D\\u52A1\\u540D\\u79F0\"), React.createElement(TextContext, null, data.jobBusinessJobRecommendationServiceConfig.name)), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u670D\\u52A1\\u4ECB\\u7ECD\"), React.createElement(TextContext, null, data.jobBusinessJobRecommendationServiceConfig.introduction)), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u5B66\\u5458\\u671F\\u5F85\\u5F00\\u59CB\\u6C42\\u804C\\u65E5\\u671F\"\n      }, getFieldDecorator('jobIntentionStartAt')(React.createElement(StyledDatePicker, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\"\n      })))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: React.createElement(LabelWrapper, null, React.createElement(\"label\", null, \"\\u76EE\\u6807\\u5730\\u57DF\\u8303\\u56F4\"), React.createElement(LabelDescription, null, \"\\u81F3\\u5C11\\u8BBE\\u7F6E\\u4E00\\u9879\")),\n        style: {\n          margin: 0\n        },\n        required: true,\n        colon: false\n      }), React.createElement(_Form.Item, {\n        style: {\n          margin: 0\n        }\n      }, React.createElement(LabelTitle, null, \"\\u56FD\\u5185\"), getFieldDecorator(countryTypeC, {\n        rules: [{\n          validator: this.checkCountry\n        }]\n      })(React.createElement(_Cascader, {\n        style: {\n          width: 304\n        },\n        showSearch: true,\n        displayRender: emptyCascaderRender.bind(this, ''),\n        options: provinceAndCityOptions,\n        allowClear: false,\n        onChange: this.onSelectHomeCity,\n        placeholder: \"\\u53EF\\u591A\\u9009\",\n        notFoundContent: \"\\u65E0\\u7ED3\\u679C\"\n      }))), React.createElement(TagsWrapper, null, this.renderCityTags(selectedHomeCityArray, 'homeCity')), React.createElement(_Form.Item, {\n        style: {\n          margin: 0\n        }\n      }, React.createElement(LabelTitle, null, \"\\u56FD\\u5916\"), getFieldDecorator(countryTypeF, {\n        rules: [{\n          validator: this.validateOtherField\n        }]\n      })(React.createElement(_Cascader, {\n        style: {\n          width: 304\n        },\n        showSearch: true,\n        displayRender: emptyCascaderRender.bind(this, ''),\n        options: foreignCityOptions,\n        allowClear: false,\n        onChange: this.onSelectForeignCity,\n        placeholder: \"\\u53EF\\u591A\\u9009\",\n        notFoundContent: \"\\u65E0\\u7ED3\\u679C\"\n      }))), React.createElement(TagsWrapper, {\n        style: {\n          marginBottom: 32\n        }\n      }, this.renderCityTags(selectedForeignCityArray, 'foreignCity'))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: React.createElement(LabelWrapper, null, React.createElement(\"label\", null, \"\\u5BF9\\u5185\\u5907\\u6CE8\"), React.createElement(LabelDescription, null, \"\\u4EC5\\u5BF9\\u5185\\u53EF\\u89C1\")),\n        colon: false\n      }, getFieldDecorator('innerRemarks')(React.createElement(TextArea, {\n        style: {\n          width: 340\n        },\n        rows: 3,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      }))))), React.createElement(ItemContainer, null, React.createElement(ShadowedTitle, {\n        text: \"\\u8BC4\\u4F30\\u6A21\\u578B\",\n        style: _objectSpread({}, ShadowedTitleStyle, {\n          width: 80\n        })\n      }), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u6A21\\u578B\\u9644\\u4EF6\",\n        required: true,\n        colon: false\n      }, getFieldDecorator('assessModelAttachments', {\n        rules: [{\n          validator: this.checkAssessModelAttachments\n        }]\n      })(React.createElement(TextContext, {\n        style: {\n          marginBottom: 4\n        }\n      }, React.createElement(FileUpload, {\n        onChangeValue: this.chooseFiles\n      }))))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u8BC4\\u4F30\\u7B49\\u7EA7\",\n        required: true\n      }, getFieldDecorator('targetLevelId', {\n        rules: [{\n          required: true,\n          message: '请选择'\n        }]\n      })(React.createElement(ZhiWenSelect, {\n        type: \"zhiwen-company-level\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\"\n      }))))), React.createElement(Line, null), React.createElement(ItemContainer, {\n        style: {\n          width: '706'\n        }\n      }, React.createElement(ShadowedTitle, {\n        text: \"\\u4E3B\\u7533\\u516C\\u53F8\\u53CA\\u5C97\\u4F4D\",\n        style: _objectSpread({}, ShadowedTitleStyle, {\n          width: 128\n        })\n      }), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u6240\\u5728\\u884C\\u4E1A\"), React.createElement(TextContext, null, data.industry.name)), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u5C97\\u4F4D\\u6027\\u8D28\"), React.createElement(TextContext, null, data.jobBusinessJobRecommendationServiceConfig.jobCharacters.map(function (item) {\n        return item.name;\n      }).join('、'))), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u76EE\\u6807\\u516C\\u53F8\\u7B49\\u7EA7\"), React.createElement(TextContext, null, data.jobBusinessJobRecommendationServiceConfig.companyLevel.name)), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u4E1A\\u52A1\\u9886\\u57DF\\u6216\\u884C\\u4E1A\",\n        required: true\n      }, React.createElement(CompanyDomainSelectContainer, {\n        type: \"main\",\n        mode: \"multiple\",\n        requiredDomains: data.jobBusinessJobRecommendationServiceConfig.requiredDomains,\n        industryId: data.industry.id,\n        companyLevelId: data.jobBusinessJobRecommendationServiceConfig.companyLevel.id,\n        onSelectDomains: this.onSelectDomains\n      }))), data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount !== -1 && React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        validateStatus: this.state.exceptionCompanyIdsStatus,\n        help: this.state.exceptionCompanyIdsHelp,\n        label: React.createElement(LabelWrapper, null, React.createElement(\"label\", null, \"\\u5254\\u9664\\u516C\\u53F8\"), React.createElement(LabelDescription, null, data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount !== 0 ? \"\\u6700\\u591A\\u53EF\\u5254\\u9664 \".concat(data.jobBusinessJobRecommendationServiceConfig.exceptionCompanyMaxCount, \"\\u5BB6\") : ''))\n      }, getFieldDecorator('exceptionCompanyIds', {\n        rules: [{\n          validator: this.checkExceptionCompanyMaxCount\n        }]\n      })(React.createElement(ZhiwenCompanySelect, {\n        placeholder: '可多选',\n        mode: \"multiple\",\n        industryId: data.industry.id,\n        companyLevelId: data.jobBusinessJobRecommendationServiceConfig.companyLevel.id,\n        domains: data.jobBusinessJobRecommendationServiceConfig.requiredDomains.map(function (item) {\n          return item.id;\n        }).concat(this.state.domainIds),\n        domainsName: data.jobBusinessJobRecommendationServiceConfig.requiredDomains.concat(this.state.domainNames),\n        onChange: this.onSelectExceptionCompany\n      }))), React.createElement(TagsWrapper, null, this.renderLineBusinessTags(selectExceptionCompany, 'exceptionCompany'))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u804C\\u80FD\\u7EBF / \\u4E1A\\u52A1\\u7EBF\",\n        required: true\n      }, getFieldDecorator('LineOfBusinessIds', {\n        rules: [{\n          validator: this.checkLineOfBusinessIds\n        }]\n      })(React.createElement(ZhiWenCascader, {\n        type: 'line-of-business',\n        getValue: this.onSelectLineBusiness,\n        displayRender: emptyCascaderRender.bind(this, ''),\n        returnType: \"option\"\n      }))), React.createElement(TagsWrapper, null, this.renderLineBusinessTags(selectLineBusinessArray, 'LineBusiness'))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        style: {\n          margin: 0\n        },\n        label: PopoverLabel('跨级投递方案', priceDifferenceConfigsText),\n        colon: false\n      })), React.createElement(\"div\", {\n        style: {\n          height: 119,\n          marginBottom: 32\n        }\n      }, React.createElement(PriceDiffPlan, {\n        onChangeValue: this.choosePriceDifferences,\n        baseData: data.jobBusinessJobRecommendationServiceConfig.priceDifferenceConfigs\n      })), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u9000\\u6B3E\\u65B9\\u6848\"), React.createElement(TextContext, null, data.jobBusinessJobRecommendationServiceConfig && breakLine(data.jobBusinessJobRecommendationServiceConfig.refundPlan) || '- - '))), React.createElement(Line, null), React.createElement(ItemContainer, null, React.createElement(ShadowedTitle, {\n        text: \"\\u8DE8\\u884C\\u4E1A\\u5C97\\u4F4D\\u4FE1\\u606F\",\n        style: _objectSpread({}, ShadowedTitleStyle, {\n          width: 128\n        })\n      }), React.createElement(Tip, null, \"\\u6700\\u591A\\u53EF\\u6DFB\\u52A05\\u9879\"), this.state.minorJobApplicationInfos.map(function (item, index) {\n        return React.createElement(LoopItemContainer, {\n          key: index\n        }, React.createElement(TitleContainer, null, React.createElement(TitleWrapper, null, \"\\u5C97\\u4F4D\\u4FE1\\u606F\", index + 1), React.createElement(Delete, {\n          onClick: _this2.deleteOtherMinorJobApplicationInfo.bind(_this2, index)\n        }, \"\\u5220\\u9664\")), React.createElement(MinorJobApplicationInfo, {\n          refundPlan: data.jobBusinessJobRecommendationServiceConfig.refundPlan,\n          jobCharacters: data.jobBusinessJobRecommendationServiceConfig.jobCharacters,\n          form: _this2.props.form,\n          data: item,\n          index: index,\n          updataOtherMinorJobApplicationInfo: _this2.updataOtherMinorJobApplicationInfo\n        }));\n      }), this.state.minorJobApplicationInfos.length <= 4 && React.createElement(TextContainer, null, React.createElement(ClickAddContainer, {\n        onClick: this.addOtherMinorJobApplicationInfo\n      }, \"\\u65B0\\u589E\\u8DE8\\u884C\\u4E1A\\u5C97\\u4F4D\\u4FE1\\u606F\"))), React.createElement(ItemContainer, null, React.createElement(ShadowedTitle, {\n        text: \"\\u8D60\\u9001\\u6C42\\u804C\\u670D\\u52A1\",\n        style: _objectSpread({}, ShadowedTitleStyle, {\n          width: 112\n        })\n      }), React.createElement(Tip, null, \"\\u6700\\u591A\\u53EF\\u6DFB\\u52A05\\u9879\"), this.state.giftJobApplicationInfos.map(function (item, index) {\n        return React.createElement(LoopItemContainer, {\n          key: index\n        }, React.createElement(TitleContainer, null, React.createElement(TitleWrapper, null, \"\\u8D60\\u9001\\u6C42\\u804C\\u4FE1\\u606F\", index + 1), React.createElement(Delete, {\n          onClick: _this2.deleteOtherGiftJobApplicationInfos.bind(_this2, index)\n        }, \"\\u5220\\u9664\")), React.createElement(GiftJobApplicationInfo, {\n          form: _this2.props.form,\n          data: item,\n          index: index,\n          updataOtherGiftJobApplicationInfo: _this2.updataOtherGiftJobApplicationInfo\n        }));\n      }), this.state.giftJobApplicationInfos.length <= 4 && React.createElement(TextContainer, null, React.createElement(ClickAddContainer, {\n        onClick: this.addOtherGiftJobApplicationInfo\n      }, \"\\u65B0\\u589E\\u8D60\\u9001\\u6C42\\u804C\\u4FE1\\u606F\")))), React.createElement(FooterWrapper, null, React.createElement(_Button, {\n        onClick: this.props.goLastStep,\n        style: InLineStyle.LeftButton\n      }, \"\\u4E0A\\u4E00\\u6B65\"), React.createElement(_Button, {\n        type: \"primary\",\n        disabled: false,\n        onClick: this.onClickBtn\n      }, \"\\u4E0B\\u4E00\\u6B65\")))));\n    }\n  }]);\n\n  return JobBusinessJobRecommendationService;\n}(Component);\n\nexport default _Form.create()(JobBusinessJobRecommendationService);","map":null,"metadata":{},"sourceType":"module"}
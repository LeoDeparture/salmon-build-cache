{"ast":null,"code":"import \"antd/lib/config-provider/style\";\nimport _ConfigProvider from \"antd/lib/config-provider\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport React from 'react';\nimport EmptyComponent from '../../../../components/Empty';\nimport InlineAccountInfo from '../../../../components/InlineAccountInfo';\nimport TableOperation from '../../../../components/Table/TableOperation';\nimport { dateText } from '../../../../lib/commonJs';\nimport ActionButton from '../../components/ActionButton';\nimport JobStatus from '../../components/JobStatus';\n\nvar JobTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(JobTable, _React$Component);\n\n  function JobTable(props) {\n    var _this;\n\n    _classCallCheck(this, JobTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(JobTable).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickAction\", function () {\n      return;\n    });\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  } // 点击上线, 下线\n\n\n  _createClass(JobTable, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          jobs = _this$props.jobs,\n          footer = _this$props.footer; // 处理数据源\n\n      var dataSource = jobs.map(function (job) {\n        return _objectSpread({\n          key: job.id\n        }, job);\n      }); // 生成表格 column\n\n      var columnsData = [{\n        title: '岗位名称',\n        key: 'name',\n        width: '17%',\n        render: function render(_text, record) {\n          var id = record.id,\n              name = record.name;\n          return React.createElement(Link, {\n            href: \"/job-service/job-detail/\".concat(id)\n          }, React.createElement(\"a\", null, name));\n        }\n      }, {\n        title: '公司名称',\n        key: 'company',\n        width: '21%',\n        render: function render(company) {\n          return company ? company.companyName : '- -';\n        }\n      }, {\n        title: '岗位状态',\n        key: 'status',\n        width: '12%',\n        render: function render(status) {\n          return React.createElement(JobStatus, {\n            status: status\n          });\n        }\n      }, {\n        title: '岗位负责人',\n        key: 'principal',\n        width: '20%',\n        render: function render(principal) {\n          return principal ? React.createElement(InlineAccountInfo, {\n            account: principal.account\n          }) : '- -';\n        }\n      }, {\n        title: '最近上线日期',\n        key: 'lastPublishAt',\n        width: '14%',\n        render: function render(lastPublishAt) {\n          return dateText(lastPublishAt);\n        }\n      }, {\n        title: '操作',\n        key: 'operation',\n        width: '16%',\n        render: function render(_text, record) {\n          var id = record.id,\n              status = record.status; // 操作列表\n\n          var operations = [{\n            render: function render() {\n              return React.createElement(ActionButton, {\n                status: status,\n                id: id,\n                mode: \"link\"\n              });\n            }\n          }, {\n            title: '查看详情',\n            onClick: function onClick() {\n              Router.push(\"/job-service/job-detail/\".concat(id));\n            }\n          }];\n          return React.createElement(TableOperation, {\n            operations: operations\n          });\n        }\n      }];\n      var columns = columnsData.map(function (column) {\n        return _objectSpread({}, column, {\n          dataIndex: column.key,\n          ellipsis: true\n        });\n      });\n\n      var renderEmpty = function renderEmpty() {\n        return React.createElement(EmptyComponent, {\n          description: \"\\u6682\\u65E0\\u6570\\u636E\"\n        });\n      };\n\n      return React.createElement(_ConfigProvider, {\n        renderEmpty: renderEmpty\n      }, React.createElement(_Table, {\n        style: {\n          flex: 1,\n          marginTop: '24px'\n        },\n        pagination: false,\n        dataSource: dataSource,\n        columns: columns,\n        footer: footer\n      }));\n    }\n  }]);\n\n  return JobTable;\n}(React.Component);\n\nexport default JobTable;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport React from 'react';\nvar FormItem = _Form.Item;\n\nvar RegistrationForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RegistrationForm, _React$Component);\n\n  function RegistrationForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RegistrationForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RegistrationForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      var _this$props$bankInfo = _this.props.bankInfo,\n          payeeName = _this$props$bankInfo.payeeName,\n          bankName = _this$props$bankInfo.bankName,\n          branchName = _this$props$bankInfo.branchName,\n          cardNumber = _this$props$bankInfo.cardNumber;\n\n      _this.props.form.setFieldsValue({\n        bankName: bankName,\n        branchName: branchName,\n        cardNumber: cardNumber,\n        payeeName: payeeName\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      _this.setState({\n        loading: true\n      });\n\n      e.preventDefault();\n\n      _this.props.form.validateFieldsAndScroll(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(err, values) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!err) {\n                    _this.props.mutationUpdateTutor(values).then(function (success) {\n                      if (success) {\n                        _this.props.changeState('bankCardInfo', false);\n                      }\n\n                      _this.setState({\n                        loading: false\n                      });\n                    });\n                  } else {\n                    _this.setState({\n                      loading: false\n                    });\n                  }\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCancel\", function () {\n      _this.props.changeState('bankCardInfo', false);\n    });\n\n    return _this;\n  }\n\n  _createClass(RegistrationForm, [{\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return React.createElement(_Form, {\n        onSubmit: this.handleSubmit,\n        style: {\n          backgroundColor: '#fff',\n          marginTop: 50,\n          padding: 40,\n          width: '100%'\n        }\n      }, React.createElement(\"h3\", null, \"\\u94F6\\u884C\\u5361\\u4FE1\\u606F\"), React.createElement(_Row, null, React.createElement(_Col, {\n        span: 10\n      }, React.createElement(FormItem, {\n        label: \"\\u5F00\\u6237\\u4EBA\\u59D3\\u540D\",\n        colon: false\n      }, getFieldDecorator('payeeName', {\n        rules: [{\n          required: true,\n          message: '此字段无法为空'\n        }]\n      })(React.createElement(_Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        maxLength: 50\n      })))), React.createElement(_Col, {\n        span: 10,\n        offset: 4\n      }, React.createElement(FormItem, {\n        label: \"\\u94F6\\u884C\\u540D\\u79F0\",\n        colon: false\n      }, getFieldDecorator('bankName', {\n        rules: [{\n          required: true,\n          message: '此字段无法为空'\n        }]\n      })(React.createElement(_Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      }))))), React.createElement(_Row, null, React.createElement(_Col, {\n        span: 10\n      }, React.createElement(FormItem, {\n        label: \"\\u652F\\u884C\\u540D\\u79F0\",\n        colon: false\n      }, getFieldDecorator('branchName', {\n        rules: [{\n          required: true,\n          message: '此字段无法为空'\n        }]\n      })(React.createElement(_Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      })))), React.createElement(_Col, {\n        span: 10,\n        offset: 4\n      }, React.createElement(FormItem, {\n        label: \"\\u94F6\\u884C\\u5361\\u53F7\",\n        colon: false\n      }, getFieldDecorator('cardNumber', {\n        rules: [{\n          required: true,\n          message: '此字段无法为空'\n        }, {\n          message: '请输入正确格式的银行卡号! ',\n          pattern: /^\\d+$/\n        }]\n      })(React.createElement(_Input, {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      }))))), React.createElement(FormItem, {\n        labelCol: {\n          span: 12\n        }\n      }, React.createElement(_Button, {\n        onClick: this.handleCancel\n      }, \"\\u53D6\\u6D88\"), React.createElement(_Button, {\n        style: {\n          marginLeft: 20\n        },\n        type: \"primary\",\n        htmlType: \"submit\",\n        loading: this.state.loading\n      }, \"\\u4FDD\\u5B58\")));\n    }\n  }]);\n\n  return RegistrationForm;\n}(React.Component);\n\nvar EditBankCardInfo = _Form.create()(RegistrationForm);\n\nexport default EditBankCardInfo;","map":null,"metadata":{},"sourceType":"module"}
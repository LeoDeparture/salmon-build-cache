{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport moment from 'moment';\nimport Router from 'next/router';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport LimitedInput from '../../../../../components/Input/LimitedInput';\nimport { parseCityIds } from '../../../../../lib/commonJs';\nimport CompleteStudentInfo, { SpaceBetweenWrapper } from '../../associatedUsers/components/CompleteStudentInfo';\n\nvar UpdateAssociatedUserEdit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateAssociatedUserEdit, _Component);\n\n  function UpdateAssociatedUserEdit(props) {\n    var _this;\n\n    _classCallCheck(this, UpdateAssociatedUserEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateAssociatedUserEdit).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"completeStudentInfoClick\", function () {\n      var completeStudentInfo = _this.completeStudentInfo;\n      completeStudentInfo.getForm().validateFieldsAndScroll({\n        force: true\n      }, function (err, fieldsValue) {\n        if (!err) {\n          var cityId = '';\n          var foreignCityId = '';\n          var address = fieldsValue.address,\n              boughtAtTime = fieldsValue.boughtAt;\n          var boughtAt = boughtAtTime.format();\n\n          if (address) {\n            var cityIdList = parseCityIds(address);\n\n            if (cityIdList.cityIds.length !== 0) {\n              cityId = cityIdList.cityIds[0];\n            } else {\n              foreignCityId = cityIdList.foreignCityIds[0];\n            }\n          }\n\n          var reslut = _objectSpread({}, fieldsValue, {\n            cityId: cityId,\n            foreignCityId: foreignCityId,\n            boughtAt: boughtAt\n          });\n\n          _this.props.editCallback(reslut);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCancel\", function () {\n      Router.back();\n    });\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(UpdateAssociatedUserEdit, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var associatedUsers = this.props.associatedUsers;\n\n      var _ref = associatedUsers.studentAccount.account ? associatedUsers.studentAccount.account : {\n        person: {\n          name: '- -',\n          nickname: '- -',\n          phoneNumber: '- -',\n          email: '- -',\n          createdAt: '- -'\n        }\n      },\n          person = _ref.person;\n\n      var name = person.name,\n          nickname = person.nickname,\n          phoneNumber = person.phoneNumber,\n          email = person.email,\n          createdAt = person.createdAt;\n      var boughtAt = associatedUsers.boughtAt,\n          orderNo = associatedUsers.orderNo,\n          amountPaid = associatedUsers.amountPaid,\n          amountTotal = associatedUsers.amountTotal,\n          promotions = associatedUsers.promotions,\n          wechat = associatedUsers.wechat,\n          operator = associatedUsers.operator,\n          channel = associatedUsers.channel,\n          address = associatedUsers.address,\n          innerRemarks = associatedUsers.innerRemarks;\n      var orderOperationInfo = {\n        orderNo: orderNo,\n        amountPaid: amountPaid,\n        amountTotal: amountTotal,\n        boughtAt: boughtAt,\n        promotions: promotions,\n        operator: operator,\n        wechat: wechat,\n        address: address,\n        channel: channel,\n        innerRemarks: innerRemarks\n      };\n      var inputStyle = {\n        width: '320px',\n        marginRight: '32px'\n      };\n      return React.createElement(React.Fragment, null, React.createElement(Content, null, React.createElement(TopContent, null, React.createElement(CompleteStudentInfo, {\n        ref: function ref(_ref2) {\n          _this2.completeStudentInfo = _ref2;\n        },\n        initData: orderOperationInfo\n      }), React.createElement(RightContent, null)), React.createElement(TopContent, null, React.createElement(_Form, null, React.createElement(SpaceBetweenWrapper, null, React.createElement(_Form.Item, {\n        label: \"\\u59D3\\u540D | \\u6635\\u79F0\",\n        colon: false\n      }, React.createElement(LimitedInput, {\n        value: \"\".concat(name ? name : '- -', \" | \").concat(nickname ? nickname : '- -'),\n        disabled: true,\n        style: inputStyle,\n        limit: 64,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      })), React.createElement(_Form.Item, {\n        label: \"ID\",\n        colon: false\n      }, React.createElement(LimitedInput, {\n        value: associatedUsers.id,\n        disabled: true,\n        style: inputStyle,\n        limit: 64,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      }))), React.createElement(SpaceBetweenWrapper, null, React.createElement(_Form.Item, {\n        label: \"\\u624B\\u673A\\u53F7\",\n        colon: false\n      }, React.createElement(LimitedInput, {\n        value: phoneNumber,\n        disabled: true,\n        style: inputStyle,\n        limit: 16,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      })), React.createElement(_Form.Item, {\n        label: \"\\u90AE\\u7BB1\",\n        colon: false\n      }, React.createElement(LimitedInput, {\n        value: email,\n        disabled: true,\n        style: inputStyle,\n        limit: 64,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\"\n      }))), React.createElement(SpaceBetweenWrapper, null, React.createElement(_Form.Item, {\n        label: \"\\u6CE8\\u518C\\u65F6\\u95F4\",\n        colon: false\n      }, React.createElement(_DatePicker, {\n        disabled: true,\n        defaultValue: moment(createdAt, 'YYYY/MM/DD'),\n        style: inputStyle,\n        showTime: true,\n        format: \"YYYY/MM/DD\",\n        placeholder: \"\"\n      })), React.createElement(_Form.Item, {\n        colon: false\n      }, React.createElement(\"div\", {\n        style: inputStyle\n      }))), React.createElement(SpaceBetweenWrapper, null, React.createElement(_Form.Item, {\n        colon: false\n      }, React.createElement(\"div\", {\n        style: inputStyle\n      }, React.createElement(_Button, {\n        onClick: this.onCancel\n      }, \"\\u53D6\\u6D88\"), React.createElement(_Button, {\n        style: {\n          marginLeft: 20\n        },\n        onClick: this.completeStudentInfoClick,\n        type: \"primary\",\n        loading: this.state.loading,\n        htmlType: \"submit\"\n      }, \"\\u4FDD\\u5B58\"))), React.createElement(_Form.Item, {\n        colon: false\n      }, React.createElement(\"div\", {\n        style: inputStyle\n      })))), React.createElement(RightContent, null))));\n    }\n  }]);\n\n  return UpdateAssociatedUserEdit;\n}(Component);\n\nexport { UpdateAssociatedUserEdit as default };\nvar Content = styled.div.withConfig({\n  displayName: \"UpdateAssociatedUserEdit__Content\",\n  componentId: \"sc-1evuo-0\"\n})([\"background:#fff;\"]);\nvar TopContent = styled.div.withConfig({\n  displayName: \"UpdateAssociatedUserEdit__TopContent\",\n  componentId: \"sc-1evuo-1\"\n})([\"display:flex;\"]);\nvar RightContent = styled.div.withConfig({\n  displayName: \"UpdateAssociatedUserEdit__RightContent\",\n  componentId: \"sc-1evuo-2\"\n})([\"flex:1;\"]);\nexport var Name = styled.p.withConfig({\n  displayName: \"UpdateAssociatedUserEdit__Name\",\n  componentId: \"sc-1evuo-3\"\n})([\"margin-top:20px;overflow:hidden;font-size:20px;font-weight:500;line-height:28px;color:#172b4d;text-overflow:ellipsis;white-space:nowrap;\"]);\nexport var Title = styled.p.withConfig({\n  displayName: \"UpdateAssociatedUserEdit__Title\",\n  componentId: \"sc-1evuo-4\"\n})([\"overflow:hidden;font-size:16px;font-weight:500;line-height:28px;color:#172b4d;text-overflow:ellipsis;white-space:nowrap;\"]);","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/popover/style\";\nimport _Popover from \"antd/lib/popover\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/checkbox/style\";\nimport _Checkbox from \"antd/lib/checkbox\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport React from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport styled from 'styled-components';\nimport { ContentP, FlexContent, FlexDisplay } from '../../../../lib/commonCss';\nimport { formatToAsia } from '../../../../lib/date';\nimport TutorManagementContainer from '../../../tutorManagement/containers/TutorManagementContainer';\nimport { getBadgeStatus, getStatusText } from '../../privateCourseAppointmentManagement/components/PrivateCourseAppointmentManagementContent';\nmoment.locale('zh-cn');\nimport locale from 'antd/lib/date-picker/locale/zh_CN';\nvar TextArea = _Input.TextArea;\nvar DEFAULT_AVATAR = '../../../static/default_avatar.png';\nexport var Title = styled.h3.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__Title\",\n  componentId: \"sc-1osnfv-0\"\n})([\"margin:0 12px 0 0;overflow:hidden;font-size:20px;color:#000;text-overflow:ellipsis;\"]);\nexport var SubTitle = styled.h4.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__SubTitle\",\n  componentId: \"sc-1osnfv-1\"\n})([\"margin:0 12px 7px 0;font-size:16px;color:#000;\"]);\nexport var TitleP = styled.p.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__TitleP\",\n  componentId: \"sc-1osnfv-2\"\n})([\"margin:0;font-size:14px;opacity:0.5;\"]);\nexport var FieldP = styled.p.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__FieldP\",\n  componentId: \"sc-1osnfv-3\"\n})([\"margin:0;font-size:14px;\"]);\nexport var ErrorP = styled.p.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__ErrorP\",\n  componentId: \"sc-1osnfv-4\"\n})([\"margin:0;font-size:14px;color:red;\"]);\nexport var CommentP = styled.p.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__CommentP\",\n  componentId: \"sc-1osnfv-5\"\n})([\"margin:6px 0 0 0;font-size:14px;color:rgba(0,0,0,0.45);\"]);\nexport var WrappedFieldP = styled.p.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__WrappedFieldP\",\n  componentId: \"sc-1osnfv-6\"\n})([\"max-width:80%;margin:0;font-size:14px;word-break:break-all;\"]);\nexport var BackgroundDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__BackgroundDiv\",\n  componentId: \"sc-1osnfv-7\"\n})([\"width:100%;\"]);\nexport var ContentDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__ContentDiv\",\n  componentId: \"sc-1osnfv-8\"\n})([\"display:flex;flex-direction:column;padding:24px;margin:24px;background-color:#fff;\"]);\nexport var SplitDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__SplitDiv\",\n  componentId: \"sc-1osnfv-9\"\n})([\"display:flex;justify-content:space-between;\"]);\nexport var RowDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__RowDiv\",\n  componentId: \"sc-1osnfv-10\"\n})([\"display:flex;align-items:center;margin:7px 0;\"]);\nexport var NameDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__NameDiv\",\n  componentId: \"sc-1osnfv-11\"\n})([\"display:flex;flex-direction:column;justify-content:center;margin-left:20px;\"]);\nexport var CenterDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__CenterDiv\",\n  componentId: \"sc-1osnfv-12\"\n})([\"position:absolute;top:-12px;left:-12px;display:flex;align-items:center;justify-content:center;width:100%;height:100%;\"]);\nexport var ModalContentDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__ModalContentDiv\",\n  componentId: \"sc-1osnfv-13\"\n})([\"justify-content:space-between;min-height:185px;\"]);\nexport var SelectDiv = styled.div.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__SelectDiv\",\n  componentId: \"sc-1osnfv-14\"\n})([\"display:flex;min-height:92px;padding:21px 14px;border:\", \";border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,0.5);\"], function (props) {\n  return props.active ? 'solid 1px #6285ff' : 'solid 1px rgba(0, 0, 0, 0.15)';\n});\nexport var AvatarImage = styled.img.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__AvatarImage\",\n  componentId: \"sc-1osnfv-15\"\n})([\"width:100px;height:100px;border-radius:50%;\"]);\nexport var InfoA = styled.a.withConfig({\n  displayName: \"PrivateCourseAppointmentDetailsComponents__InfoA\",\n  componentId: \"sc-1osnfv-16\"\n})([\"margin-top:-8px;font-size:14px;\"]);\nvar BackIcon = {\n  color: '#4a4a4a',\n  fontSize: '22px',\n  marginRight: '15px',\n  lineHeight: '22px'\n};\n\nvar PrivateCourseAppointmentDetailsContent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PrivateCourseAppointmentDetailsContent, _React$Component);\n\n  function PrivateCourseAppointmentDetailsContent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PrivateCourseAppointmentDetailsContent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PrivateCourseAppointmentDetailsContent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      confirmLoading: false,\n      modalVisible: false,\n      modalButtonDisable: false,\n      modalTitle: '',\n      modalContent: '',\n      modalFooter: '',\n      tutorChecked: false,\n      tutorSearched: undefined,\n      tutorNoInput: '',\n      cancelReason: '',\n      confirmAt: undefined,\n      replyAt: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleState\", function (name, e) {\n      var value = moment.isMoment(e) ? e : e.target.checked ? e.target.checked : e.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleModalState\", function (type, state, e) {\n      var value = moment.isMoment(e) ? e : e.target.checked ? e.target.checked : e.target.value;\n\n      _this.setState(_defineProperty({}, state, value), function () {\n        _this.renderModal(type);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(type) {\n        var tutorData, valid;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(type === 'info')) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.setState({\n                  modalVisible: false\n                }));\n\n              case 2:\n                if (!(type === 'close')) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _this.setState({\n                  modalVisible: false,\n                  modalButtonDisable: false,\n                  modalTitle: '',\n                  modalContent: '',\n                  modalFooter: '',\n                  tutorChecked: false,\n                  tutorSearched: undefined,\n                  tutorNoInput: '',\n                  confirmAt: undefined,\n                  replyAt: undefined\n                }));\n\n              case 4:\n                if (!(type === 'search')) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 7;\n                return _this.props.searchHandler(_this.state.tutorNoInput);\n\n              case 7:\n                tutorData = _context.sent;\n\n                _this.setState({\n                  tutorSearched: tutorData\n                }, function () {\n                  _this.renderModal('assign');\n                });\n\n              case 9:\n                if (type === 'assign') {\n                  if (_this.state.tutorChecked) {\n                    _this.renderModal('confirmComplete');\n                  } else {\n                    _this.renderModal('confirmAssign');\n                  }\n                }\n\n                if (!(type === 'confirmAssign' || type === 'confirmComplete')) {\n                  _context.next = 15;\n                  break;\n                }\n\n                _this.setState({\n                  confirmLoading: true\n                }, function () {\n                  _this.renderModal(type);\n                });\n\n                _context.next = 14;\n                return _this.props.assignHandler(_this.props.data.id, _this.state.tutorSearched.id, _this.state.tutorChecked);\n\n              case 14:\n                _this.setState({\n                  confirmLoading: false,\n                  modalVisible: false\n                });\n\n              case 15:\n                if (!(type === 'reschedule')) {\n                  _context.next = 25;\n                  break;\n                }\n\n                valid = !_this.checkTime();\n\n                if (!valid) {\n                  _context.next = 24;\n                  break;\n                }\n\n                _this.setState({\n                  confirmLoading: true\n                }, function () {\n                  _this.renderModal(type);\n                });\n\n                _context.next = 21;\n                return _this.props.rescheduleHandler(_this.props.data.id, _this.state.confirmAt, _this.state.replyAt);\n\n              case 21:\n                _this.setState({\n                  confirmLoading: false,\n                  modalVisible: false\n                });\n\n                _context.next = 25;\n                break;\n\n              case 24:\n                _message.error('操作失败');\n\n              case 25:\n                if (!(type === 'complete')) {\n                  _context.next = 30;\n                  break;\n                }\n\n                _this.setState({\n                  confirmLoading: true\n                }, function () {\n                  _this.renderModal(type);\n                });\n\n                _context.next = 29;\n                return _this.props.completeHandler(_this.props.data.id);\n\n              case 29:\n                _this.setState({\n                  confirmLoading: false,\n                  modalVisible: false\n                });\n\n              case 30:\n                if (!(type === 'link')) {\n                  _context.next = 34;\n                  break;\n                }\n\n                _context.next = 33;\n                return _this.props.linkHandler(_this.props.data.id, _this.props.data.studentAccount.account.person.id, _this.props.data.studentAccount.account.person.nickname);\n\n              case 33:\n                _this.setState({\n                  modalVisible: false\n                });\n\n              case 34:\n                if (!(type === 'cancel')) {\n                  _context.next = 39;\n                  break;\n                }\n\n                _this.setState({\n                  confirmLoading: true\n                }, function () {\n                  _this.renderModal(type);\n                });\n\n                _context.next = 38;\n                return _this.props.cancelHandler(_this.props.data.id, _this.state.cancelReason);\n\n              case 38:\n                _this.setState({\n                  confirmLoading: false,\n                  modalVisible: false\n                });\n\n              case 39:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"renderCheckbox\", function () {\n      var twenty = moment().add(20, 'minutes');\n      var checked = moment(twenty).isAfter(moment(_this.props.data.confirmAt));\n\n      if (checked || _this.state.tutorChecked) {\n        _this.setState({\n          tutorChecked: true\n        });\n      }\n\n      return React.createElement(_Checkbox, {\n        defaultChecked: checked || _this.state.tutorChecked,\n        disabled: checked,\n        onChange: _this.handleState.bind(_assertThisInitialized(_this), 'tutorChecked')\n      }, \"\\u540C\\u65F6\\u786E\\u8BA4\\u672C\\u6B21\\u9884\\u7EA6\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"disabledDate\", function (current) {\n      return current && current < moment().startOf('day');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"disabledSecondDate\", function (current) {\n      if (_this.state.confirmAt) {\n        return current > moment(_this.state.confirmAt).endOf('day') || current < moment().startOf('day');\n      } else {\n        return current && current < moment().startOf('day');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkTime\", function () {\n      if (_this.state.confirmAt && _this.state.confirmAt.isSameOrBefore(moment())) {\n        return React.createElement(ErrorP, null, \"\\u53D8\\u66F4\\u540E\\u7684\\u9884\\u7EA6\\u65F6\\u95F4\\u5FC5\\u987B\\u5927\\u4E8E\\u5F53\\u524D\\u65F6\\u95F4\");\n      }\n\n      if (_this.state.replyAt && _this.state.replyAt.isSameOrBefore(moment())) {\n        return React.createElement(ErrorP, null, \"\\u5B66\\u5458\\u6700\\u665A\\u786E\\u8BA4\\u65F6\\u95F4\\u5FC5\\u987B\\u5927\\u4E8E\\u5F53\\u524D\\u65F6\\u95F4\");\n      }\n\n      if (_this.state.replyAt && _this.state.confirmAt && _this.state.replyAt.isSameOrAfter(_this.state.confirmAt, 'minutes')) {\n        return React.createElement(ErrorP, null, \"\\u5B66\\u5458\\u6700\\u665A\\u786E\\u8BA4\\u65F6\\u95F4\\u5FC5\\u987B\\u5C0F\\u4E8E\\u53D8\\u66F4\\u540E\\u7684\\u9884\\u7EA6\\u65F6\\u95F4\");\n      }\n\n      return undefined;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderModalTitle\", function (type) {\n      return type === 'cancel' ? '确认取消此预约？' : type === 'reschedule' ? '变更预约时间' : type === 'assign' ? '为此1对1辅导分配导师' : type === 'confirmAssign' ? React.createElement(React.Fragment, null, React.createElement(_Icon, {\n        onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'assign'),\n        type: \"arrow-left\",\n        style: BackIcon\n      }), \"\\u786E\\u8BA4\\u5206\\u914D\\u6B64\\u5BFC\\u5E08\\uFF1F\") : type === 'confirmComplete' ? React.createElement(React.Fragment, null, React.createElement(_Icon, {\n        onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'assign'),\n        type: \"arrow-left\",\n        style: BackIcon\n      }), \"\\u786E\\u8BA4\\u5206\\u914D\\u6B64\\u5BFC\\u5E08\\u5E76\\u540C\\u65F6\\u786E\\u8BA4\\u672C\\u6B21\\u9884\\u7EA6\\uFF1F\") : type === 'complete' ? '确认此预约' : '上课链接说明';\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderModalContent\", function (type) {\n      if (type === 'cancel') {\n        return React.createElement(ModalContentDiv, null, React.createElement(FlexDisplay, {\n          style: {\n            flexDirection: 'column'\n          }\n        }, React.createElement(FlexContent, null, React.createElement(\"span\", {\n          style: {\n            color: 'red'\n          }\n        }, \"*\"), React.createElement(ContentP, {\n          style: {\n            margin: 0\n          }\n        }, \"\\u53D6\\u6D88\\u7406\\u7531\")), React.createElement(TextArea, {\n          rows: 4,\n          onChange: _this.handleState.bind(_assertThisInitialized(_this), 'cancelReason'),\n          defaultValue: _this.state.cancelReason\n        })));\n      }\n\n      if (type === 'info') {\n        return React.createElement(\"div\", {\n          style: {\n            fontSize: '15px'\n          }\n        }, React.createElement(\"p\", null, \"\\u7CFB\\u7EDF\\u4F1A\\u5728\\u6B63\\u5E38\\u5F00\\u8BFE\\u524D20\\u5206\\u949F\\u81EA\\u52A8\\u7ED9\\u5BFC\\u5E08\\u548C\\u5B66\\u5458\\u53D1\\u9001\\u4E0A\\u8BFE\\u8FDE\\u63A5\\uFF0C\\u5B66\\u5458\\u53EF\\u5728\\u8BFE\\u7A0B\\u8F85\\u5BFC\\u7ED3\\u675F6\\u5C0F\\u65F6\\u540E\\u5728\\u804C\\u95EEapp\\u7AEF\\u83B7\\u53D6\\u56DE\\u653E\\u94FE\\u63A5\\u3002\\u6CE8\\u610F\\uFF01\\u975E\\u7279\\u6B8A\\u60C5\\u51B5\\u8BF7\\u52FF\\u624B\\u52A8\\u5206\\u4EAB\\u94FE\\u63A5\\u7ED9\\u5B66\\u5458\\u6216\\u5BFC\\u5E08\\u3002\"), React.createElement(\"p\", null), React.createElement(\"p\", null, \"\\u4E0A\\u8BFE\\u8FDE\\u63A5\\u751F\\u6210\\u6761\\u4EF6\\uFF1A\\u5F53\\u8BE5\\u9884\\u7EA6\\u4EFB\\u52A1\\u5173\\u8054\\u4E86\\u5BFC\\u5E08\\u540E\\u3002\"), React.createElement(\"p\", null, \"\\u83B7\\u53D6\\u56DE\\u653E\\u8FDE\\u63A5\\u6761\\u4EF6\\uFF1A\\u5F53\\u524D\\u65F6\\u95F4\\u5927\\u4E8E\\u4E0A\\u8BFE\\u65F6\\u95F4\\u4E14\\u5BFC\\u5E08\\u548C\\u5B66\\u5458\\u5DF2\\u6B63\\u5E38\\u4E0A\\u8BFE\\u3002\"));\n      }\n\n      if (type === 'complete') {\n        return React.createElement(\"div\", null, React.createElement(\"p\", null, \"\\u786E\\u8BA4\\u5DF2\\u7ECF\\u548C\\u5BFC\\u5E08\\u53D6\\u5F97\\u8054\\u7CFB\\u5E76\\u6838\\u5BF9\\u4E0A\\u8BFE\\u65F6\\u95F4\\u4E86\\u5417\\uFF1F\"));\n      }\n\n      if (type === 'reschedule') {\n        return React.createElement(ModalContentDiv, null, React.createElement(FlexDisplay, {\n          style: {\n            flexDirection: 'column'\n          }\n        }, React.createElement(FlexContent, null, React.createElement(\"span\", {\n          style: {\n            color: 'red'\n          }\n        }, \"*\"), React.createElement(ContentP, {\n          style: {\n            margin: 0\n          }\n        }, \"\\u53D8\\u66F4\\u9884\\u7EA6\\u65F6\\u95F4\")), React.createElement(_DatePicker, {\n          allowClear: false,\n          locale: locale,\n          disabledDate: _this.disabledDate,\n          format: \"YYYY-MM-DD HH:mm\",\n          showTime: {\n            format: 'HH:mm',\n            defaultValue: moment('00:00', 'HH:mm')\n          },\n          placeholder: '请设置变更后的预约时间',\n          style: {\n            width: '225px'\n          },\n          onChange: _this.handleModalState.bind(_assertThisInitialized(_this), 'reschedule', 'confirmAt')\n        }), React.createElement(FlexContent, {\n          style: {\n            marginTop: '32px'\n          }\n        }, React.createElement(\"span\", {\n          style: {\n            color: 'red'\n          }\n        }, \"*\"), React.createElement(ContentP, {\n          style: {\n            margin: 0\n          }\n        }, \"\\u5B66\\u5458\\u6700\\u665A\\u786E\\u8BA4\\u65F6\\u95F4\")), React.createElement(_DatePicker, {\n          allowClear: false,\n          locale: locale,\n          disabledDate: _this.disabledSecondDate,\n          format: \"YYYY-MM-DD HH:mm\",\n          showTime: {\n            format: 'HH:mm',\n            defaultValue: moment('00:00', 'HH:mm')\n          },\n          placeholder: '请设置学员最晚确认时间',\n          style: {\n            width: '225px'\n          },\n          onChange: _this.handleModalState.bind(_assertThisInitialized(_this), 'reschedule', 'replyAt')\n        })), React.createElement(CommentP, null, \"\\u5982\\u5B66\\u5458\\u5728\\u6700\\u665A\\u786E\\u8BA4\\u65F6\\u95F4\\u524D\\u672A\\u786E\\u8BA4\\uFF0C\\u672C\\u6B21\\u8F85\\u5BFC\\u5C06\\u81EA\\u52A8\\u53D6\\u6D88\"));\n      }\n\n      if (type === 'assign') {\n        return React.createElement(ModalContentDiv, null, React.createElement(FlexDisplay, {\n          style: {\n            flexDirection: 'column'\n          }\n        }, React.createElement(SplitDiv, null, React.createElement(FieldP, null, \"\\u5206\\u914D\\u5BFC\\u5E08\"), React.createElement(TitleP, null, \"\\u4EC5\\u652F\\u6301\\u6B63\\u5E38\\u5408\\u4F5C\\u72B6\\u6001\\u7684\\u5BFC\\u5E08\")), React.createElement(SplitDiv, {\n          style: {\n            margin: '12px 0'\n          }\n        }, React.createElement(_Input, {\n          placeholder: '通过导师ID搜索',\n          style: {\n            marginRight: '12px'\n          },\n          onChange: _this.handleModalState.bind(_assertThisInitialized(_this), 'assign', 'tutorNoInput'),\n          defaultValue: _this.state.tutorNoInput\n        }), React.createElement(_Button, {\n          disabled: !_this.state.tutorNoInput,\n          onClick: _this.handleClick.bind(_assertThisInitialized(_this), 'search')\n        }, \"\\u641C\\u7D22\")), _this.state.tutorSearched === undefined ? React.createElement(React.Fragment, null) : _this.state.tutorSearched === null ? React.createElement(SelectDiv, {\n          style: {\n            alignItems: 'center',\n            justifyContent: 'center'\n          }\n        }, \"\\u8BE5\\u5BFC\\u5E08\\u4E0D\\u5B58\\u5728\") : React.createElement(SelectDiv, null, React.createElement(AvatarImage, {\n          style: {\n            width: '72px',\n            height: '72px'\n          },\n          src: _this.state.tutorSearched.avatar ? _this.state.tutorSearched.avatar : DEFAULT_AVATAR\n        }), React.createElement(NameDiv, {\n          style: {\n            marginLeft: '8px',\n            width: '100%'\n          }\n        }, React.createElement(RowDiv, {\n          style: {\n            margin: 0\n          }\n        }, React.createElement(FieldP, null, _this.state.tutorSearched.nickname), React.createElement(FlexDisplay, {\n          style: {\n            margin: '0 12px',\n            alignItems: 'center'\n          }\n        }, React.createElement(_Badge, {\n          status: _this.state.tutorSearched.inCollaboration ? 'success' : 'default'\n        }), React.createElement(FieldP, null, _this.state.tutorSearched.inCollaboration ? '正常合作' : '停止合作'))), React.createElement(TitleP, {\n          style: {\n            fontSize: '12px',\n            width: '40%'\n          }\n        }, \"ID\\uFF1A\", _this.state.tutorSearched.tutorNo), _this.state.tutorSearched.lastWorkExperience ? React.createElement(\"div\", {\n          style: {\n            display: 'inline-flex'\n          }\n        }, React.createElement(TitleP, {\n          style: {\n            fontSize: '12px',\n            width: '200px'\n          }\n        }, \"\\u6700\\u8FD1\\u4E00\\u6B21\\u5DE5\\u4F5C\\u4F01\\u4E1A\\uFF1A\"), React.createElement(TitleP, {\n          style: {\n            fontSize: '12px'\n          }\n        }, _this.state.tutorSearched.lastWorkExperience.company ? _this.state.tutorSearched.lastWorkExperience.company.companyName : _this.state.tutorSearched.lastWorkExperience.foreignCompany ? _this.state.tutorSearched.lastWorkExperience.foreignCompany : '- -')) : React.createElement(TitleP, {\n          style: {\n            fontSize: '12px'\n          }\n        }, \"\\u6700\\u8FD1\\u4E00\\u6B21\\u5DE5\\u4F5C\\u4F01\\u4E1A\\uFF1A- -\")))));\n      }\n\n      if (type === 'confirmAssign') {\n        return React.createElement(ModalContentDiv, null, React.createElement(FieldP, null, \"\\u4EC5\\u505A\\u5206\\u914D\\uFF0C\\u7CFB\\u7EDF\\u72B6\\u6001\\u5C06\\u53D8\\u4E3A\\u5DF2\\u5206\\u914D\\u5BFC\\u5E08\\u3002\"));\n      }\n\n      if (type === 'confirmComplete') {\n        return React.createElement(ModalContentDiv, null, React.createElement(FieldP, null, \"\\u5C06\\u4F1A\\u7ED9\\u5BFC\\u5E08\\u548C\\u5B66\\u5458\\u53D1\\u9001\\u4E0A\\u8BFE\\u901A\\u77E5\\uFF0C\\u5E76\\u5C06\\u72B6\\u6001\\u6539\\u4E3A\\u5DF2\\u786E\\u8BA4\\u3002\"));\n      }\n\n      return null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderModalFooter\", function (type) {\n      var okText = type === 'cancel' ? '确认取消' : type === 'reschedule' ? '确认变更' : type === 'assign' ? '分配' : type === 'confirmAssign' || type === 'confirmComplete' ? '确认分配' : type === 'complete' ? '已确认' : '我知道啦';\n      return React.createElement(SplitDiv, null, React.createElement(FlexDisplay, {\n        style: {\n          alignItems: 'center'\n        }\n      }, type === 'assign' ? _this.renderCheckbox() : type === 'reschedule' ? _this.checkTime() : null), React.createElement(FlexDisplay, null, type !== 'info' && React.createElement(_Button, {\n        onClick: _this.handleClick.bind(_assertThisInitialized(_this), 'close')\n      }, type === 'cancel' ? '关闭' : '取消'), React.createElement(_Button, {\n        type: \"primary\",\n        disabled: _this.state.modalButtonDisable,\n        loading: _this.state.confirmLoading,\n        onClick: _this.handleClick.bind(_assertThisInitialized(_this), type)\n      }, okText)));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderModal\", function (type) {\n      var disabled = type === 'assign' ? !_this.state.tutorSearched || !_this.state.tutorSearched.inCollaboration : type === 'reschedule' ? !_this.state.confirmAt || !_this.state.replyAt || !!_this.checkTime() : false;\n\n      _this.setState({\n        modalButtonDisable: disabled\n      }, function () {\n        _this.setState({\n          modalVisible: true,\n          modalTitle: _this.renderModalTitle(type),\n          modalContent: _this.renderModalContent(type),\n          modalFooter: _this.renderModalFooter(type)\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderButtons\", function (statusName) {\n      if (statusName === '未确认') {\n        return React.createElement(FlexDisplay, null, React.createElement(_Button, {\n          type: \"default\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'cancel')\n        }, \"\\u53D6\\u6D88\\u6B64\\u9884\\u7EA6\"), React.createElement(_Popover, {\n          placement: \"bottomRight\",\n          content: \"\\u6B64\\u9884\\u7EA6\\u8F85\\u5BFC\\u5C1A\\u672A\\u5206\\u914D\\u5BFC\\u5E08\\uFF0C\\u6682\\u65F6\\u65E0\\u6CD5\\u64CD\\u4F5C\\u3002\"\n        }, React.createElement(_Button, {\n          style: {\n            margin: '0 12px'\n          },\n          type: \"default\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'reschedule'),\n          disabled: true\n        }, \"\\u53D8\\u66F4\\u9884\\u7EA6\\u65F6\\u95F4\")), React.createElement(_Popover, {\n          placement: \"bottomRight\",\n          content: \"\\u6B64\\u9884\\u7EA6\\u8F85\\u5BFC\\u5C1A\\u672A\\u5206\\u914D\\u5BFC\\u5E08\\uFF0C\\u6682\\u65F6\\u65E0\\u6CD5\\u64CD\\u4F5C\\u3002\"\n        }, React.createElement(_Button, {\n          type: \"primary\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'complete'),\n          disabled: true\n        }, \"\\u786E\\u8BA4\\u6B64\\u9884\\u7EA6\")));\n      }\n\n      if (statusName === '待履约') {\n        return React.createElement(FlexDisplay, null, React.createElement(_Button, {\n          type: \"default\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'cancel')\n        }, \"\\u53D6\\u6D88\\u6B64\\u9884\\u7EA6\"), React.createElement(_Button, {\n          style: {\n            margin: '0 12px'\n          },\n          type: \"default\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'reschedule')\n        }, \"\\u53D8\\u66F4\\u9884\\u7EA6\\u65F6\\u95F4\"), React.createElement(_Button, {\n          type: \"primary\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'complete')\n        }, \"\\u786E\\u8BA4\\u6B64\\u9884\\u7EA6\"));\n      }\n\n      if (statusName === '已完成' && moment(_this.props.data.confirmAt).isAfter(moment()) || statusName === '变更待确认') {\n        return React.createElement(FlexDisplay, null, React.createElement(_Button, {\n          type: \"default\",\n          onClick: _this.renderModal.bind(_assertThisInitialized(_this), 'cancel')\n        }, \"\\u53D6\\u6D88\\u6B64\\u9884\\u7EA6\"));\n      }\n\n      return null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      var account = JSON.parse(localStorage.getItem('misViewer')).person.nickname;\n      var cancelReason = \"\\u539F\\u5B9A\\u4E8E \".concat(formatToAsia(_this.props.data.confirmAt), \" \\u7684\\u8F85\\u5BFC\\u5DF2\\u7531 \").concat(account, \" \\u53D6\\u6D88\\u3002\\n\\u76F8\\u5173\\u8F85\\u5BFC\\u8BFE\\u7A0B\\uFF1A\").concat(_this.props.data.privateCourse.name);\n\n      _this.setState({\n        cancelReason: cancelReason\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(PrivateCourseAppointmentDetailsContent, [{\n    key: \"render\",\n    value: function render() {\n      var privateCourseData = this.props.data;\n      var badgeStatus = getBadgeStatus(privateCourseData.status.name);\n      var text = getStatusText(privateCourseData.status.name);\n\n      function isHappened() {\n        var appointmentTime = new Date(privateCourseData.confirmAt);\n        var now = new Date();\n        return appointmentTime < now;\n      }\n\n      function isCancelled() {\n        return privateCourseData.status.name === '已取消';\n      }\n\n      function isFinished() {\n        return ['已取消', '变更待确认', '已完成'].includes(privateCourseData.status.name);\n      }\n\n      function isIntentionIndustry() {\n        return privateCourseData.intentionIndustry;\n      }\n\n      return React.createElement(BackgroundDiv, null, React.createElement(ContentDiv, {\n        style: {\n          margin: '0'\n        }\n      }, React.createElement(SplitDiv, null, React.createElement(FlexDisplay, {\n        style: {\n          width: '65%',\n          whiteSpace: 'nowrap'\n        }\n      }, React.createElement(Title, null, \"1\\u5BF91\\u8F85\\u5BFC\\u540D\\u79F0\\uFF1A\", privateCourseData.privateCourse.name), React.createElement(FlexDisplay, {\n        style: {\n          alignItems: 'center',\n          width: '150px'\n        }\n      }, React.createElement(_Badge, {\n        status: badgeStatus\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px'\n        }\n      }, text))), this.renderButtons(privateCourseData.status.name)), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u9884\\u7EA6\\u65F6\\u95F4\\uFF1A\"), React.createElement(FieldP, null, formatToAsia(privateCourseData.confirmAt))), privateCourseData.option1StartAt && React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5176\\u4ED6\\u53EF\\u63A5\\u53D7\\u7684\\u9884\\u7EA6\\u65F6\\u95F41\\uFF1A\"), React.createElement(FieldP, null, formatToAsia(privateCourseData.option1StartAt), \" \\uFF5E\", ' ', formatToAsia(privateCourseData.option1EndAt))), privateCourseData.option2StartAt && React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5176\\u4ED6\\u53EF\\u63A5\\u53D7\\u7684\\u9884\\u7EA6\\u65F6\\u95F42\\uFF1A\"), React.createElement(FieldP, null, formatToAsia(privateCourseData.option2StartAt), \" \\uFF5E\", ' ', formatToAsia(privateCourseData.option2EndAt))), privateCourseData.option3StartAt && React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5176\\u4ED6\\u53EF\\u63A5\\u53D7\\u7684\\u9884\\u7EA6\\u65F6\\u95F43\\uFF1A\"), React.createElement(FieldP, null, formatToAsia(privateCourseData.option3StartAt), \" \\uFF5E\", ' ', formatToAsia(privateCourseData.option3EndAt)))), React.createElement(SplitDiv, null, React.createElement(ContentDiv, {\n        style: {\n          width: '50%',\n          marginRight: '12px',\n          marginBottom: '0'\n        }\n      }, React.createElement(SplitDiv, null, React.createElement(SubTitle, null, \"\\u5B66\\u5458\\u4FE1\\u606F\"), React.createElement(_Dropdown, {\n        overlay: React.createElement(_Menu, null, React.createElement(_Menu.Item, null, React.createElement(\"a\", {\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          href: \"/appointment-form/private/\".concat(privateCourseData.id)\n        }, \"\\u67E5\\u770B\")), React.createElement(_Menu.Item, null, React.createElement(\"a\", {\n          href: \"javascript:;\",\n          onClick: this.props.downloadHandler.bind(this, this.props.data.id)\n        }, \"\\u4E0B\\u8F7D\")))\n      }, React.createElement(\"span\", {\n        style: {\n          color: '#6285ff'\n        },\n        className: \"ant-dropdown-link\"\n      }, privateCourseData.autoFormResult ? '简历和预约表单' : '简历', React.createElement(_Icon, {\n        type: \"down\"\n      })))), React.createElement(FlexDisplay, {\n        style: {\n          marginTop: '14px'\n        }\n      }, React.createElement(AvatarImage, {\n        src: privateCourseData.studentAccount.account.person.avatar ? privateCourseData.studentAccount.account.person.avatar : DEFAULT_AVATAR\n      }), React.createElement(NameDiv, null, React.createElement(Title, null, privateCourseData.studentAccount.account.person.nickname), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"ID\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.studentAccount.studentNo))))), React.createElement(ContentDiv, {\n        style: {\n          width: '50%',\n          marginLeft: '12px',\n          marginBottom: '0',\n          position: 'relative'\n        }\n      }, React.createElement(SplitDiv, null, React.createElement(SubTitle, null, \"\\u5BFC\\u5E08\\u4FE1\\u606F\"), privateCourseData.tutor && !isFinished() ? React.createElement(\"a\", {\n        onClick: this.renderModal.bind(this, 'assign')\n      }, \"\\u53D8\\u66F4\\u5BFC\\u5E08\") : null), privateCourseData.tutor ? React.createElement(FlexDisplay, {\n        style: {\n          marginTop: '14px'\n        }\n      }, React.createElement(AvatarImage, {\n        src: privateCourseData.tutor.avatar ? privateCourseData.tutor.avatar : DEFAULT_AVATAR\n      }), React.createElement(NameDiv, null, React.createElement(RowDiv, null, React.createElement(Title, null, privateCourseData.tutor.nickname), React.createElement(FlexDisplay, {\n        style: {\n          alignItems: 'center'\n        }\n      }, React.createElement(_Badge, {\n        status: privateCourseData.tutor.inCollaboration ? 'success' : 'default'\n      }), React.createElement(FieldP, null, privateCourseData.tutor.inCollaboration ? '正常合作' : '停止合作'))), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"ID\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.tutor.tutorNo)), React.createElement(RowDiv, {\n        style: {\n          alignItems: 'inherit'\n        }\n      }, privateCourseData.tutor.lastWorkExperience ? React.createElement(React.Fragment, null, React.createElement(TitleP, {\n        style: {\n          minWidth: '130px'\n        }\n      }, \"\\u6700\\u8FD1\\u4E00\\u6B21\\u5DE5\\u4F5C\\u4F01\\u4E1A\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.tutor.lastWorkExperience.company ? privateCourseData.tutor.lastWorkExperience.company.companyName : privateCourseData.tutor.lastWorkExperience.foreignCompany ? privateCourseData.tutor.lastWorkExperience.foreignCompany : '- -')) : React.createElement(React.Fragment, null, React.createElement(TitleP, null, \"\\u6700\\u8FD1\\u4E00\\u6B21\\u5DE5\\u4F5C\\u4F01\\u4E1A\\uFF1A\"), React.createElement(FieldP, null, \"- -\"))))) : React.createElement(CenterDiv, null, isFinished() ? React.createElement(TitleP, null, \"\\u672A\\u5206\\u914D\\u5BFC\\u5E08\") : React.createElement(_Button, {\n        type: \"primary\",\n        onClick: this.renderModal.bind(this, 'assign')\n      }, \"\\u5206\\u914D\\u5BFC\\u5E08\")))), !isCancelled() && React.createElement(ContentDiv, null, React.createElement(RowDiv, null, React.createElement(SubTitle, null, \"\\u4E0A\\u8BFE\\u94FE\\u63A5\"), React.createElement(InfoA, {\n        onClick: this.renderModal.bind(this, 'info')\n      }, \"\\u67E5\\u770B\\u8BF4\\u660E\")), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5B66\\u5458\\u4E0A\\u8BFE\\u94FE\\u63A5\\uFF1A\"), privateCourseData.learningUrl ? React.createElement(React.Fragment, null, React.createElement(WrappedFieldP, null, privateCourseData.learningUrl), React.createElement(CopyToClipboard, {\n        text: privateCourseData.learningUrl\n      }, React.createElement(_Button, {\n        type: \"default\",\n        size: \"small\",\n        style: {\n          fontSize: '14px',\n          marginLeft: '12px'\n        } // @ts-ignore\n        ,\n        onClick: _message.success.bind(this, \"\\u62F7\\u8D1D\\u6210\\u529F\")\n      }, \"\\u62F7\\u8D1D\"))) : React.createElement(FieldP, null, \"\\u5206\\u914D\\u5BFC\\u5E08\\u540E\\uFF0C\\u81EA\\u52A8\\u751F\\u6210\")), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5BFC\\u5E08\\u4E0A\\u8BFE\\u94FE\\u63A5\\uFF1A\"), privateCourseData.learningUrl ? React.createElement(React.Fragment, null, React.createElement(WrappedFieldP, null, privateCourseData.teachingUrl), React.createElement(CopyToClipboard, {\n        text: privateCourseData.teachingUrl\n      }, React.createElement(_Button, {\n        type: \"default\",\n        size: \"small\",\n        style: {\n          fontSize: '14px',\n          marginLeft: '12px'\n        } // @ts-ignore\n        ,\n        onClick: _message.success.bind(this, \"\\u62F7\\u8D1D\\u6210\\u529F\")\n      }, \"\\u62F7\\u8D1D\"))) : React.createElement(FieldP, null, \"\\u5206\\u914D\\u5BFC\\u5E08\\u540E\\uFF0C\\u81EA\\u52A8\\u751F\\u6210\")), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u56DE\\u653E\\u94FE\\u63A5\\uFF1A\"), privateCourseData.recordingUrl ? React.createElement(React.Fragment, null, React.createElement(WrappedFieldP, null, privateCourseData.recordingUrl), React.createElement(CopyToClipboard, {\n        text: privateCourseData.recordingUrl\n      }, React.createElement(_Button, {\n        type: \"default\",\n        size: \"small\",\n        style: {\n          fontSize: '14px',\n          marginLeft: '12px'\n        } // @ts-ignore\n        ,\n        onClick: _message.success.bind(this, \"\\u62F7\\u8D1D\\u6210\\u529F\")\n      }, \"\\u62F7\\u8D1D\"))) : isHappened() ? React.createElement(_Button, {\n        type: \"default\",\n        size: \"small\",\n        style: {\n          fontSize: '14px',\n          marginLeft: '12px'\n        },\n        onClick: this.handleClick.bind(this, 'link')\n      }, \"\\u83B7\\u53D6\\u94FE\\u63A5\") : React.createElement(FieldP, null, \"\\u8BF7\\u5728 \", formatToAsia(privateCourseData.confirmAt), \" \\u540E\\u624B\\u52A8\\u83B7\\u53D6\"))), React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u5BFC\\u5E08\\u8981\\u6C42\"), React.createElement(SplitDiv, {\n        style: {\n          justifyContent: 'flex-start'\n        }\n      }, React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u5BFC\\u5E08\\u7B49\\u7EA7\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.tutorLevel ? privateCourseData.tutorLevel.name : '- -')), React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u5BFC\\u5E08\\u5339\\u914D\\u65B9\\u5F0F\\uFF1A\"), isIntentionIndustry() ? React.createElement(FieldP, null, \"\\u6309\\u884C\\u4E1A\\u5339\\u914D\") : React.createElement(FieldP, null, \"\\u6309\\u516C\\u53F8\\u5339\\u914D\")), isIntentionIndustry() ? React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u884C\\u4E1A\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.intentionIndustry.name)) : React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u516C\\u53F8\\uFF1A\"), React.createElement(FieldP, null, privateCourseData.intentionCompany.companyName)))), !isCancelled() && React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u5BFC\\u5E08\\u8D44\\u6E90\\u641C\\u7D22\"), React.createElement(TutorManagementContainer, null)), React.createElement(_Modal, {\n        centered: true,\n        closable: false,\n        footer: this.state.modalFooter,\n        onCancel: this.handleClick.bind(this, 'close'),\n        style: {\n          minHeight: '300px'\n        },\n        title: this.state.modalTitle,\n        visible: this.state.modalVisible\n      }, this.state.modalContent));\n    }\n  }]);\n\n  return PrivateCourseAppointmentDetailsContent;\n}(React.Component);\n\nexport default PrivateCourseAppointmentDetailsContent;","map":null,"metadata":{},"sourceType":"module"}
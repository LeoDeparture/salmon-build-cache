{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport debounce from 'lodash/debounce';\nimport React from 'react';\n\nvar CompanySelect =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CompanySelect, _React$Component);\n\n  function CompanySelect(props) {\n    var _this;\n\n    _classCallCheck(this, CompanySelect);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompanySelect).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"searchCompanies\", function (text) {\n      if (text === '') {\n        return;\n      }\n\n      text.trim();\n\n      _this.fetchCompanyData(text);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchCompanyData\", function (text) {\n      fetch(\"https://bankpros.market.alicloudapi.com/searchCompany?com=\".concat(encodeURI(text)), {\n        headers: {\n          Authorization: 'APPCODE 203a0a666f0e4f8cba8cffbf1b0f336c'\n        },\n        method: 'get'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.reason === '查询成功') {\n          _this.setState({\n            companyData: json.result.data\n          });\n\n          return;\n        }\n\n        _this.setState({\n          companyData: []\n        });\n      });\n    });\n\n    _this.state = {\n      companyData: []\n    };\n    return _this;\n  }\n\n  _createClass(CompanySelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchCompanyData = debounce(this.fetchCompanyData, 500);\n    } // 搜索公司\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var companyData = this.state.companyData;\n      return React.createElement(_Select, _extends({\n        showSearch: true,\n        onSearch: this.searchCompanies,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u8BCD\\u641C\\u7D22\\uFF0C\\u5982\\uFF1A\\u5FB7\\u52E4\",\n        defaultActiveFirstOption: false\n      }, this.props), companyData.map(function (company, index) {\n        var companyName = company.companyName;\n        return React.createElement(_Select.Option, {\n          value: companyName,\n          key: \"\".concat(companyName).concat(index)\n        }, companyName.replace(/<em>|<\\/em>/g, ''));\n      }));\n    }\n  }]);\n\n  return CompanySelect;\n}(React.Component);\n\nexport { CompanySelect as default };","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/config-provider/style\";\nimport _ConfigProvider from \"antd/lib/config-provider\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nimport React from \"react\";\nimport { get } from 'lodash';\nimport { useEffect } from 'react';\nimport styled from 'styled-components';\nimport Empty from '../../../../components/Empty';\nimport InlineAccountInfo from '../../../../components/InlineAccountInfo';\nimport { dateText } from '../../../../lib/commonJs';\nimport { GroupScheduleType, PrivateScheduleType } from '../../../../lib/courseConfig';\nvar ModalContent = styled.div.withConfig({\n  displayName: \"progressModal__ModalContent\",\n  componentId: \"gmovh9-0\"\n})([\"display:flex;align-content:center;align-items:center;margin-bottom:20px;> span:nth-child(1){margin-right:8px;font-size:14px;color:#a2aab8;}> img{width:28px;height:28px;margin-right:8px;border-radius:14px;}\"]);\nvar CustomStyleTabs = styled(_Tabs).withConfig({\n  displayName: \"progressModal__CustomStyleTabs\",\n  componentId: \"gmovh9-1\"\n})([\".ant-tabs-ink-bar{background-color:#172b4d;}.ant-tabs-tab-active{color:#172b4d;}.ant-tabs-nav .ant-tabs-tab:hover{color:#172b4d;}\"]);\nexport default (function (_ref) {\n  var visible = _ref.visible,\n      handleCancel = _ref.handleCancel,\n      pathway = _ref.pathway;\n  useEffect(function () {}, [visible]);\n\n  var ProgressStatus = function ProgressStatus(_, record) {\n    var type = record.type;\n    var color,\n        text = record.courseStatus,\n        courseConfig;\n\n    if (type === 'private') {\n      courseConfig = PrivateScheduleType;\n    }\n\n    if (type === 'group') {\n      courseConfig = GroupScheduleType;\n    }\n\n    color = courseConfig[record.courseStatusKey] && courseConfig[record.courseStatusKey].badge;\n\n    if (courseConfig[record.courseStatusKey]) {\n      text = courseConfig[record.courseStatusKey].text;\n    }\n\n    return React.createElement(_Badge, {\n      color: color,\n      text: text\n    });\n  };\n\n  var studentAccount = get(pathway, 'studentAccount');\n  var privateCourseRecords = get(pathway, 'privateAppointmentsCount.courseRecords');\n  var groupCourseRecords = get(pathway, 'groupAppointmentsCount.courseRecords'); // 关于key，此处不应该使用index，建议后端返回唯一值，目前没有\n\n  privateCourseRecords = privateCourseRecords && privateCourseRecords.map(function (record, index) {\n    return _objectSpread({}, record, {\n      key: record.courseName + index,\n      type: 'private'\n    });\n  });\n  groupCourseRecords = groupCourseRecords && groupCourseRecords.map(function (record, index) {\n    return _objectSpread({}, record, {\n      key: record.courseTime + index,\n      type: 'group'\n    });\n  }); // 生成表格 column\n\n  var columns = [{\n    title: '课程名',\n    key: 'courseName',\n    dataIndex: 'courseName',\n    width: 150\n  }, {\n    title: '预约上课时间',\n    key: 'courseTime',\n    dataIndex: 'courseTime',\n    width: 150,\n    render: function render(value) {\n      return dateText(value, 'min');\n    }\n  }, {\n    title: '状态',\n    key: 'courseStatus',\n    dataIndex: 'courseStatus',\n    width: 150,\n    render: ProgressStatus\n  }];\n\n  var renderEmpty = function renderEmpty() {\n    return React.createElement(Empty, null);\n  };\n\n  return React.createElement(_Modal, {\n    visible: visible,\n    title: \"\\u8BFE\\u7A0B\\u8FDB\\u5EA6\",\n    width: 840,\n    footer: null,\n    onCancel: handleCancel\n  }, React.createElement(ModalContent, null, React.createElement(\"span\", null, \"\\u5B66\\u5458\\uFF1A\"), React.createElement(InlineAccountInfo, {\n    size: \"normal\",\n    url: \"/user-details/\".concat(studentAccount && studentAccount.id),\n    account: studentAccount && studentAccount.account\n  })), React.createElement(_ConfigProvider, {\n    renderEmpty: renderEmpty\n  }, React.createElement(CustomStyleTabs, {\n    defaultActiveKey: \"1\"\n  }, React.createElement(_Tabs.TabPane, {\n    tab: \"1\\u5BF91\\u8F85\\u5BFC\",\n    key: \"1\"\n  }, React.createElement(_Table, {\n    pagination: false,\n    dataSource: privateCourseRecords,\n    columns: columns,\n    scroll: {\n      y: 300\n    }\n  })), React.createElement(_Tabs.TabPane, {\n    tab: \"\\u5C0F\\u73ED\\u8BFE\",\n    key: \"2\"\n  }, React.createElement(_Table, {\n    pagination: false,\n    dataSource: groupCourseRecords,\n    columns: columns,\n    scroll: {\n      y: 300\n    }\n  })))));\n});","map":null,"metadata":{},"sourceType":"module"}
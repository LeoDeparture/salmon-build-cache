{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/steps/style\";\nimport _Steps from \"antd/lib/steps\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { format } from 'date-fns';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { FlexDisplay } from '../../../lib/commonCss';\nimport AgreementAlphaContents from './AgreementAlphaContents';\nimport AgreementEliteContents from './AgreementEliteContents';\nvar Title = styled.h3.withConfig({\n  displayName: \"AgreementDetails__Title\",\n  componentId: \"c2fayl-0\"\n})([\"margin:0 12px 0 0;font-size:20px;color:#000;\"]);\nvar SubTitle = styled.h4.withConfig({\n  displayName: \"AgreementDetails__SubTitle\",\n  componentId: \"c2fayl-1\"\n})([\"margin:0 12px 7px 0;font-size:16px;color:#000;\"]);\nvar TitleP = styled.p.withConfig({\n  displayName: \"AgreementDetails__TitleP\",\n  componentId: \"c2fayl-2\"\n})([\"margin:0;font-size:14px;opacity:0.45;\"]);\nvar FieldP = styled.p.withConfig({\n  displayName: \"AgreementDetails__FieldP\",\n  componentId: \"c2fayl-3\"\n})([\"margin:0;font-size:14px;\"]);\nvar BackgroundDiv = styled.div.withConfig({\n  displayName: \"AgreementDetails__BackgroundDiv\",\n  componentId: \"c2fayl-4\"\n})([\"width:100%;\"]);\nvar ContentDiv = styled.div.withConfig({\n  displayName: \"AgreementDetails__ContentDiv\",\n  componentId: \"c2fayl-5\"\n})([\"display:flex;flex-direction:column;padding:24px 32px;margin:24px 30px;background-color:#fff;\"]);\nvar SplitDiv = styled.div.withConfig({\n  displayName: \"AgreementDetails__SplitDiv\",\n  componentId: \"c2fayl-6\"\n})([\"display:flex;justify-content:space-between;\"]);\nvar RowDiv = styled.div.withConfig({\n  displayName: \"AgreementDetails__RowDiv\",\n  componentId: \"c2fayl-7\"\n})([\"display:flex;align-items:center;margin:7px 0;\"]);\nvar StepDiv = styled.div.withConfig({\n  displayName: \"AgreementDetails__StepDiv\",\n  componentId: \"c2fayl-8\"\n})([\"width:60%;margin-top:20px;& .ant-steps-item-content{text-align:left;}& .ant-steps-item-tail{margin-left:41px;}& .ant-steps-item-icon{margin-left:0;}\"]);\n\nvar AgreementDetails =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AgreementDetails, _React$Component);\n\n  function AgreementDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AgreementDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AgreementDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"reviewAgreementModal\", function (record) {\n      _Modal.confirm({\n        cancelText: '取消',\n        centered: true,\n        content: React.createElement(\"div\", null, React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u786E\\u8BA4\\u540E\\uFF0C\\u6B64\\u534F\\u8BAE\\u5C06\\u4F1A\\u4EE5\\u77ED\\u4FE1\\u548C\\u90AE\\u4EF6\\u7684\\u65B9\\u5F0F\\u53D1\\u9001\\u7ED9\\u5B66\\u5458\\u3002\"), React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u8054\\u7CFB\\u7535\\u8BDD: \".concat(record.studentPhoneNumber)), React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u90AE\\u7BB1: \".concat(record.studentEmail))),\n        okText: '通过审核并发送协议',\n        iconType: 'exclamation-circle',\n        okType: 'primary',\n        onOk: _this.props.reviewAgreement.bind(_assertThisInitialized(_this), record.agreementNo),\n        title: \"\\u786E\\u8BA4\\u901A\\u8FC7\\u5BA1\\u6838\\u5E76\\u53D1\\u9001\\u534F\\u8BAE\\u5417\\uFF1F\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resendAgreementModal\", function (record) {\n      _Modal.confirm({\n        cancelText: '取消',\n        centered: true,\n        content: React.createElement(\"div\", null, React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u786E\\u8BA4\\u540E\\uFF0C\\u6B64\\u534F\\u8BAE\\u5C06\\u4F1A\\u4EE5\\u77ED\\u4FE1\\u548C\\u90AE\\u4EF6\\u7684\\u65B9\\u5F0F\\u53D1\\u9001\\u7ED9\\u5B66\\u5458\\u3002\"), React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u8054\\u7CFB\\u7535\\u8BDD: \".concat(record.studentPhoneNumber)), React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u90AE\\u7BB1: \".concat(record.studentEmail))),\n        okText: '重新发送协议',\n        iconType: 'exclamation-circle',\n        okType: 'primary',\n        onOk: _this.props.resendAgreement.bind(_assertThisInitialized(_this), record.agreementNo),\n        title: \"\\u786E\\u8BA4\\u91CD\\u65B0\\u53D1\\u9001\\u534F\\u8BAE\\u5417\\uFF1F\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cancelAgreementModal\", function (record) {\n      _Modal.confirm({\n        cancelText: '取消',\n        centered: true,\n        content: React.createElement(\"div\", null, React.createElement(\"p\", {\n          style: {\n            fontSize: '13px'\n          }\n        }, \"\\u64A4\\u9500\\u540E\\uFF0C\\u6B64\\u534F\\u8BAE\\u5C06\\u5931\\u53BB\\u6CD5\\u5F8B\\u6548\\u529B\\u3002\")),\n        okText: '确认撤销',\n        okType: 'danger',\n        iconType: 'close-circle',\n        iconClassName: 'tst',\n        onOk: _this.props.cancelAgreement.bind(_assertThisInitialized(_this), record.agreementNo),\n        title: \"\\u786E\\u8BA4\\u64A4\\u9500\\u6B64\\u534F\\u8BAE\\uFF1F\"\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(AgreementDetails, [{\n    key: \"render\",\n    value: function render() {\n      var data = this.props.data;\n      var Step = _Steps.Step;\n      var dateFormat = 'YYYY/MM/DD HH:mm';\n      var bageStatus = 'warning';\n\n      if (data.status.key === 'SIGNED') {\n        bageStatus = 'success';\n      } else if (data.status.key === 'CANCELED') {\n        bageStatus = 'default';\n      }\n\n      return React.createElement(BackgroundDiv, null, React.createElement(ContentDiv, {\n        style: {\n          margin: '0'\n        }\n      }, React.createElement(SplitDiv, null, React.createElement(FlexDisplay, null, React.createElement(Title, null, data.name), React.createElement(FlexDisplay, {\n        style: {\n          alignItems: 'center'\n        }\n      }, React.createElement(_Badge, {\n        status: bageStatus\n      }), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px'\n        }\n      }, data.status.name))), React.createElement(FlexDisplay, null, data.status.key !== 'CANCELED' && React.createElement(_Button, {\n        type: \"danger\",\n        style: {\n          marginLeft: '15px'\n        },\n        onClick: this.cancelAgreementModal.bind(this, data)\n      }, \"\\u64A4\\u9500\"), data.status.key === 'PENDINGREVIEW' && React.createElement(_Button, {\n        type: \"primary\",\n        style: {\n          marginLeft: '15px'\n        },\n        onClick: this.reviewAgreementModal.bind(this, data)\n      }, \"\\u901A\\u8FC7\\u5BA1\\u6838\\u5E76\\u53D1\\u9001\\u534F\\u8BAE\"), data.status.key === 'PENDINGSIGN' && React.createElement(_Button, {\n        type: \"default\",\n        style: {\n          marginLeft: '15px'\n        },\n        onClick: this.resendAgreementModal.bind(this, data)\n      }, \"\\u91CD\\u65B0\\u53D1\\u9001\\u534F\\u8BAE\"))), React.createElement(FlexDisplay, {\n        style: {\n          width: '45%'\n        }\n      }, React.createElement(\"div\", {\n        style: {\n          margin: '0 10px 0 0',\n          flex: 1\n        }\n      }, React.createElement(RowDiv, null, React.createElement(TitleP, null, \"ID\\uFF1A\"), React.createElement(FieldP, null, data.agreementNo)), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u7B7E\\u7F72\\u622A\\u6B62\\u65F6\\u95F4\\uFF1A\"), React.createElement(FieldP, null, data.reviewedAt ? format(new Date(data.reviewedAt).setMinutes(new Date(data.reviewedAt).getMinutes() + data.expiresInMinutes), dateFormat) : '- -'))), React.createElement(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u534F\\u8BAE\\u6A21\\u677F\\uFF1A\"), React.createElement(FieldP, null, \"\".concat(data.template.name, \" \").concat(data.template.version))), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u7B7E\\u7F72\\u65F6\\u95F4\\uFF1A\"), React.createElement(FieldP, null, data.signedAt ? format(data.signedAt, dateFormat) : '- -')))), React.createElement(RowDiv, null, React.createElement(TitleP, null, \"\\u5BF9\\u5185\\u5907\\u6CE8\\uFF1A\"), React.createElement(FieldP, null, data.note))), React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u64CD\\u4F5C\\u8BB0\\u5F55\"), React.createElement(StepDiv, null, React.createElement(_Steps, {\n        progressDot: true,\n        size: \"small\",\n        current: 10\n      }, React.createElement(Step, {\n        title: \"\\u751F\\u6210\\u534F\\u8BAE\",\n        description: React.createElement(\"div\", {\n          style: {\n            marginTop: '10px',\n            lineHeight: '10px'\n          }\n        }, React.createElement(\"div\", {\n          style: {\n            fontSize: '14px'\n          }\n        }, data.creator.person.name), React.createElement(\"br\", null), React.createElement(\"div\", {\n          style: {\n            fontSize: '12px'\n          }\n        }, format(data.createdAt, dateFormat)))\n      }), data.reviewedAt && React.createElement(Step, {\n        title: \"\\u5BA1\\u6838\\u901A\\u8FC7\",\n        description: React.createElement(\"div\", {\n          style: {\n            marginTop: '10px',\n            lineHeight: '10px'\n          }\n        }, React.createElement(\"div\", {\n          style: {\n            fontSize: '14px'\n          }\n        }, data.reviewer && data.reviewer.person.name), React.createElement(\"br\", null), React.createElement(\"div\", {\n          style: {\n            fontSize: '12px'\n          }\n        }, format(data.reviewedAt, dateFormat)))\n      }), data.signedAt && React.createElement(Step, {\n        title: \"\\u7B7E\\u7F72\\u534F\\u8BAE\",\n        description: React.createElement(\"div\", {\n          style: {\n            marginTop: '10px',\n            lineHeight: '10px'\n          }\n        }, React.createElement(\"div\", {\n          style: {\n            fontSize: '14px'\n          }\n        }, data.studentName), React.createElement(\"br\", null), React.createElement(\"div\", {\n          style: {\n            fontSize: '12px'\n          }\n        }, format(data.signedAt, dateFormat)))\n      }), data.canceledAt && React.createElement(Step, {\n        title: \"\\u64A4\\u9500\\u534F\\u8BAE\",\n        status: \"error\",\n        description: React.createElement(\"div\", {\n          style: {\n            marginTop: '10px',\n            lineHeight: '10px'\n          }\n        }, React.createElement(\"div\", {\n          style: {\n            fontSize: '14px'\n          }\n        }, data.canceller ? data.canceller.person.name : '系统'), React.createElement(\"br\", null), React.createElement(\"div\", {\n          style: {\n            fontSize: '12px'\n          }\n        }, format(data.canceledAt, dateFormat)))\n      })))), React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u5B66\\u5458\\u4FE1\\u606F\"), React.createElement(SplitDiv, null, React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u59D3\\u540D\\uFF1A\"), React.createElement(FieldP, null, data.studentName)), React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u8BC1\\u4EF6\\u53F7\\u7801\\uFF1A\"), React.createElement(FieldP, null, data.studentIDNumber)), React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u8054\\u7CFB\\u7535\\u8BDD\\uFF1A\"), React.createElement(FieldP, null, data.studentPhoneNumber))), React.createElement(SplitDiv, null, React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u90AE\\u7BB1\\uFF1A\"), React.createElement(FieldP, null, data.studentEmail)), React.createElement(RowDiv, {\n        style: {\n          flex: 2\n        }\n      }, React.createElement(TitleP, null, \"\\u5FAE\\u4FE1\\u53F7\\uFF1A\"), React.createElement(FieldP, null, data.studentWechat || '- -')))), React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u8BA2\\u5355\\u4FE1\\u606F\"), React.createElement(SplitDiv, null, React.createElement(RowDiv, {\n        style: {\n          flex: 1\n        }\n      }, React.createElement(TitleP, null, \"\\u8BA2\\u5355\\u6765\\u6E90\\uFF1A\"), React.createElement(FieldP, null, data.orderSource)), React.createElement(RowDiv, {\n        style: {\n          flex: 2\n        }\n      }, React.createElement(TitleP, null, \"\\u8BA2\\u5355\\u53F7\\uFF1A\"), React.createElement(FieldP, null, data.orderId)))), React.createElement(ContentDiv, null, React.createElement(SubTitle, null, \"\\u534F\\u8BAE\\u5185\\u5BB9\"), data.name.includes('Alpha') && React.createElement(AgreementAlphaContents, {\n        data: data\n      }), data.name.includes('Elite') && React.createElement(AgreementEliteContents, {\n        data: data\n      })));\n    }\n  }]);\n\n  return AgreementDetails;\n}(React.Component);\n\nexport default AgreementDetails;","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nimport Router from 'next/router';\nimport React from 'react';\nimport styled from 'styled-components';\nimport PageHeader from '../../../components/PageLayout/PageHeader';\nimport { renderSelectOptions } from '../../../lib/commonJs';\nimport TemplateListContainer from '../containers/TemplateListContainer';\nimport CreateTemplate from './CreateOrEditTemplate';\nvar Content = _Layout.Content;\nvar PathwayTemplatePageName = 'pathway-template';\n\nvar Root =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Root, _React$Component);\n\n  function Root() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Root);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Root)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      status: 0,\n      fields: {\n        id: '',\n        innerName: '',\n        suggestionDays: '',\n        industryIds: [],\n        purpose: '',\n        introduction: '',\n        highlights: '',\n        innerRemarks: ''\n      },\n      filterIndustryId: undefined\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeStatus\", function (status) {\n      _this.setState({\n        status: status\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeFields\", function (fields) {\n      _this.setState({\n        fields: fields\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRefTemplateList\", function (ref) {\n      _this.templateList = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeFilter\", function (value) {\n      var onSelectTemplate = _this.props.onSelectTemplate;\n\n      _this.setState({\n        filterIndustryId: value\n      }); // 如果在创建模板页, 更改筛选条件后清除已选择模板\n\n\n      if (onSelectTemplate) {\n        onSelectTemplate(null); // this.templateList.refetch({});\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initFields\", function () {\n      _this.setState({\n        fields: {\n          id: '',\n          innerName: '',\n          suggestionDays: '',\n          industryIds: [],\n          purpose: '',\n          introduction: '',\n          highlights: '',\n          innerRemarks: ''\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCreateSuccess\", function () {\n      _this.setState({\n        status: 0\n      });\n\n      _this.templateList.refetch({});\n    });\n\n    return _this;\n  }\n\n  _createClass(Root, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          status = _this$state.status,\n          fields = _this$state.fields,\n          filterIndustryId = _this$state.filterIndustryId;\n      var titleText = '';\n\n      if (status === 0) {\n        titleText = '学习计划模板库';\n      }\n\n      if (status === 1) {\n        titleText = '创建学习计划模板';\n      }\n\n      if (status === 2) {\n        titleText = '复制并新建学习计划模版';\n      }\n\n      return React.createElement(React.Fragment, null, Router.pathname === '/pathway-template' && React.createElement(PageHeader, {\n        titleText: titleText,\n        buttonText: \"\\u521B\\u5EFA\\u5B66\\u4E60\\u8BA1\\u5212\\u6A21\\u677F\",\n        buttonVisible: !status,\n        onClickButton: this.changeStatus.bind(this, 1)\n      }), !status && React.createElement(SearchBar, null, React.createElement(SearchBarTitle, null, \"\\u6309\\u884C\\u4E1A\\u7B5B\\u9009\"), React.createElement(_Select, {\n        allowClear: true,\n        onChange: this.onChangeFilter,\n        style: SelectStyle,\n        placeholder: \"\\u5168\\u90E8\\u884C\\u4E1A\",\n        value: filterIndustryId\n      }, renderSelectOptions(JSON.parse(localStorage.getItem('zhiwen_all_enum')).listZhiWenProfessionEnum))), React.createElement(BodyWrapper, {\n        style: Router.pathname === '/create-pathway' ? {\n          padding: 0\n        } : {}\n      }, React.createElement(BodyInner, null, status === 1 && React.createElement(CreateTemplate, {\n        type: \"create\",\n        fields: fields,\n        initFields: this.initFields,\n        onSuccess: this.onCreateSuccess,\n        onCancel: this.changeStatus.bind(this, 0)\n      }), status === 2 && React.createElement(CreateTemplate, {\n        type: \"clone\",\n        fields: fields,\n        initFields: this.initFields,\n        onSuccess: this.onCreateSuccess,\n        onCancel: this.changeStatus.bind(this, 0)\n      }), !status && React.createElement(TemplateListContainer, {\n        onRef: this.onRefTemplateList,\n        changeFields: this.changeFields,\n        changeStatus: this.changeStatus,\n        onSelectTemplate: this.props.onSelectTemplate,\n        onChangeFilter: this.onChangeFilter,\n        filterIndustryId: filterIndustryId\n      }))));\n    }\n  }]);\n\n  return Root;\n}(React.Component);\n\n_defineProperty(Root, \"defaultProps\", {\n  page: PathwayTemplatePageName\n});\n\nexport default Root;\nvar BodyWrapper = styled(Content).withConfig({\n  displayName: \"Root__BodyWrapper\",\n  componentId: \"sc-16m9xy2-0\"\n})([\"display:flex;padding:24px;\"]);\nvar BodyInner = styled.div.withConfig({\n  displayName: \"Root__BodyInner\",\n  componentId: \"sc-16m9xy2-1\"\n})([\"display:flex;flex:1;height:100%;min-height:500px;background-color:#fff;\"]);\nvar SearchBar = styled.div.withConfig({\n  displayName: \"Root__SearchBar\",\n  componentId: \"sc-16m9xy2-2\"\n})([\"position:relative;height:56px;padding:0 32px;background-color:#fff;\"]);\nvar SearchBarTitle = styled.span.withConfig({\n  displayName: \"Root__SearchBarTitle\",\n  componentId: \"sc-16m9xy2-3\"\n})([\"margin-right:16px;line-height:56px;color:rgba(0,0,0,0.85);\"]);\nvar SelectStyle = {\n  width: '500px',\n  lineHeight: '56px'\n};","map":null,"metadata":{},"sourceType":"module"}
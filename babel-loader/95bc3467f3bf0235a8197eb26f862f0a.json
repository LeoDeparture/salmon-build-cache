{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport copy from 'copy-to-clipboard';\nimport { format } from 'date-fns';\nimport React from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport styled from 'styled-components';\nimport { DetailCommonP, FlexCenterColumn, FlexDisplay } from '../../../lib/commonCss';\nimport { ItemWarp, Title } from './TutorDetail';\nvar CategoryName = styled.span.withConfig({\n  displayName: \"ClassLink__CategoryName\",\n  componentId: \"sc-1gchbih-0\"\n})([\"display:block;width:100%;overflow:hidden;font-size:14px;text-overflow:ellipsis;word-break:\", \";white-space:\", \";\"], function (props) {\n  return props.wrap === 'noWrap' ? 'break-all' : undefined;\n}, function (props) {\n  return props.wrap === 'noWrap' ? 'normal' : 'nowrap';\n});\nvar TitleContent = styled(FlexDisplay).withConfig({\n  displayName: \"ClassLink__TitleContent\",\n  componentId: \"sc-1gchbih-1\"\n})([\"align-items:center;\"]);\n\nvar ClassLink =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ClassLink, _React$Component);\n\n  function ClassLink() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClassLink);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClassLink)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      visible: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"modalFooter\", function () {\n      var fun = function fun() {\n        _this.setState({\n          visible: false\n        });\n      };\n\n      return React.createElement(_Button, {\n        type: \"primary\",\n        onClick: fun\n      }, \"\\u6211\\u77E5\\u9053\\u4E86\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"classLinkContent\", function () {\n      return React.createElement(\"div\", null, React.createElement(\"p\", null, \"\\u7CFB\\u7EDF\\u4F1A\\u5728\\u6B63\\u5E38\\u5F00\\u8BFE\\u524D20\\u5206\\u949F\\u81EA\\u52A8\\u7ED9\\u5BFC\\u5E08\\u548C\\u5B66\\u5458\\u53D1\\u9001\\u4E0A\\u8BFE\\u94FE\\u63A5\\uFF0C\\u5B66\\u5458\\u53EF\\u5728\\u8BFE\\u7A0B\\u8F85\\u5BFC\\u7ED3\\u675F6\\u5C0F\\u65F6\\u540E\\u5728\\u804C\\u95EEapp\\u7AEF\\u83B7\\u53D6\\u56DE\\u653E\\u94FE\\u63A5\\u3002\\u6CE8\\u610F\\uFF01\\u975E\\u7279\\u6B8A\\u60C5\\u51B5\\u8BF7\\u52FF\\u624B\\u52A8\\u5206\\u4EAB\\u94FE\\u63A5\\u7ED9\\u5B66\\u5458\\u6216\\u5BFC\\u5E08\"), React.createElement(\"p\", null, \"\\u4E0A\\u8BFE\\u8FDE\\u63A5\\u751F\\u6210\\u6761\\u4EF6\\uFF1A\\u5F53\\u8BFE\\u7A0B\\u6EE1\\u8DB3\\u5F00\\u8BFE\\u6761\\u4EF6\\u4E14\\u5F53\\u524D\\u65F6\\u95F4\\u8D85\\u8FC7\\u4E86\\u62A5\\u540D\\u622A\\u6B62\\u65E5\\u671F\\u3002\"), React.createElement(\"p\", null, \"\\u83B7\\u53D6\\u56DE\\u653E\\u8FDE\\u63A5\\u6761\\u4EF6\\uFF1A\\u5F53\\u524D\\u65F6\\u95F4\\u5927\\u4E8E\\u4E0A\\u8BFE\\u65F6\\u95F4\\u4E14\\u5BFC\\u5E08\\u548C\\u5B66\\u5458\\u5DF2\\u6B63\\u5E38\\u4E0A\\u8BFE\\u3002\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDetails\", function () {\n      _this.setState({\n        visible: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Description\", function (_ref) {\n      var wrap = _ref.wrap,\n          term = _ref.term,\n          children = _ref.children;\n      return React.createElement(FlexDisplay, null, React.createElement(DetailCommonP, {\n        style: {\n          color: '#9D9D9D'\n        }\n      }, term), React.createElement(CategoryName, {\n        wrap: wrap\n      }, children));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCopy\", function (url) {\n      var result = copy(url, {\n        message: '请按 #{key} 复制链接'\n      });\n\n      if (result) {\n        _message.destroy();\n\n        _message.success('拷贝链接成功');\n\n        return;\n      }\n\n      _message.destroy();\n\n      _message.success('拷贝链接失败，请稍后重试');\n    });\n\n    return _this;\n  }\n\n  _createClass(ClassLink, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          isOffEndTime = _this$props.isOffEndTime,\n          afterClassDate = _this$props.afterClassDate;\n      var visible = this.state.visible;\n      var studentUrl = isOffEndTime && data.status.key === 'COMPLETED';\n      var recordUrl = afterClassDate && data.status.key === 'COMPLETED';\n      var classTime = format(data.time, 'YYYY/MM/DD HH:mm');\n      return React.createElement(ItemWarp, null, React.createElement(Title, null, React.createElement(TitleContent, null, React.createElement(\"h4\", {\n        style: {\n          margin: '0 12px 0 0'\n        }\n      }, \"\\u4E0A\\u8BFE\\u94FE\\u63A5\"), React.createElement(\"a\", {\n        style: {\n          fontSize: 12\n        },\n        onClick: this.getDetails\n      }, \"\\u67E5\\u770B\\u8BF4\\u660E\"))), React.createElement(FlexCenterColumn, null, React.createElement(this.Description, {\n        wrap: \"wrap\",\n        term: \"\\u5B66\\u5458\\u4E0A\\u8BFE\\u94FE\\u63A5\\uFF1A\"\n      }, !studentUrl ? '满足开课条件并且报名截止时间过后，可手动获取' : '请在上面学员模块中操作'), React.createElement(this.Description, {\n        wrap: \"noWrap\",\n        term: \"\\u5BFC\\u5E08\\u4E0A\\u8BFE\\u94FE\\u63A5\\uFF1A\"\n      }, React.createElement(\"span\", null, data.teachingUrl === null ? '满足开课条件并且报名截止时间过后，可手动获取' : \"\".concat(data.teachingUrl, \"  \")), data.teachingUrl !== null && React.createElement(CopyToClipboard, {\n        text: data.teachingUrl\n      }, React.createElement(_Button, {\n        onClick: this.onCopy.bind(this, data.teachingUrl),\n        style: {\n          marginLeft: '12',\n          fontSize: 14\n        },\n        size: 'small'\n      }, \"\\u62F7\\u8D1D\"))), React.createElement(this.Description, {\n        wrap: \"wrap\",\n        term: \"\\u56DE\\u653E\\u94FE\\u63A5\\uFF1A\"\n      }, !recordUrl ? \"\\u8BF7\\u5728 \".concat(classTime, \" \\u540E\\u624B\\u52A8\\u83B7\\u53D6\") : '请在上面学员模块中操作')), React.createElement(_Modal, {\n        closable: false,\n        title: \"\\u4E0A\\u8BFE\\u94FE\\u63A5\\u8BF4\\u660E\",\n        visible: visible,\n        cancelText: \"\\u53D6\\u6D88\",\n        footer: this.modalFooter()\n      }, this.classLinkContent()));\n    }\n  }]);\n\n  return ClassLink;\n}(React.Component);\n\nexport default ClassLink;","map":null,"metadata":{},"sourceType":"module"}
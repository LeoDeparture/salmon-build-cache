{"ast":null,"code":"import \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport uniqBy from 'lodash/uniqBy';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport ZhiWenSelect from '../../../../components/Select/ZhiWenSelect';\nimport CompanyDomainSelectContainer from '../containers/CompanyDomainSelectContainer';\nimport { TextContainer, TextContext, TextTitle } from '../CSSComponent';\nvar NoChoose = styled.div.withConfig({\n  displayName: \"GiftJobApplicationInfo__NoChoose\",\n  componentId: \"sc-13ak4h-0\"\n})([\"width:338px;height:64px;font-size:14px;line-height:64px;text-align:center;background:rgba(0,0,0,0.06);border:1px solid #000;border-radius:4px;\"]);\nvar TagsItem = styled(_Tag).withConfig({\n  displayName: \"GiftJobApplicationInfo__TagsItem\",\n  componentId: \"sc-13ak4h-1\"\n})([\"height:22px;margin:0 8px 8px 0;\"]);\n\nvar MinorJobApplicationInfo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MinorJobApplicationInfo, _Component);\n\n  function MinorJobApplicationInfo(props) {\n    var _this;\n\n    _classCallCheck(this, MinorJobApplicationInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MinorJobApplicationInfo).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"RadioFreezingChange\", function (e) {\n      _this.setState({\n        freezingPeriodType: e.target.value\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chooseIndustryId\", function (industryId) {\n      _this.setState({\n        industryId: industryId\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chooseJobCharacterId\", function (jobCharacterId) {\n      _this.setState({\n        jobCharacterId: jobCharacterId\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chooseWorkingStyleId\", function (workingStyleId) {\n      _this.setState({\n        workingStyleId: workingStyleId\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chooseCompanyLevelId\", function (companyLevelId, option) {\n      _this.setState({\n        companyLevelId: companyLevelId,\n        chooseCompanyLevel: option.props.children\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeIsHaveCompanyDomainSelect\", function (isHaveCompanyDomainSelect) {\n      _this.setState({\n        isHaveCompanyDomainSelect: isHaveCompanyDomainSelect\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectDomains\", function (selectDomain) {\n      _this.setState({\n        domainIds: selectDomain\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectLineBusiness\", function (selectedOptions) {\n      var parents = selectedOptions[0];\n      var child = selectedOptions[1];\n\n      var arr = _toConsumableArray(_this.state.selectLineBusinessArray);\n\n      arr.push({\n        id: child.id,\n        name: child.name,\n        parentsName: parents.name\n      }); // 数组去重\n\n      var selectLineBusinessArray = uniqBy(arr, 'id');\n\n      _this.setState({\n        selectLineBusinessArray: selectLineBusinessArray\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickCloseIcon\", function (id, type) {\n      var selectedArray = [];\n      var selectedDomainsArray = [];\n\n      if (type === 'LineBusiness') {\n        selectedArray = _toConsumableArray(_this.state.selectLineBusinessArray);\n      }\n\n      if (type === 'Domains') {\n        selectedDomainsArray = _toConsumableArray(_this.state.selectLineBusinessArray);\n      }\n\n      selectedArray = selectedArray.filter(function (v) {\n        return v.id !== id;\n      });\n      selectedDomainsArray = selectedDomainsArray.filter(function (v) {\n        return v.value !== id;\n      });\n\n      if (type === 'LineBusiness') {\n        _this.setState({\n          selectLineBusinessArray: selectedArray\n        }, _this.upDataValue);\n      }\n\n      if (type === 'Domains') {\n        _this.setState({\n          domainsArray: selectedDomainsArray\n        }, _this.upDataValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderLineBusinessTags\", function (data, type) {\n      return data.map(function (v) {\n        var id = v.id,\n            name = v.name,\n            parentsName = v.parentsName;\n        return React.createElement(TagsItem, {\n          key: id,\n          closable: true,\n          onClose: _this.onClickCloseIcon.bind(_assertThisInitialized(_this), id, type)\n        }, \"\".concat(parentsName, \"/\").concat(name));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeIsNowPay\", function (e) {\n      _this.setState({\n        isNowPay: e.target.value\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeExceptionCompanyIds\", function (exceptionCompanyIds) {\n      _this.setState({\n        exceptionCompanyIds: exceptionCompanyIds\n      }, _this.upDataValue);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"upDataValue\", function () {\n      var _this$state = _this.state,\n          industryId = _this$state.industryId,\n          companyLevelId = _this$state.companyLevelId,\n          domainIds = _this$state.domainIds,\n          freezingPeriodType = _this$state.freezingPeriodType,\n          jobCharacterId = _this$state.jobCharacterId,\n          workingStyleId = _this$state.workingStyleId;\n\n      _this.props.updataOtherGiftJobApplicationInfo({\n        jobCharacterIds: [jobCharacterId],\n        industryId: industryId,\n        companyLevelId: companyLevelId,\n        domainIds: freezingPeriodType ? undefined : domainIds,\n        workingStyleId: workingStyleId\n      }, _this.props.index);\n    });\n\n    _this.state = {\n      freezingPeriodType: true,\n      industryId: '',\n      companyLevelId: '',\n      jobCharacterId: JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticJobCharacterEnum.find(function (item) {\n        return item.key === 'SHORT-INTERNSHIP';\n      }).id,\n      isShowCompanyDomainSelect: false,\n      isHaveCompanyDomainSelect: false,\n      selectLineBusinessArray: [],\n      LineBusinessId: [],\n      exceptionCompanyIds: [],\n      isNowPay: true,\n      chooseCompanyLevel: '',\n      domainIds: [],\n      domainsArray: [],\n      workingStyleId: JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticWorkingStyleEnum.find(function (item) {\n        return item.key === 'REMOTE';\n      }).id\n    };\n    return _this;\n  }\n\n  _createClass(MinorJobApplicationInfo, [{\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      var _this$state2 = this.state,\n          companyLevelId = _this$state2.companyLevelId,\n          industryId = _this$state2.industryId,\n          freezingPeriodType = _this$state2.freezingPeriodType,\n          chooseCompanyLevel = _this$state2.chooseCompanyLevel;\n      return React.createElement(React.Fragment, null, React.createElement(TextContainer, {\n        style: {\n          display: 'flex'\n        }\n      }, React.createElement(_Form.Item, {\n        label: \"\\u5C97\\u4F4D\\u6027\\u8D28\",\n        required: true,\n        style: {\n          flex: 1\n        }\n      }, getFieldDecorator(\"giftJobCharacterIds\".concat(this.props.index), {\n        initialValue: JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticJobCharacterEnum.find(function (item) {\n          return item.key === 'SHORT-INTERNSHIP';\n        }).id,\n        rules: [{\n          required: true,\n          message: '请选择'\n        }]\n      })(React.createElement(ZhiWenSelect, {\n        type: \"job-character\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        onChange: this.chooseJobCharacterId\n      }))), React.createElement(_Form.Item, {\n        label: \"\\u5DE5\\u4F5C\\u65B9\\u5F0F\",\n        required: true,\n        style: {\n          flex: 1,\n          paddingLeft: 8\n        }\n      }, getFieldDecorator(\"giftWorkingStyleId\".concat(this.props.index), {\n        initialValue: JSON.parse(localStorage.getItem('zhiwen_all_enum')).listStaticWorkingStyleEnum.find(function (item) {\n          return item.key === 'REMOTE';\n        }).id,\n        rules: [{\n          required: true,\n          message: '请选择'\n        }]\n      })(React.createElement(ZhiWenSelect, {\n        type: \"working-style\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        onChange: this.chooseWorkingStyleId\n      })))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u6240\\u5728\\u884C\\u4E1A\",\n        required: true\n      }, getFieldDecorator(\"giftIndustryId\".concat(this.props.index), {\n        rules: [{\n          required: true,\n          message: '请选择'\n        }]\n      })(React.createElement(ZhiWenSelect, {\n        type: \"zhiwen-profession\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        onChange: this.chooseIndustryId\n      })))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u76EE\\u6807\\u516C\\u53F8\\u7B49\\u7EA7\",\n        required: true\n      }, getFieldDecorator(\"giftCompanyLevelId\".concat(this.props.index), {\n        rules: [{\n          required: true,\n          message: '请选择'\n        }]\n      })(React.createElement(ZhiWenSelect, {\n        type: \"zhiwen-company-level\",\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        onChange: this.chooseCompanyLevelId\n      })))), React.createElement(TextContainer, null, React.createElement(_Form.Item, {\n        label: \"\\u4E1A\\u52A1\\u9886\\u57DF\\u6216\\u884C\\u4E1A\",\n        required: true\n      }, industryId !== '' && companyLevelId !== '' ? React.createElement(CompanyDomainSelectContainer, {\n        type: \"minor\",\n        mode: \"multiple\",\n        RadioFreezingChange: this.RadioFreezingChange,\n        freezingPeriodType: freezingPeriodType,\n        industryId: industryId,\n        companyLevelId: companyLevelId,\n        chooseCompanyLevel: chooseCompanyLevel,\n        onSelectDomains: this.onSelectDomains\n      }) : React.createElement(NoChoose, {\n        key: \"\".concat(industryId).concat(companyLevelId)\n      }, \"\\u8BF7\\u9009\\u62E9\\u300C\\u76EE\\u6807\\u516C\\u53F8\\u7B49\\u7EA7\\u300D\"))), React.createElement(TextContainer, null, React.createElement(TextTitle, null, \"\\u9000\\u6B3E\\u65B9\\u6848\"), React.createElement(TextContext, {\n        style: {\n          color: '#FF991F'\n        }\n      }, \"\\u8D60\\u9001\\u670D\\u52A1\\u4E0D\\u652F\\u6301\\u9000\\u6B3E\")));\n    }\n  }]);\n\n  return MinorJobApplicationInfo;\n}(Component);\n\nexport { MinorJobApplicationInfo as default };","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/rate/style\";\nimport _Rate from \"antd/lib/rate\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/radio/style\";\nimport _Radio from \"antd/lib/radio\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport flatten from 'lodash/flatten';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { DetailCommonP, FlexDisplay } from '../../../lib/commonCss';\nimport { filterData } from '../../tutorDetails/containers/TutorDetailsContainers';\nvar Column = _Table.Column;\n\nvar UserManagement =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserManagement, _React$Component);\n\n  function UserManagement(props) {\n    var _this2 = this;\n\n    var _this;\n\n    _classCallCheck(this, UserManagement);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserManagement).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var result, lineOfBusinesses;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.fetchLOBData();\n\n            case 2:\n              result = _context.sent;\n              lineOfBusinesses = result.data.lineOfBusinesses;\n\n              _this.setState({\n                lineOfBusinesses: lineOfBusinesses\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillReceiveProps\", function (nextProps) {\n      _this.setState({\n        avatarFilterValue: typeof nextProps.variables.avatar === 'boolean' ? nextProps.variables.avatar ? 1 : 0 : undefined,\n        selectLineOfBusinesses: nextProps.variables.lobIds\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderOperating\", function (record) {\n      return React.createElement(\"a\", {\n        style: {\n          width: 100\n        },\n        href: \"/tutor-details?id=\".concat(record.id),\n        target: \"_blank\",\n        rel: \"noreferrer\"\n      }, \"\\u67E5\\u770B\\u8BE6\\u60C5\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchDropdown\", function (filterName, condition, params) {\n      var setSelectedKeys = params.setSelectedKeys,\n          selectedKeys = params.selectedKeys,\n          confirm = params.confirm,\n          clearFilters = params.clearFilters;\n      var _this$props = _this.props,\n          handleSearch = _this$props.handleSearch,\n          handleReset = _this$props.handleReset,\n          variables = _this$props.variables,\n          handleChange = _this$props.handleChange;\n      return React.createElement(DropdownDiv, null, React.createElement(_Input, {\n        style: {\n          width: 130,\n          marginRight: 8\n        },\n        placeholder: filterName,\n        value: variables[condition],\n        onChange: handleChange.bind(_assertThisInitialized(_this), condition, setSelectedKeys),\n        onPressEnter: handleSearch.bind(_assertThisInitialized(_this), condition, selectedKeys, confirm)\n      }), React.createElement(_Button, {\n        type: \"primary\",\n        onClick: handleSearch(condition, selectedKeys, confirm)\n      }, \"\\u641C\\u7D22\"), React.createElement(_Button, {\n        style: {\n          marginLeft: 8\n        },\n        onClick: handleReset(condition, clearFilters)\n      }, \"\\u91CD\\u7F6E\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"AvatarFilterDropdown\", function (condition, params) {\n      var RadioGroup = _Radio.Group;\n      var avatarFilterValue = _this.state.avatarFilterValue;\n      var confirm = params.confirm,\n          clearFilters = params.clearFilters;\n      var _this$props2 = _this.props,\n          handleReset = _this$props2.handleReset,\n          onFilter = _this$props2.onFilter;\n      var MainWrapper = styled.div.withConfig({\n        displayName: \"TutorManagementComponent__MainWrapper\",\n        componentId: \"sc-1b91cd1-0\"\n      })([\"padding:5px 12px;background-color:#fff;\"]);\n      var radioStyle = {\n        display: 'block',\n        height: '30px',\n        lineHeight: '30px',\n        marginLeft: '8px'\n      };\n      var BtnsWrapper = styled.div.withConfig({\n        displayName: \"TutorManagementComponent__BtnsWrapper\",\n        componentId: \"sc-1b91cd1-1\"\n      })([\"display:flex;justify-content:space-around;margin-top:8px;\"]);\n      return React.createElement(MainWrapper, null, React.createElement(RadioGroup, {\n        value: _this.state.avatarFilterValue,\n        onChange: _this.onChangeAvatarFilter\n      }, React.createElement(_Radio, {\n        checked: avatarFilterValue === 1,\n        style: radioStyle,\n        value: 1\n      }, \"\\u6709\\u5934\\u50CF\"), React.createElement(_Radio, {\n        checked: avatarFilterValue === 0,\n        style: radioStyle,\n        value: 0\n      }, \"\\u65E0\\u5934\\u50CF\")), React.createElement(BtnsWrapper, null, React.createElement(\"a\", {\n        onClick: onFilter.bind(_assertThisInitialized(_this), condition, avatarFilterValue, confirm)\n      }, \"\\u786E\\u5B9A\"), React.createElement(\"a\", {\n        onClick: handleReset(condition, clearFilters)\n      }, \"\\u91CD\\u7F6E\")));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeAvatarFilter\", function (e) {\n      _this.setState({\n        avatarFilterValue: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"LOBFilterDropdown\", function (condition, params) {\n      var Option = _Select.Option;\n      var confirm = params.confirm,\n          clearFilters = params.clearFilters;\n      var _this$props3 = _this.props,\n          handleReset = _this$props3.handleReset,\n          onFilter = _this$props3.onFilter;\n      var selectLineOfBusinesses = _this.state.selectLineOfBusinesses;\n      var lineOfBusinesses = _this.state.lineOfBusinesses;\n\n      if (!lineOfBusinesses) {\n        return [];\n      }\n\n      var selectData = lineOfBusinesses.map(function (first) {\n        return first.children.map(function (second) {\n          return _objectSpread({}, second, {\n            name: first.name + ' / ' + second.name\n          });\n        });\n      });\n      var options = flatten(selectData).map(function (select) {\n        var name = select.name,\n            id = select.id;\n        return React.createElement(Option, {\n          key: id\n        }, name);\n      });\n      var SelectWrapper = styled(FlexDisplay).withConfig({\n        displayName: \"TutorManagementComponent__SelectWrapper\",\n        componentId: \"sc-1b91cd1-2\"\n      })([\"width:420px;padding:8px;background-color:#fff;border-radius:6px;box-shadow:0 1px 6px rgba(0,0,0,0.2);\"]);\n\n      var placeholderRender = function placeholderRender(omittedValues) {\n        return \"\\u5DF2\\u9009\\u4E2D\".concat(omittedValues.length, \"\\u9879\");\n      };\n\n      return React.createElement(SelectWrapper, null, React.createElement(_Select, {\n        mode: \"multiple\",\n        showSearch: true,\n        placeholder: \"\\u8BF7\\u641C\\u7D22\",\n        value: selectLineOfBusinesses,\n        style: {\n          width: '100%',\n          maxHeight: 32\n        },\n        onChange: _this.handleLOBChange,\n        notFoundContent: \"\\u65E0\\u6570\\u636E\",\n        maxTagCount: 0,\n        maxTagPlaceholder: placeholderRender,\n        optionFilterProp: \"children\"\n      }, options), React.createElement(_Button, {\n        onClick: onFilter.bind(_assertThisInitialized(_this), condition, selectLineOfBusinesses, confirm),\n        type: \"primary\",\n        style: {\n          margin: '0 8px'\n        }\n      }, \"\\u641C\\u7D22\"), React.createElement(_Button, {\n        onClick: handleReset(condition, clearFilters)\n      }, \"\\u91CD\\u7F6E\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLOBChange\", function (value) {\n      _this.setState({\n        selectLineOfBusinesses: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"Description\", function (_ref2) {\n      var term = _ref2.term,\n          children = _ref2.children;\n      return React.createElement(FlexDisplay, null, React.createElement(DetailCommonP, {\n        style: {\n          color: '#9D9D9D'\n        }\n      }, term), React.createElement(CategoryName, null, children));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"expandedRowRender\", function (record) {\n      return React.createElement(RenderDiv, null, React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flex: 1,\n          flexDirection: 'column'\n        }\n      }, React.createElement(_this2.Description, {\n        term: \"\\u6027\\u522B\\uFF1A\"\n      }, record.gender ? record.gender.name : ''), React.createElement(_this2.Description, {\n        term: \"\\u5408\\u4F5C\\u7C7B\\u578B\\uFF1A\"\n      }, filterData(record.cooperativeModes, 'name').join('、')), React.createElement(_this2.Description, {\n        term: \"\\u4E3B\\u6388\\u8BFE\\u884C\\u4E1A\\uFF1A\"\n      }, record.majorProfession), React.createElement(_this2.Description, {\n        term: \"\\u8F85\\u52A9\\u6388\\u8BFE\\u884C\\u4E1A\\uFF1A\"\n      }, filterData(record.minorProfessions, 'name').join('、')), React.createElement(_this2.Description, {\n        term: \"\\u5BFC\\u5E08\\u81EA\\u6211\\u4ECB\\u7ECD\\uFF1A\"\n      }, record.selfIntroduction)), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flex: 1,\n          flexDirection: 'column'\n        }\n      }, React.createElement(\"div\", null, React.createElement(RateTitle, null, \"\\u914D\\u5408\\u7A0B\\u5EA6\\uFF1A\"), React.createElement(_Rate, {\n        disabled: true,\n        defaultValue: record.cooperativeSkill\n      })), React.createElement(\"div\", null, React.createElement(RateTitle, null, \"\\u8BB2\\u6388\\u8868\\u73B0\\uFF1A\"), React.createElement(_Rate, {\n        disabled: true,\n        defaultValue: record.performanceSkill\n      })), React.createElement(\"div\", null, React.createElement(RateTitle, null, \"\\u4E13\\u4E1A\\u80FD\\u529B\\uFF1A\"), React.createElement(_Rate, {\n        disabled: true,\n        defaultValue: record.professionalSkill\n      })), React.createElement(\"div\", null, React.createElement(RateTitle, null, \"\\u7B80\\u5386\\u70B9\\u8BC4\\uFF1A\"), React.createElement(_Rate, {\n        disabled: true,\n        defaultValue: record.resumeReviewSkill\n      })), React.createElement(\"div\", null, React.createElement(RateTitle, null, \"\\u6848\\u4F8B\\u89E3\\u6790\\uFF1A\"), React.createElement(_Rate, {\n        disabled: true,\n        defaultValue: record.caseAnalysisSkill\n      }))), React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flex: 1\n        }\n      }, React.createElement(_this2.Description, {\n        term: \"\\u5185\\u90E8\\u8BC4\\u4EF7\\uFF1A\"\n      }, record.reviewContent)));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterIcon\", function (icon, filtered) {\n      return React.createElement(_Icon, {\n        type: icon,\n        style: {\n          color: filtered ? '#108ee9' : '#aaa'\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterEnum\", function () {\n      var arr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var result = [];\n      arr.forEach(function (item) {\n        result.push({\n          text: item.name,\n          value: item.name\n        });\n      });\n      return result;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderListItem\", function (key, text) {\n      var isShowAllInfo = _this.props.isShowAllInfo;\n\n      if (['company', 'lobIds', 'jobTitle', 'location'].includes(key) && !isShowAllInfo) {\n        return React.createElement(CategoryName, null, \" - - \");\n      }\n\n      if (key === 'workYear') {\n        return React.createElement(CategoryName, null, text, \"\\u5E74\");\n      }\n\n      return React.createElement(CategoryName, null, text);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderAvatar\", function (v) {\n      return React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        href: v\n      }, React.createElement(_Avatar, {\n        size: 28,\n        icon: \"user\",\n        src: v\n      }));\n    });\n\n    _this.state = {\n      nickNameText: '',\n      searchIdText: '',\n      searchNameText: '',\n      avatarFilterValue: undefined,\n      lineOfBusinesses: null,\n      selectLineOfBusinesses: undefined\n    };\n    return _this;\n  } // 获取业务线数据\n\n\n  _createClass(UserManagement, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          listTutor = _this$props4.listTutor,\n          footer = _this$props4.footer;\n      return React.createElement(_Table, {\n        dataSource: listTutor,\n        pagination: false,\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        locale: {\n          emptyText: '暂无导师，点击右上角按钮开始添加导师'\n        },\n        expandedRowRender: this.expandedRowRender,\n        footer: footer.bind(this, ContentLoad)\n      }, React.createElement(Column, {\n        dataIndex: \"tutorNo\",\n        width: \"13%\",\n        filterDropdown: this.searchDropdown.bind(this, '搜索ID', 'tutorNo'),\n        render: this.renderListItem.bind(this, 'tutorNo'),\n        filterIcon: this.filterIcon.bind(this, 'search'),\n        key: \"tutorNo\",\n        title: \"ID\"\n      }), React.createElement(Column, {\n        dataIndex: \"nickname\",\n        width: \"8%\",\n        filterDropdown: this.searchDropdown.bind(this, '搜索昵称', 'nickname'),\n        render: this.renderListItem.bind(this, 'nickname'),\n        filterIcon: this.filterIcon.bind(this, 'search'),\n        key: \"nickname\",\n        title: React.createElement(TableTitle, null, \"\\u6635\\u79F0\")\n      }), React.createElement(Column, {\n        dataIndex: \"avatar\",\n        width: \"7%\",\n        render: this.renderAvatar,\n        filterDropdown: this.AvatarFilterDropdown.bind(this, 'avatar'),\n        filterIcon: this.filterIcon.bind(this, 'filter'),\n        key: \"avatar\",\n        title: React.createElement(TableTitle, null, \"\\u5934\\u50CF\")\n      }), React.createElement(Column, {\n        dataIndex: \"zhiwenLevel\",\n        width: \"8%\",\n        render: this.renderListItem.bind(this, 'zhiwenLevel'),\n        filterMultiple: false,\n        key: \"zhiwenLevel\",\n        title: React.createElement(TableTitle, null, \"\\u7B49\\u7EA7\")\n      }), React.createElement(Column, {\n        dataIndex: \"workYear\",\n        width: \"8%\",\n        render: this.renderListItem.bind(this, 'workYear'),\n        filterMultiple: false,\n        key: \"workYear\",\n        title: React.createElement(TableTitle, null, \"\\u5168\\u804C\\u5DE5\\u9F84\")\n      }), React.createElement(Column, {\n        width: \"15%\",\n        dataIndex: \"company\",\n        filterDropdown: this.searchDropdown.bind(this, '搜索公司', 'company'),\n        render: this.renderListItem.bind(this, 'company'),\n        filterIcon: this.filterIcon.bind(this, 'search'),\n        key: \"company\",\n        title: React.createElement(TableTitle, null, \"\\u516C\\u53F8\")\n      }), React.createElement(Column, {\n        width: \"13%\",\n        dataIndex: \"lineOfBusiness\",\n        key: \"lineOfBusiness\",\n        filterDropdown: this.LOBFilterDropdown.bind(this, 'lobIds'),\n        render: this.renderListItem.bind(this, 'lobIds'),\n        filterIcon: this.filterIcon.bind(this, 'filter'),\n        title: React.createElement(TableTitle, null, \"\\u4E1A\\u52A1\\u7EBF/\\u9886\\u57DF\")\n      }), React.createElement(Column, {\n        dataIndex: \"jobTitle\",\n        key: \"jobTitle\",\n        title: React.createElement(TableTitle, null, \"\\u804C\\u4F4D\"),\n        width: \"8%\",\n        render: this.renderListItem.bind(this, 'jobTitle'),\n        filterDropdown: this.searchDropdown.bind(this, '搜索职位', 'jobTitle'),\n        filterIcon: this.filterIcon.bind(this, 'search')\n      }), React.createElement(Column, {\n        dataIndex: \"location\",\n        key: \"location\",\n        width: \"10%\",\n        render: this.renderListItem.bind(this, 'location'),\n        filterDropdown: this.searchDropdown.bind(this, '搜索工作地点', 'location'),\n        filterIcon: this.filterIcon.bind(this, 'search'),\n        title: React.createElement(TableTitle, null, \"\\u5DE5\\u4F5C\\u5730\\u70B9\")\n      }), React.createElement(Column, {\n        width: \"10%\",\n        title: React.createElement(TableTitle, null, \"\\u64CD\\u4F5C\"),\n        render: this.renderOperating\n      }));\n    }\n  }]);\n\n  return UserManagement;\n}(React.Component);\n\nexport default UserManagement;\nvar TableTitle = styled.span.withConfig({\n  displayName: \"TutorManagementComponent__TableTitle\",\n  componentId: \"sc-1b91cd1-3\"\n})([\"font-size:14px;\"]);\nvar DropdownDiv = styled.div.withConfig({\n  displayName: \"TutorManagementComponent__DropdownDiv\",\n  componentId: \"sc-1b91cd1-4\"\n})([\"padding:8px;background:#fff;border-radius:6px;box-shadow:0 1px 6px rgba(0,0,0,0.2);\"]);\nvar CategoryName = styled.span.withConfig({\n  displayName: \"TutorManagementComponent__CategoryName\",\n  componentId: \"sc-1b91cd1-5\"\n})([\"overflow:hidden;font-size:14px;text-overflow:ellipsis;word-break:break-all;\"]);\nvar ContentLoad = styled.div.withConfig({\n  displayName: \"TutorManagementComponent__ContentLoad\",\n  componentId: \"sc-1b91cd1-6\"\n})([\"display:flex;align-items:flex-start;justify-content:center;\"]);\nvar RenderDiv = styled.div.withConfig({\n  displayName: \"TutorManagementComponent__RenderDiv\",\n  componentId: \"sc-1b91cd1-7\"\n})([\"display:flex;justify-content:space-between;\"]);\nvar RateTitle = styled.p.withConfig({\n  displayName: \"TutorManagementComponent__RateTitle\",\n  componentId: \"sc-1b91cd1-8\"\n})([\"display:inline-block;width:160px;font-size:14px;color:#c3c3c3;text-align:right;\"]);","map":null,"metadata":{},"sourceType":"module"}
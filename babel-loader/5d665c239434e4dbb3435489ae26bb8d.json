{"ast":null,"code":"import \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/breadcrumb/style\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { utc2Asia, yyyymmdd } from '../../../../lib/date';\nvar TitleBoard = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__TitleBoard\",\n  componentId: \"sc-1y7rpeg-0\"\n})([\"padding:2px;background-color:#fff;\"]);\nvar FormattedRow = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__FormattedRow\",\n  componentId: \"sc-1y7rpeg-1\"\n})([\"display:flex;justify-content:space-between;padding:0 30px;margin:14px;\"]);\nvar TestRow = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__TestRow\",\n  componentId: \"sc-1y7rpeg-2\"\n})([\"justify-content:space-between;padding:0 30px;margin:14px;\"]);\nvar RichTextDiv = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__RichTextDiv\",\n  componentId: \"sc-1y7rpeg-3\"\n})([\"display:inline-block;width:85%;min-height:100px;padding:16px;background:rgba(0,0,0,0.05);border-radius:4px;& img{max-width:100%;}\"]);\nvar ContentImgDiv = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__ContentImgDiv\",\n  componentId: \"sc-1y7rpeg-4\"\n})([\"position:relative;display:inline-block;background-position:top left;background-repeat:no-repeat;background-size:cover;\"]);\nvar RowTitle = styled.div.withConfig({\n  displayName: \"SubscriptionCourseSeriesDetailContent__RowTitle\",\n  componentId: \"sc-1y7rpeg-5\"\n})([\"display:inline-block;width:100px;color:#d8d8d8;vertical-align:top;\"]);\nvar confirm = _Modal.confirm;\n\nvar SubscriptionCourseSeriesDetailContent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubscriptionCourseSeriesDetailContent, _React$Component);\n\n  function SubscriptionCourseSeriesDetailContent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SubscriptionCourseSeriesDetailContent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SubscriptionCourseSeriesDetailContent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      hideInfo: true,\n      toggleLabel: '展开更多信息'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleInfo\", function () {\n      _this.setState({\n        hideInfo: !_this.state.hideInfo,\n        toggleLabel: _this.state.toggleLabel === '展开更多信息' ? '收起更多信息' : '展开更多信息'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showConfirm\", function (action, record) {\n      if (action === '上线') {\n        confirm({\n          cancelText: '取消',\n          centered: true,\n          icon: React.createElement(_Icon, {\n            type: \"question-circle\",\n            theme: \"filled\"\n          }),\n          okText: '确认上线',\n          okType: 'primary',\n          onOk: _this.props.enableMutation.bind(_assertThisInitialized(_this), record.id),\n          title: \"\\u786E\\u8BA4\\u4E0A\\u7EBF\\u6B64\\u5468\\u671F\\u5417\\uFF1F\"\n        });\n      } else if (action === '下线') {\n        confirm({\n          cancelText: '取消',\n          centered: true,\n          content: React.createElement(\"div\", {\n            style: {\n              fontSize: '13px'\n            }\n          }, React.createElement(\"p\", null, \"\\u5F53\\u524D\\u5468\\u671F\\u6B63\\u751F\\u6548\\uFF0C\\u5982\\u679C\\u7EE7\\u7EED\\u6267\\u884C\\u505C\\u6B62\\u64CD\\u4F5C\\uFF0C\\u8BE5\\u8BFE\\u7A0B\\u4EA7\\u54C1\\u5C06\\u540C\\u65F6\\u88AB\\u6267\\u884C\\u4E0B\\u7EBF\\u64CD\\u4F5C\\u3002\\u6CE8\\u610F\\uFF0C\\u4E0B\\u6B21\\u542F\\u7528\\u6B64\\u8BFE\\u7A0B\\u5468\\u671F\\u65F6\\uFF0C\\u9700\\u8981\\u624B\\u52A8\\u6267\\u884C\\u8BFE\\u7A0B\\u4E0A\\u7EBF\\u64CD\\u4F5C\\u3002\"), React.createElement(\"p\", null, \"\\u4E0B\\u7EBF\\u6B64\\u8BFE\\u7A0B\\u5468\\u671F\\u540E\\uFF1A\"), React.createElement(\"p\", null, \"1\\u3001\\u672A\\u8BA2\\u9605\\u7684\\u7528\\u6237\\u5C06\\u65E0\\u6CD5\\u770B\\u5230\\u6B64\\u8BFE\\u7A0B\\u5468\\u671F\\uFF0C\\u8BE5\\u64CD\\u4F5C\\u53EF\\u80FD\\u5BFC\\u81F4\\u8BFE\\u7A0B\\u88AB\\u4E0B\\u67B6\\uFF1B\"), React.createElement(\"p\", null, \"2\\u3001\\u5DF2\\u8BA2\\u9605\\u7684\\u7528\\u6237\\u5C06\\u80FD\\u7EE7\\u7EED\\u8BBF\\u95EE\\u76F8\\u5173\\u8BFE\\u7A0B\\u6570\\u636E\\uFF1B\"), React.createElement(\"p\", null, \"3\\u3001\\u4E0B\\u7EBF\\u540E\\u8BE5\\u5468\\u671F\\u53EF\\u518D\\u6B21\\u4E0A\\u7EBF\\uFF1B\"), React.createElement(\"p\", null, \"4\\u3001\\u8BE5\\u5468\\u671F\\u5360\\u7528\\u7684\\u65F6\\u95F4\\u6BB5\\u5C06\\u4F9D\\u7136\\u6709\\u6548\\uFF08\\u65B0\\u7684\\u8BFE\\u7A0B\\u5468\\u671F\\u65E0\\u6CD5\\u88AB\\u8BBE\\u7F6E\\u5230\\u8BE5\\u65F6\\u6BB5\\uFF09\\u3002\")),\n          icon: React.createElement(_Icon, {\n            type: \"question-circle\",\n            theme: \"filled\"\n          }),\n          okText: '确认下线',\n          okType: 'primary',\n          onOk: _this.props.disableMutation.bind(_assertThisInitialized(_this), record.id),\n          title: \"\\u786E\\u8BA4\\u4E0B\\u7EBF\\u6B64\\u8BFE\\u7A0B\\u5468\\u671F\\u5417\\uFF1F\"\n        });\n      } else if (action === '移除') {\n        confirm({\n          cancelText: '取消',\n          centered: true,\n          content: React.createElement(\"div\", {\n            style: {\n              fontSize: '13px'\n            }\n          }, React.createElement(\"p\", null, \"\\u79FB\\u9664\\u6B64\\u5468\\u671F\\u540E\\uFF0CMIS \\u7CFB\\u7EDF\\u5185\\u7528\\u6237\\u65E0\\u6CD5\\u67E5\\u770B\\u5230\\u5468\\u671F\\u3002\")),\n          icon: React.createElement(_Icon, {\n            type: \"question-circle\",\n            theme: \"filled\"\n          }),\n          okText: '确认移除',\n          okType: 'danger',\n          onOk: _this.props.removeMutation.bind(_assertThisInitialized(_this), record.id),\n          title: \"\\u786E\\u8BA4\\u79FB\\u9664\\u6B64\\u5468\\u671F\\u5417\\uFF1F\"\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"switchPage\", function (data, page) {\n      var key = data.key,\n          duration = data.duration,\n          subscribersAmount = data.subscribersAmount,\n          chaptersAmount = data.chaptersAmount,\n          operation = data.operation,\n          status = data.status,\n          fillData = _objectWithoutProperties(data, [\"key\", \"duration\", \"subscribersAmount\", \"chaptersAmount\", \"operation\", \"status\"]);\n\n      fillData.courseProductId = data.courseProduct.id;\n\n      _this.props.setCurrentSeries(fillData);\n\n      _this.props.switchPage(page);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"render\", function () {\n      var data = _this.props.data.getSubscriptionCourseSeriesById;\n      var FlexStartStyle = {\n        display: 'flex',\n        justifyContent: 'flex-start'\n      };\n      return React.createElement(TitleBoard, null, React.createElement(FormattedRow, null, React.createElement(_Col, {\n        span: 24\n      }, React.createElement(_Breadcrumb, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(_Breadcrumb.Item, null, React.createElement(Link, {\n        href: \"/subscription-course-management\"\n      }, React.createElement(\"a\", null, \"\\u8BFE\\u7A0B\\u7BA1\\u7406\"))), React.createElement(_Breadcrumb.Item, null, React.createElement(Link, {\n        href: \"/subscription-course-detail/\".concat(Router.router.query.subCourseId)\n      }, React.createElement(\"a\", null, \"\\u8BFE\\u7A0B\\u8BE6\\u60C5\"))), React.createElement(_Breadcrumb.Item, null, React.createElement(\"span\", null, \"\\u5468\\u671F\\u8BE6\\u60C5\"))))), React.createElement(FormattedRow, null, React.createElement(\"div\", {\n        style: FlexStartStyle\n      }, React.createElement(\"div\", {\n        style: {\n          marginRight: '12px',\n          verticalAlign: 'top'\n        }\n      }, React.createElement(ContentImgDiv, {\n        style: {\n          backgroundImage: \"url(\".concat(data.pictureUrl, \")\"),\n          backgroundPosition: 'center',\n          width: '200px',\n          height: '104px'\n        }\n      })), React.createElement(\"div\", null, React.createElement(\"div\", {\n        style: FlexStartStyle\n      }, React.createElement(\"div\", {\n        style: {\n          fontWeight: 'bold',\n          paddingRight: '10px',\n          wordBreak: 'break-word'\n        }\n      }, data.name), React.createElement(\"div\", {\n        style: {\n          flexShrink: 0\n        }\n      }, React.createElement(_Badge, {\n        status: /未[^\\x00-\\x7F]+/.test(data.status.name) ? 'warning' : data.status.name === '生效中' ? 'success' : /[^\\x00-\\x7F]*已下线/.test(data.status.name) ? 'default' : 'error'\n      }), React.createElement(\"span\", {\n        style: {\n          fontSize: '12px'\n        }\n      }, data.status.name))), React.createElement(\"div\", {\n        style: {\n          fontSize: '12px',\n          marginTop: '12px'\n        }\n      }, React.createElement(\"div\", null, React.createElement(\"span\", {\n        style: {\n          color: '#D8D8D8'\n        }\n      }, \"\\u6709\\u6548\\u671F\\u95F4\\uFF1A\"), React.createElement(\"span\", null, yyyymmdd(utc2Asia(data.startAt), 'YYYY/MM/DD'), \" ~\", ' ', yyyymmdd(utc2Asia(data.endAt), 'YYYY/MM/DD'))), React.createElement(\"div\", {\n        style: FlexStartStyle\n      }, React.createElement(\"div\", {\n        style: {\n          color: '#D8D8D8',\n          verticalAlign: 'top',\n          flexShrink: 0,\n          marginTop: '12px'\n        }\n      }, \"\\u8BFE\\u7A0B\\u4EAE\\u70B9\\uFF1A\"), React.createElement(\"div\", {\n        style: {\n          marginTop: '12px'\n        }\n      }, data.courseHighlights ? data.courseHighlights.split('\\n').map(function (line, index) {\n        return React.createElement(\"span\", {\n          key: index\n        }, line, React.createElement(\"br\", null));\n      }) : null))))), React.createElement(\"div\", {\n        style: {\n          flexShrink: 0,\n          textAlign: 'right'\n        }\n      }, React.createElement(_Button, {\n        type: \"default\",\n        style: {\n          marginLeft: '12px'\n        },\n        onClick: _this.switchPage.bind(_assertThisInitialized(_this), data, 'series-edit')\n      }, \"\\u7F16\\u8F91\"), React.createElement(_Button, {\n        type: \"default\",\n        style: {\n          marginLeft: '12px'\n        },\n        onClick: _this.switchPage.bind(_assertThisInitialized(_this), data, 'series-dupli')\n      }, \"\\u590D\\u5236\\u5E76\\u521B\\u5EFA\\u5468\\u671F\"), data.status.name === '生效中' ? React.createElement(_Button, {\n        type: \"default\",\n        onClick: _this.showConfirm.bind(_assertThisInitialized(_this), '下线', data),\n        style: {\n          marginLeft: '13px'\n        }\n      }, \"\\u4E0B\\u7EBF\") : data.status.name === '当期-已下线' ? React.createElement(_Button, {\n        type: \"default\",\n        onClick: _this.showConfirm.bind(_assertThisInitialized(_this), '上线', data),\n        style: {\n          marginLeft: '12px'\n        }\n      }, \"\\u4E0A\\u7EBF\") : null, React.createElement(_Button, {\n        type: \"danger\",\n        onClick: _this.showConfirm.bind(_assertThisInitialized(_this), '移除', data),\n        style: {\n          marginLeft: '12px'\n        }\n      }, \"\\u79FB\\u9664\"), React.createElement(\"div\", {\n        style: {\n          textAlign: 'right',\n          paddingTop: '20px'\n        }\n      }, React.createElement(\"h1\", null, data.records.length), React.createElement(\"p\", null, \"\\u8BA2\\u9605\\u6570\")))), React.createElement(\"div\", {\n        hidden: _this.state.hideInfo\n      }, React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u8BFE\\u7A0B\\u5185\\u5BB9\\u56FE\\uFF1A\"), React.createElement(ContentImgDiv, {\n        style: {\n          backgroundImage: \"url(\".concat(data.courseContentPicUrl, \")\"),\n          backgroundPosition: 'center',\n          width: '180px',\n          height: '240px'\n        }\n      })), React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u8BFE\\u7A0B\\u4ECB\\u7ECD\\u89C6\\u9891\\uFF1A\"), React.createElement(\"div\", {\n        style: {\n          display: 'inline-block'\n        }\n      }, data.videoUrl ? data.videoUrl.map(function (v) {\n        return React.createElement(\"span\", {\n          key: v.id,\n          style: {\n            marginRight: '4px'\n          }\n        }, v.filename);\n      }) : null)), React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u8BFE\\u7A0B\\u8BE6\\u7EC6\\u4ECB\\u7ECD\\uFF1A\"), React.createElement(RichTextDiv, {\n        dangerouslySetInnerHTML: {\n          __html: data.description\n        }\n      })), React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u9002\\u5408\\u4EBA\\u7FA4\\uFF1A\"), React.createElement(RichTextDiv, {\n        dangerouslySetInnerHTML: {\n          __html: data.suitableCrowd\n        }\n      })), React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u5BFC\\u5E08\\u56E2\\u961F\\u4ECB\\u7ECD\\uFF1A\"), React.createElement(RichTextDiv, {\n        dangerouslySetInnerHTML: {\n          __html: data.tutorIntroduction\n        }\n      })), data.questionBank ? React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u5957\\u9898\\uFF1A\"), React.createElement(\"a\", {\n        href: \"/question-bank/detail/\".concat(data.questionBank.id)\n      }, data.questionBank.name)) : null, React.createElement(TestRow, {\n        style: {\n          fontSize: '12px'\n        }\n      }, React.createElement(RowTitle, null, \"\\u6807\\u7B7E\\uFF1A\"), React.createElement(\"span\", null, data.tags.map(function (tag, _) {\n        return React.createElement(_Tag, {\n          key: tag.id\n        }, tag.name);\n      })))), React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          margin: '14px',\n          padding: '0 30px'\n        }\n      }, React.createElement(\"a\", {\n        onClick: _this.toggleInfo\n      }, _this.state.toggleLabel, React.createElement(_Icon, {\n        type: _this.state.hideInfo ? 'down' : 'up'\n      }))));\n    });\n\n    return _this;\n  }\n\n  return SubscriptionCourseSeriesDetailContent;\n}(React.Component);\n\nexport { SubscriptionCourseSeriesDetailContent };","map":null,"metadata":{},"sourceType":"module"}
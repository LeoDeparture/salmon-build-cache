{"ast":null,"code":"import \"antd/lib/config-provider/style\";\nimport _ConfigProvider from \"antd/lib/config-provider\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { format } from 'date-fns';\nimport Router from 'next/router';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport EmptyComponents from '../../../../../components/Empty';\nimport TableOperation from '../../../../../components/Table/TableOperation';\nimport StatusBadge from '../../../components/StatusBadge';\nimport { formatDict } from '../../SubscriptionSection';\n\nvar SectionTableList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SectionTableList, _Component);\n\n  function SectionTableList(props) {\n    var _this;\n\n    _classCallCheck(this, SectionTableList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SectionTableList).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"changeLoading\", function (loading) {\n      _this.setState({\n        loading: loading\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toDetailPage\", function (id) {\n      var courseId = Router.query.courseId;\n      var seriesId = Router.query.seriesId;\n      var chapterId = Router.query.id;\n      Router.push(\"/skill-course/section-detail/\".concat(id, \"/\").concat(chapterId, \"/\").concat(seriesId, \"/\").concat(courseId));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTableChange\", function (_pagination, _filters, sorter) {\n      _this.props.onChangeSorter(sorter);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"formatOperations\", function (record) {\n      var id = record.id,\n          status = record.status;\n      var _this$props = _this.props,\n          deleteSection = _this$props.deleteSection,\n          onlineSection = _this$props.onlineSection,\n          offlineSection = _this$props.offlineSection;\n      var isOnline = status.key === 'ONLINE';\n      return [{\n        title: '查看详情',\n        onClick: _this.toDetailPage.bind(_assertThisInitialized(_this), id)\n      }, {\n        title: '编辑',\n        onClick: _this.onClickEdit.bind(_assertThisInitialized(_this), id)\n      }, {\n        render: isOnline ? offlineSection.bind(_assertThisInitialized(_this), id) : onlineSection.bind(_assertThisInitialized(_this), id)\n      }, {\n        render: deleteSection.bind(_assertThisInitialized(_this), id)\n      }];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickEdit\", function (id) {\n      Router.push(\"/skill-course/create-section/edit/\".concat(id));\n    });\n\n    _this.state = {\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(SectionTableList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          tableData = _this$props2.tableData,\n          footer = _this$props2.footer;\n      var dataSource = tableData;\n      var columns = [{\n        title: '小节名称',\n        dataIndex: 'name',\n        key: 'name',\n        width: '23.3%',\n        ellipsis: true\n      }, {\n        title: '类型',\n        dataIndex: 'mediaFileDescription',\n        key: 'mediaFileDescription',\n        width: '11.8%',\n        render: function render(v) {\n          return v.map(function (mfd) {\n            return formatDict[mfd.file.format];\n          });\n        }\n      }, {\n        title: '导师',\n        dataIndex: 'tutorDescriptions',\n        key: 'tutorDescriptions',\n        width: '12.8%',\n        render: function render(v) {\n          return !!v.length ? v.map(function (value) {\n            return value.tutor.nickname;\n          }) : '- -';\n        }\n      }, {\n        title: '状态',\n        dataIndex: 'status',\n        key: 'status',\n        width: '14.7%',\n        render: function render(v) {\n          return React.createElement(StatusBadge, {\n            currentStatus: v\n          });\n        }\n      }, {\n        title: '创建时间',\n        dataIndex: 'createdAt',\n        key: 'createdAt',\n        width: '16.8%',\n        sorter: true,\n        render: function render(v) {\n          return format(v, 'YYYY/MM/DD HH:mm');\n        }\n      }, {\n        title: '操作',\n        key: 'operation',\n        width: '22.8%',\n        render: function render(_value, record) {\n          return React.createElement(TableOperation, {\n            operations: _this2.formatOperations(record)\n          });\n        }\n      }];\n\n      var Empty = function Empty() {\n        return React.createElement(EmptyComponents, null);\n      };\n\n      return React.createElement(React.Fragment, null, React.createElement(_ConfigProvider, {\n        renderEmpty: Empty\n      }, React.createElement(TableWrapper, null, React.createElement(_Table, {\n        dataSource: dataSource,\n        columns: columns,\n        pagination: false,\n        footer: footer,\n        onChange: this.onTableChange,\n        loading: this.state.loading\n      }))));\n    }\n  }]);\n\n  return SectionTableList;\n}(Component);\n\nexport { SectionTableList as default };\nvar TableWrapper = styled.div.withConfig({\n  displayName: \"SectionTableList__TableWrapper\",\n  componentId: \"hqskl7-0\"\n})([\"width:100%;margin-top:24px;\"]);","map":null,"metadata":{},"sourceType":"module"}
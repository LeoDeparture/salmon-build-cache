{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { MutationRejectOrder } from '../../containers/MutationRejectOrder';\nvar TextArea = _Input.TextArea;\n\nvar RejectModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RejectModal, _Component);\n\n  function RejectModal(props) {\n    var _this;\n\n    _classCallCheck(this, RejectModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RejectModal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"switchPop\", function () {\n      _this.setState(function (state) {\n        return {\n          visible: !state.visible\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeReason\", function (e) {\n      _this.setState({\n        rejectReason: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOk\", function () {\n      var _this$props = _this.props,\n          orderId = _this$props.orderId,\n          serviceTicketId = _this$props.serviceTicketId;\n      var rejectReason = _this.state.rejectReason;\n\n      _this.setState({\n        loading: true\n      });\n\n      _this.props.client.mutate({\n        mutation: MutationRejectOrder,\n        variables: {\n          input: {\n            id: orderId,\n            serviceTicketId: serviceTicketId,\n            rejectReason: rejectReason\n          }\n        }\n      }).then(function (result) {\n        if (result) {\n          _message.success('已拒绝通过');\n\n          _this.switchPop();\n        }\n      }).finally(function () {\n        _this.setState({\n          loading: false\n        });\n      });\n    });\n\n    _this.state = {\n      visible: false,\n      loading: false,\n      rejectReason: ''\n    };\n    return _this;\n  }\n\n  _createClass(RejectModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onRef(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          visible = _this$state.visible,\n          loading = _this$state.loading,\n          rejectReason = _this$state.rejectReason;\n      return React.createElement(React.Fragment, null, React.createElement(_Modal, {\n        title: \"\\u62D2\\u7EDD\\u539F\\u56E0\",\n        visible: visible,\n        closable: false,\n        maskClosable: false,\n        okButtonProps: {\n          loading: loading,\n          disabled: !rejectReason,\n          type: 'ghost',\n          style: {\n            color: '#FF5230'\n          }\n        },\n        width: 360,\n        onOk: this.handleOk,\n        onCancel: this.switchPop,\n        okText: \"\\u62D2\\u7EDD\",\n        cancelText: \"\\u53D6\\u6D88\"\n      }, React.createElement(ModalContent, null, React.createElement(TextArea, {\n        onChange: this.onChangeReason,\n        autoFocus: true\n      }))));\n    }\n  }]);\n\n  return RejectModal;\n}(Component);\n\nexport { RejectModal as default };\nvar ModalContent = styled.div.withConfig({\n  displayName: \"RejectModal__ModalContent\",\n  componentId: \"mioepb-0\"\n})([\"padding:24px;margin-bottom:28px;\"]);","map":null,"metadata":{},"sourceType":"module"}
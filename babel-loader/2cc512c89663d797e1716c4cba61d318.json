{"ast":null,"code":"import \"antd/lib/badge/style\";\nimport _Badge from \"antd/lib/badge\";\nimport \"antd/lib/icon/style\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nimport React from 'react';\nimport styled from 'styled-components';\nvar Content = _Layout.Content;\n\nvar CreditTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CreditTable, _React$Component);\n\n  function CreditTable(props) {\n    var _this;\n\n    _classCallCheck(this, CreditTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreditTable).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickHint\", function () {\n      _Modal.warning({\n        icon: React.createElement(_Icon, {\n          type: \"exclamation-circle\",\n          theme: \"filled\"\n        }),\n        title: '额度说明',\n        content: React.createElement(React.Fragment, null, React.createElement(\"p\", null, \"\\u8BA2\\u9605\\u8BFE\\u7A0B\\u7684\\u89C4\\u5212\\u6570\\u91CF\\u4E0D\\u80FD\\u5927\\u4E8E\\u5B66\\u5458\\u5DF2\\u8D2D\\u4E70\\u7684\\u989D\\u5EA6\\uFF0C\\u7CFB\\u7EDF\\u5728\\u751F\\u6210\\u6216\\u53D1\\u5E03\\u5B66\\u4E60\\u8BA1\\u5212\\u65F6\\u4F1A\\u7ACB\\u5373\\u4F7F\\u7528\\u5BF9\\u5E94\\u7684\\u989D\\u5EA6\\u3002\"), React.createElement(\"p\", null, \"1\\u5BF91\\u8F85\\u5BFC\\uFF0C\\u5C0F\\u73ED\\u8BFE\\u8F85\\u5BFC\\u7684\\u89C4\\u5212\\u6570\\u91CF\\u7CFB\\u7EDF\\u4E0D\\u505A\\u63A7\\u5236\\uFF0C\\u53EA\\u6709\\u5728\\u5B66\\u5458\\u6839\\u636E\\u89C4\\u5212\\u9884\\u7EA6\\u8BFE\\u7A0B\\u65F6\\u6D88\\u8017\\u5BF9\\u5E94\\u7684\\u989D\\u5EA6\\u3002\"), React.createElement(\"p\", null, \"\\u26A0\\uFE0F \\u6CE8\\u610F\\uFF1A\\u7CFB\\u7EDF\\u867D\\u672A\\u9650\\u5236\\u8F85\\u5BFC\\u7C7B\\u8BFE\\u7A0B\\u89C4\\u5212\\u7684\\u6570\\u91CF\\uFF0C\\u4F46\\u8BF7\\u5C3D\\u53EF\\u80FD\\u907F\\u514D\\u8D85\\u989D\\u89C4\\u5212\\u7684\\u60C5\\u51B5\\u3002\\u5B66\\u5458\\u5728\\u6D88\\u8017\\u5B8C\\u5BF9\\u5E94\\u7684\\u989D\\u5EA6\\u540E\\uFF0C\\u5C06\\u65E0\\u6CD5\\u9884\\u7EA6\\u8D85\\u989D\\u89C4\\u5212\\u90E8\\u5206\\u7684\\u8F85\\u5BFC\\u8BFE\\u7A0B\\u3002\")),\n        okText: '我知道了',\n        autoFocusButton: null\n      });\n    });\n\n    _this.state = {\n      exceeded: false,\n      badgeColor: ''\n    };\n    return _this;\n  }\n\n  _createClass(CreditTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          creditAmount = _this$props.creditAmount,\n          plannedAmount = _this$props.plannedAmount;\n      var exceeded = 0;\n      var badgeColor;\n      var subscriptionExceed = false;\n      plannedAmount.forEach(function (v, i) {\n        var diff = creditAmount[i] - v;\n\n        if (diff < 0) {\n          // 如果订阅课额度不够\n          if (i === 2) {\n            subscriptionExceed = true;\n          }\n\n          exceeded++;\n          badgeColor = i === 2 ? 'red' : 'orange';\n        }\n      });\n      this.setState({\n        exceeded: exceeded > 0,\n        badgeColor: badgeColor\n      });\n      this.props.saveCreditStatus(exceeded > 0, subscriptionExceed);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          creditAmount = _this$props2.creditAmount,\n          plannedAmount = _this$props2.plannedAmount;\n      var _this$state = this.state,\n          exceeded = _this$state.exceeded,\n          badgeColor = _this$state.badgeColor;\n      return React.createElement(Wrapper, null, React.createElement(Title, null, \"\\u989D\\u5EA6\\u60C5\\u51B5\", exceeded && React.createElement(HintWrapper, {\n        onClick: this.onClickHint\n      }, React.createElement(_Badge, {\n        style: BadgeStyle,\n        color: badgeColor,\n        text: \"\\u5B66\\u5458\\u989D\\u5EA6\\u4E0D\\u591F\"\n      }), React.createElement(_Icon, {\n        style: InfoIconStyle,\n        type: \"info-circle\"\n      }))), React.createElement(Inner, null, React.createElement(Row, null, React.createElement(WidthCell, null, \"\\u3000\"), React.createElement(Cell, null, \"1\\u5BF91\\u8F85\\u5BFC\"), React.createElement(Cell, null, \"\\u5C0F\\u73ED\\u8BFE\"), React.createElement(Cell, null, \"\\u8BA2\\u9605\\u8BFE\")), React.createElement(Row, null, React.createElement(WidthCell, null, \"\\u5B66\\u5458\\u5DF2\\u8D2D\\u4E70\\u989D\\u5EA6\"), creditAmount.map(function (v, i) {\n        return React.createElement(Cell, {\n          key: 'creditAmount' + i\n        }, v);\n      })), React.createElement(Row, null, React.createElement(WidthCell, null, \"\\u5F53\\u524D\\u5DF2\\u89C4\\u5212\\u989D\\u5EA6\"), plannedAmount.map(function (v, i) {\n        var diff = creditAmount[i] - v;\n        var color;\n\n        if (diff < 0) {\n          color = i === 2 ? 'red' : 'orange';\n        }\n\n        return React.createElement(Cell, {\n          style: {\n            color: color\n          },\n          key: 'creditAmount' + i\n        }, v);\n      })), React.createElement(Row, null, React.createElement(WidthCell, null, \"\\u5269\\u4F59\\u53EF\\u4F7F\\u7528\\u989D\\u5EA6\"), plannedAmount.map(function (v, i) {\n        var diff = creditAmount[i] - v;\n        var color;\n\n        if (diff < 0) {\n          color = i === 2 ? 'red' : 'orange';\n        }\n\n        return React.createElement(Cell, {\n          style: {\n            color: color\n          },\n          key: 'creditAmount' + i\n        }, creditAmount[i] - v < 0 ? 0 : creditAmount[i] - v);\n      }))));\n    }\n  }]);\n\n  return CreditTable;\n}(React.Component);\n\nexport default CreditTable;\nvar Wrapper = styled(Content).withConfig({\n  displayName: \"CreditTable__Wrapper\",\n  componentId: \"hfyfky-0\"\n})([\"position:relative;\"]);\nvar Inner = styled.div.withConfig({\n  displayName: \"CreditTable__Inner\",\n  componentId: \"hfyfky-1\"\n})([\"float:right;margin-top:10px;color:rgba(0,0,0,0.65);\"]);\nvar Title = styled.div.withConfig({\n  displayName: \"CreditTable__Title\",\n  componentId: \"hfyfky-2\"\n})([\"float:left;font-size:16px;line-height:24px;color:rgba(0,0,0,0.85);\"]);\nvar HintWrapper = styled.div.withConfig({\n  displayName: \"CreditTable__HintWrapper\",\n  componentId: \"hfyfky-3\"\n})([\"display:inline-block;\"]);\nvar Row = styled.div.withConfig({\n  displayName: \"CreditTable__Row\",\n  componentId: \"hfyfky-4\"\n})([\"margin-bottom:8;\"]);\nvar Cell = styled.p.withConfig({\n  displayName: \"CreditTable__Cell\",\n  componentId: \"hfyfky-5\"\n})([\"display:inline-block;width:80px;margin-bottom:0;margin-left:10px;text-align:right;\"]);\nvar WidthCell = styled(Cell).withConfig({\n  displayName: \"CreditTable__WidthCell\",\n  componentId: \"hfyfky-6\"\n})([\"width:132px;\"]);\nvar InfoIconStyle = {\n  fontSize: '10px',\n  color: '#aeaeae',\n  position: 'relative',\n  top: '-2px',\n  right: '-5px',\n  lineHeight: '16px'\n};\nvar BadgeStyle = {\n  marginLeft: '12px',\n  cursor: 'pointer'\n};","map":null,"metadata":{},"sourceType":"module"}